---
title: "Curso R: Programação em R (Nível Intermediário)"
subtitle: "Aula 55 - Programação funcional: Avaliação preguiçosa dos argumentos de uma função"
author: "Ben Dêivide"
bibliography: biblio.bib
date: "`r format(Sys.time(), '%d %B, %Y')`"
output: 
  ioslides_presentation: 
    smaller: yes
    transition: slower
    logo: logo2.png
    css: style-cursor-ni2.css
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
# Links
rlink <- "[R](http://r-project.org/){target='_blank'}"
rstudio <- "[RStudio](http://rstudio.org/){target='_blank'}"
cran <- "[CRAN](http://cran.r-project.org/){target='_blank'}"
github <- "[GitHub](http://github.com/){target='_blank'}"
```


<!--
YAML:
date: "`r format(Sys.time(), '%d %B, %Y')`"
=====
APRESENTACAO:

Inserir nas secoes:
{data-background=boards.jpg data-background-size=cover}
-->


## Selo DC

<center>
[![](SeloDC-preto.png){height=300 width=300}](https://bendeivide.github.io/dc/){target="_blank"}
</center>

## Argumentos de uma função

Os argumentos em uma função são um tipo de objeto chamado `pairlist`, isto é,

```{r echo=TRUE, include=TRUE}
# Funcao f
f <- function(x) 1
# Tipo de objeto do argumento x
typeof(formals(f))
```

## Avaliação preguiçosa dos argumentos

```{r echo=TRUE, include=TRUE}
f2 <- function(x = aux()) 10; f2()
```

## Outras características

- Por consequência da avaliação preguiçosa:

```{r echo=TRUE, include=TRUE}
f3 <- function(a = 4, b = a + 2, c = x * y) {
  x <- 10
  y <- 100
  list(a = a, # 4
       b = b, # a + 2
       c = c) # x * y
}
f3()
```

## Diferenças entre "<-" e "="

```{r echo=TRUE, include=TRUE, error=TRUE}
y <- x = 4
```

## Entendendo semanticamente a diferença: "<-" e "="

```{r}
rm(list = ls(all.names = TRUE))
```

```{r echo=TRUE, include=TRUE, collapse=TRUE}
# Funcao teste
teste <- function(x = ls()) {
  obj_ae <- "Objeto_interno"
  x
}
# ls() avaliado dentro de teste():
teste()
# ls() avaliado no ambiente de chamada:
teste(ls())
teste2 <- function(){
  obj_teste2_1 <- "primeiro"
  obj_teste2_2 <- "segundo"
  obj_teste2_3 <- "terceiro"
  teste(ls())
}
teste2()
```

## Entendendo semanticamente a diferença: "<-" e "="

```{r}
rm(list = ls(all.names = TRUE))
# Funcao teste
teste <- function(x = ls()) {
  obj_ae <- "Objeto_interno"
  x
}
```

```{r echo=TRUE, include=TRUE, collapse=TRUE}
# Objeto x avaliado no ambiente global
teste((x <- ls()))
teste((x <- ls()))
```

## Resultado do argumento padrão ou do usuário?

```{r echo=TRUE, include=TRUE, collapse=TRUE}
teste <- function(arg = 5) {
  list("argumento padrão?" = missing(arg), valor = arg)
}
# Teste 1
teste()
# Teste 2
teste(4)
```

## Bons estudos!

<center>
[![](logo2.png){height=500 width=500}](https://bendeivide.github.io/courses/cursor/){target="_blank"}
</center>

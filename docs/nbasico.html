<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
  <title>Curso R: Programação em R (Nível Básico)</title>

  <meta property="description" itemprop="description" content="Esse módulo terá o objetivo de apresentar de forma introdutória a **sintaxe** e **semântica** da linguagem `R`, enfatizando definições importantíssimas para a linguagem como **objeto**, **função** e **pacote**, como também outras definições."/>

  <link rel="icon" type="image/png" href="images/favicon.png"/>


  <!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
  <meta property="og:title" content="Curso R: Programação em R (Nível Básico)"/>
  <meta property="og:type" content="article"/>
  <meta property="og:description" content="Esse módulo terá o objetivo de apresentar de forma introdutória a **sintaxe** e **semântica** da linguagem `R`, enfatizando definições importantíssimas para a linguagem como **objeto**, **função** e **pacote**, como também outras definições."/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:site_name" content="Curso R"/>

  <!--  https://dev.twitter.com/cards/types/summary -->
  <meta property="twitter:card" content="summary"/>
  <meta property="twitter:title" content="Curso R: Programação em R (Nível Básico)"/>
  <meta property="twitter:description" content="Esse módulo terá o objetivo de apresentar de forma introdutória a **sintaxe** e **semântica** da linguagem `R`, enfatizando definições importantíssimas para a linguagem como **objeto**, **função** e **pacote**, como também outras definições."/>
  <meta property="twitter:site" content="@bendeivide"/>

  <!--/radix_placeholder_meta_tags-->
  
  <meta name="citation_reference" content="citation_title=R for beginners;citation_publication_date=2005;citation_author=Emmanuel Paradis"/>
  <meta name="citation_reference" content="citation_title=Advanced R;citation_publication_date=2019;citation_publisher=Chapman; Hall/CRC;citation_author=Hadley Wickham"/>
  <meta name="citation_reference" content="citation_title=Extending R;citation_publication_date=2016;citation_publisher=Chapman; Hall/CRC;citation_author=John M. Chambers"/>
  <meta name="citation_reference" content="citation_title=Advanced R;citation_publication_date=2019;citation_publisher=Chapman; Hall/CRC;citation_author=Hadley Wickham"/>
  <!--radix_placeholder_rmarkdown_metadata-->

  <script type="text/json" id="radix-rmarkdown-metadata">
  {"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","bibliography","link-citations"]}},"value":[{"type":"character","attributes":{},"value":["Programação em R (Nível Básico)"]},{"type":"character","attributes":{},"value":["Esse módulo terá o objetivo de apresentar de forma introdutória a **sintaxe** e **semântica** da linguagem `R`, enfatizando definições importantíssimas para a linguagem como **objeto**, **função** e **pacote**, como também outras definições.\n"]},{"type":"character","attributes":{},"value":["biblio.bib"]},{"type":"logical","attributes":{},"value":[true]}]}
  </script>
  <!--/radix_placeholder_rmarkdown_metadata-->
  <!--radix_placeholder_navigation_in_header-->
  <meta name="distill:offset" content=""/>

  <script type="application/javascript">

    window.headroom_prevent_pin = false;

    window.document.addEventListener("DOMContentLoaded", function (event) {

      // initialize headroom for banner
      var header = $('header').get(0);
      var headerHeight = header.offsetHeight;
      var headroom = new Headroom(header, {
        tolerance: 5,
        onPin : function() {
          if (window.headroom_prevent_pin) {
            window.headroom_prevent_pin = false;
            headroom.unpin();
          }
        }
      });
      headroom.init();
      if(window.location.hash)
        headroom.unpin();
      $(header).addClass('headroom--transition');

      // offset scroll location for banner on hash change
      // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
      window.addEventListener("hashchange", function(event) {
        window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
      });

      // responsive menu
      $('.distill-site-header').each(function(i, val) {
        var topnav = $(this);
        var toggle = topnav.find('.nav-toggle');
        toggle.on('click', function() {
          topnav.toggleClass('responsive');
        });
      });

      // nav dropdowns
      $('.nav-dropbtn').click(function(e) {
        $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
        $(this).parent().siblings('.nav-dropdown')
           .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $("body").click(function(e){
        $('.nav-dropdown-content').removeClass('nav-dropdown-active');
      });
      $(".nav-dropdown").click(function(e){
        e.stopPropagation();
      });
    });
  </script>

  <style type="text/css">

  /* Theme (user-documented overrideables for nav appearance) */

  .distill-site-nav {
    color: rgba(255, 255, 255, 0.8);
    background-color: #0F2E3D;
    font-size: 15px;
    font-weight: 300;
  }

  .distill-site-nav a {
    color: inherit;
    text-decoration: none;
  }

  .distill-site-nav a:hover {
    color: white;
  }

  @media print {
    .distill-site-nav {
      display: none;
    }
  }

  .distill-site-header {

  }

  .distill-site-footer {

  }


  /* Site Header */

  .distill-site-header {
    width: 100%;
    box-sizing: border-box;
    z-index: 3;
  }

  .distill-site-header .nav-left {
    display: inline-block;
    margin-left: 8px;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header .nav-left {
      margin-left: 0;
    }
  }


  .distill-site-header .nav-right {
    float: right;
    margin-right: 8px;
  }

  .distill-site-header a,
  .distill-site-header .title {
    display: inline-block;
    text-align: center;
    padding: 14px 10px 14px 10px;
  }

  .distill-site-header .title {
    font-size: 18px;
    min-width: 150px;
  }

  .distill-site-header .logo {
    padding: 0;
  }

  .distill-site-header .logo img {
    display: none;
    max-height: 20px;
    width: auto;
    margin-bottom: -4px;
  }

  .distill-site-header .nav-image img {
    max-height: 18px;
    width: auto;
    display: inline-block;
    margin-bottom: -3px;
  }



  @media screen and (min-width: 1000px) {
    .distill-site-header .logo img {
      display: inline-block;
    }
    .distill-site-header .nav-left {
      margin-left: 20px;
    }
    .distill-site-header .nav-right {
      margin-right: 20px;
    }
    .distill-site-header .title {
      padding-left: 12px;
    }
  }


  .distill-site-header .nav-toggle {
    display: none;
  }

  .nav-dropdown {
    display: inline-block;
    position: relative;
  }

  .nav-dropdown .nav-dropbtn {
    border: none;
    outline: none;
    color: rgba(255, 255, 255, 0.8);
    padding: 16px 10px;
    background-color: transparent;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    margin: 0;
    margin-top: 1px;
    z-index: 2;
  }

  .nav-dropdown-content {
    display: none;
    position: absolute;
    background-color: white;
    min-width: 200px;
    border: 1px solid rgba(0,0,0,0.15);
    border-radius: 4px;
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
    z-index: 1;
    margin-top: 2px;
    white-space: nowrap;
    padding-top: 4px;
    padding-bottom: 4px;
  }

  .nav-dropdown-content hr {
    margin-top: 4px;
    margin-bottom: 4px;
    border: none;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .nav-dropdown-active {
    display: block;
  }

  .nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
    color: black;
    padding: 6px 24px;
    text-decoration: none;
    display: block;
    text-align: left;
  }

  .nav-dropdown-content .nav-dropdown-header {
    display: block;
    padding: 5px 24px;
    padding-bottom: 0;
    text-transform: uppercase;
    font-size: 14px;
    color: #999999;
    white-space: nowrap;
  }

  .nav-dropdown:hover .nav-dropbtn {
    color: white;
  }

  .nav-dropdown-content a:hover {
    background-color: #ddd;
    color: black;
  }

  .nav-right .nav-dropdown-content {
    margin-left: -45%;
    right: 0;
  }

  @media screen and (max-width: 768px) {
    .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
    .distill-site-header a.nav-toggle {
      float: right;
      display: block;
    }
    .distill-site-header .title {
      margin-left: 0;
    }
    .distill-site-header .nav-right {
      margin-right: 0;
    }
    .distill-site-header {
      overflow: hidden;
    }
    .nav-right .nav-dropdown-content {
      margin-left: 0;
    }
  }


  @media screen and (max-width: 768px) {
    .distill-site-header.responsive {position: relative; min-height: 500px; }
    .distill-site-header.responsive a.nav-toggle {
      position: absolute;
      right: 0;
      top: 0;
    }
    .distill-site-header.responsive a,
    .distill-site-header.responsive .nav-dropdown {
      display: block;
      text-align: left;
    }
    .distill-site-header.responsive .nav-left,
    .distill-site-header.responsive .nav-right {
      width: 100%;
    }
    .distill-site-header.responsive .nav-dropdown {float: none;}
    .distill-site-header.responsive .nav-dropdown-content {position: relative;}
    .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
      display: block;
      width: 100%;
      text-align: left;
    }
  }

  /* Site Footer */

  .distill-site-footer {
    width: 100%;
    overflow: hidden;
    box-sizing: border-box;
    z-index: 3;
    margin-top: 30px;
    padding-top: 30px;
    padding-bottom: 30px;
    text-align: center;
  }

  /* Headroom */

  d-title {
    padding-top: 6rem;
  }

  @media print {
    d-title {
      padding-top: 4rem;
    }
  }

  .headroom {
    z-index: 1000;
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
  }

  .headroom--transition {
    transition: all .4s ease-in-out;
  }

  .headroom--unpinned {
    top: -100px;
  }

  .headroom--pinned {
    top: 0;
  }

  /* adjust viewport for navbar height */
  /* helps vertically center bootstrap (non-distill) content */
  .min-vh-100 {
    min-height: calc(100vh - 100px) !important;
  }

  </style>

  <script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
  <link href="site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
  <link href="site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
  <script src="site_libs/headroom-0.9.4/headroom.min.js"></script>
  <script src="site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
  <script src="site_libs/fuse-6.4.1/fuse.min.js"></script>

  <script type="application/javascript">

  function getMeta(metaName) {
    var metas = document.getElementsByTagName('meta');
    for (let i = 0; i < metas.length; i++) {
      if (metas[i].getAttribute('name') === metaName) {
        return metas[i].getAttribute('content');
      }
    }
    return '';
  }

  function offsetURL(url) {
    var offset = getMeta('distill:offset');
    return offset ? offset + '/' + url : url;
  }

  function createFuseIndex() {

    // create fuse index
    var options = {
      keys: [
        { name: 'title', weight: 20 },
        { name: 'categories', weight: 15 },
        { name: 'description', weight: 10 },
        { name: 'contents', weight: 5 },
      ],
      ignoreLocation: true,
      threshold: 0
    };
    var fuse = new window.Fuse([], options);

    // fetch the main search.json
    return fetch(offsetURL('search.json'))
      .then(function(response) {
        if (response.status == 200) {
          return response.json().then(function(json) {
            // index main articles
            json.articles.forEach(function(article) {
              fuse.add(article);
            });
            // download collections and index their articles
            return Promise.all(json.collections.map(function(collection) {
              return fetch(offsetURL(collection)).then(function(response) {
                if (response.status === 200) {
                  return response.json().then(function(articles) {
                    articles.forEach(function(article) {
                      fuse.add(article);
                    });
                  })
                } else {
                  return Promise.reject(
                    new Error('Unexpected status from search index request: ' +
                              response.status)
                  );
                }
              });
            })).then(function() {
              return fuse;
            });
          });

        } else {
          return Promise.reject(
            new Error('Unexpected status from search index request: ' +
                        response.status)
          );
        }
      });
  }

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // get search element (bail if we don't have one)
    var searchEl = window.document.getElementById('distill-search');
    if (!searchEl)
      return;

    createFuseIndex()
      .then(function(fuse) {

        // make search box visible
        searchEl.classList.remove('hidden');

        // initialize autocomplete
        var options = {
          autoselect: true,
          hint: false,
          minLength: 2,
        };
        window.autocomplete(searchEl, options, [{
          source: function(query, callback) {
            const searchOptions = {
              isCaseSensitive: false,
              shouldSort: true,
              minMatchCharLength: 2,
              limit: 10,
            };
            var results = fuse.search(query, searchOptions);
            callback(results
              .map(function(result) { return result.item; })
            );
          },
          templates: {
            suggestion: function(suggestion) {
              var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
                ? `<img src="${offsetURL(suggestion.preview)}"</img>`
                : '';
              var html = `
                <div class="search-item">
                  <h3>${suggestion.title}</h3>
                  <div class="search-item-description">
                    ${suggestion.description || ''}
                  </div>
                  <div class="search-item-preview">
                    ${img}
                  </div>
                </div>
              `;
              return html;
            }
          }
        }]).on('autocomplete:selected', function(event, suggestion) {
          window.location.href = offsetURL(suggestion.path);
        });
        // remove inline display style on autocompleter (we want to
        // manage responsive display via css)
        $('.algolia-autocomplete').css("display", "");
      })
      .catch(function(error) {
        console.log(error);
      });

  });

  </script>

  <style type="text/css">

  .nav-search {
    font-size: x-small;
  }

  /* Algolioa Autocomplete */

  .algolia-autocomplete {
    display: inline-block;
    margin-left: 10px;
    vertical-align: sub;
    background-color: white;
    color: black;
    padding: 6px;
    padding-top: 8px;
    padding-bottom: 0;
    border-radius: 6px;
    border: 1px #0F2E3D solid;
    width: 180px;
  }


  @media screen and (max-width: 768px) {
    .distill-site-nav .algolia-autocomplete {
      display: none;
      visibility: hidden;
    }
    .distill-site-nav.responsive .algolia-autocomplete {
      display: inline-block;
      visibility: visible;
    }
    .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
      margin-left: 0;
      width: 400px;
      max-height: 400px;
    }
  }

  .algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
    width: 90%;
    outline: none;
    border: none;
  }

  .algolia-autocomplete .aa-hint {
    color: #999;
  }
  .algolia-autocomplete .aa-dropdown-menu {
    width: 550px;
    max-height: 70vh;
    overflow-x: visible;
    overflow-y: scroll;
    padding: 5px;
    margin-top: 3px;
    margin-left: -150px;
    background-color: #fff;
    border-radius: 5px;
    border: 1px solid #999;
    border-top: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
    cursor: pointer;
    padding: 5px 4px;
    border-bottom: 1px solid #eee;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
    border-bottom: none;
    margin-bottom: 2px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
    overflow: hidden;
    font-size: 0.8em;
    line-height: 1.4em;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
    font-size: 1rem;
    margin-block-start: 0;
    margin-block-end: 5px;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
    display: inline-block;
    overflow: hidden;
    height: 2.8em;
    width: 80%;
    margin-right: 4%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
    display: inline-block;
    width: 15%;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
    height: 3em;
    width: auto;
    display: none;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
    display: initial;
  }

  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
    background-color: #eee;
  }
  .algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
    font-weight: bold;
    font-style: normal;
  }

  </style>


  <!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

  <style type="text/css">

  body {
    background-color: white;
  }

  .pandoc-table {
    width: 100%;
  }

  .pandoc-table>caption {
    margin-bottom: 10px;
  }

  .pandoc-table th:not([align]) {
    text-align: left;
  }

  .pagedtable-footer {
    font-size: 15px;
  }

  d-byline .byline {
    grid-template-columns: 2fr 2fr;
  }

  d-byline .byline h3 {
    margin-block-start: 1.5em;
  }

  d-byline .byline .authors-affiliations h3 {
    margin-block-start: 0.5em;
  }

  .authors-affiliations .orcid-id {
    width: 16px;
    height:16px;
    margin-left: 4px;
    margin-right: 4px;
    vertical-align: middle;
    padding-bottom: 2px;
  }

  d-title .dt-tags {
    margin-top: 1em;
    grid-column: text;
  }

  .dt-tags .dt-tag {
    text-decoration: none;
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0em 0.4em;
    margin-right: 0.5em;
    margin-bottom: 0.4em;
    font-size: 70%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  d-article table.gt_table td,
  d-article table.gt_table th {
    border-bottom: none;
  }

  .html-widget {
    margin-bottom: 2.0em;
  }

  .l-screen-inset {
    padding-right: 16px;
  }

  .l-screen .caption {
    margin-left: 10px;
  }

  .shaded {
    background: rgb(247, 247, 247);
    padding-top: 20px;
    padding-bottom: 20px;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .html-widget {
    margin-bottom: 0;
    border: 1px solid rgba(0, 0, 0, 0.1);
  }

  .shaded .shaded-content {
    background: white;
  }

  .text-output {
    margin-top: 0;
    line-height: 1.5em;
  }

  .hidden {
    display: none !important;
  }

  d-article {
    padding-top: 2.5rem;
    padding-bottom: 30px;
  }

  d-appendix {
    padding-top: 30px;
  }

  d-article>p>img {
    width: 100%;
  }

  d-article h2 {
    margin: 1rem 0 1.5rem 0;
  }

  d-article h3 {
    margin-top: 1.5rem;
  }

  d-article iframe {
    border: 1px solid rgba(0, 0, 0, 0.1);
    margin-bottom: 2.0em;
    width: 100%;
  }

  /* Tweak code blocks */

  d-article div.sourceCode code,
  d-article pre code {
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  }

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: auto;
  }

  d-article div.sourceCode {
    background-color: white;
  }

  d-article div.sourceCode pre {
    padding-left: 10px;
    font-size: 12px;
    border-left: 2px solid rgba(0,0,0,0.1);
  }

  d-article pre {
    font-size: 12px;
    color: black;
    background: none;
    margin-top: 0;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  d-article pre a {
    border-bottom: none;
  }

  d-article pre a:hover {
    border-bottom: none;
    text-decoration: underline;
  }

  d-article details {
    grid-column: text;
    margin-bottom: 0.8em;
  }

  @media(min-width: 768px) {

  d-article pre,
  d-article div.sourceCode,
  d-article div.sourceCode pre {
    overflow: visible !important;
  }

  d-article div.sourceCode pre {
    padding-left: 18px;
    font-size: 14px;
  }

  d-article pre {
    font-size: 14px;
  }

  }

  figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  /* CSS for d-contents */

  .d-contents {
    grid-column: text;
    color: rgba(0,0,0,0.8);
    font-size: 0.9em;
    padding-bottom: 1em;
    margin-bottom: 1em;
    padding-bottom: 0.5em;
    margin-bottom: 1em;
    padding-left: 0.25em;
    justify-self: start;
  }

  @media(min-width: 1000px) {
    .d-contents.d-contents-float {
      height: 0;
      grid-column-start: 1;
      grid-column-end: 4;
      justify-self: center;
      padding-right: 3em;
      padding-left: 2em;
    }
  }

  .d-contents nav h3 {
    font-size: 18px;
    margin-top: 0;
    margin-bottom: 1em;
  }

  .d-contents li {
    list-style-type: none
  }

  .d-contents nav > ul {
    padding-left: 0;
  }

  .d-contents ul {
    padding-left: 1em
  }

  .d-contents nav ul li {
    margin-top: 0.6em;
    margin-bottom: 0.2em;
  }

  .d-contents nav a {
    font-size: 13px;
    border-bottom: none;
    text-decoration: none
    color: rgba(0, 0, 0, 0.8);
  }

  .d-contents nav a:hover {
    text-decoration: underline solid rgba(0, 0, 0, 0.6)
  }

  .d-contents nav > ul > li > a {
    font-weight: 600;
  }

  .d-contents nav > ul > li > ul {
    font-weight: inherit;
  }

  .d-contents nav > ul > li > ul > li {
    margin-top: 0.2em;
  }


  .d-contents nav ul {
    margin-top: 0;
    margin-bottom: 0.25em;
  }

  .d-article-with-toc h2:nth-child(2) {
    margin-top: 0;
  }


  /* Figure */

  .figure {
    position: relative;
    margin-bottom: 2.5em;
    margin-top: 1.5em;
  }

  .figure img {
    width: 100%;
  }

  .figure .caption {
    color: rgba(0, 0, 0, 0.6);
    font-size: 12px;
    line-height: 1.5em;
  }

  .figure img.external {
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.1);
    box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
    padding: 18px;
    box-sizing: border-box;
  }

  .figure .caption a {
    color: rgba(0, 0, 0, 0.6);
  }

  .figure .caption b,
  .figure .caption strong, {
    font-weight: 600;
    color: rgba(0, 0, 0, 1.0);
  }

  /* Citations */

  d-article .citation {
    color: inherit;
    cursor: inherit;
  }

  div.hanging-indent{
    margin-left: 1em; text-indent: -1em;
  }

  /* Citation hover box */

  .tippy-box[data-theme~=light-border] {
    background-color: rgba(250, 250, 250, 0.95);
  }

  .tippy-content > p {
    margin-bottom: 0;
    padding: 2px;
  }


  /* Tweak 1000px media break to show more text */

  @media(min-width: 1000px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 16px;
    }

    .grid {
      grid-column-gap: 16px;
    }

    d-article {
      font-size: 1.06rem;
      line-height: 1.7em;
    }
    figure .caption, .figure .caption, figure figcaption {
      font-size: 13px;
    }
  }

  @media(min-width: 1180px) {
    .base-grid,
    distill-header,
    d-title,
    d-abstract,
    d-article,
    d-appendix,
    distill-appendix,
    d-byline,
    d-footnote-list,
    d-citation-list,
    distill-footer {
      grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
      grid-column-gap: 32px;
    }

    .grid {
      grid-column-gap: 32px;
    }
  }


  /* Get the citation styles for the appendix (not auto-injected on render since
     we do our own rendering of the citation appendix) */

  d-appendix .citation-appendix,
  .d-appendix .citation-appendix {
    font-size: 11px;
    line-height: 15px;
    border-left: 1px solid rgba(0, 0, 0, 0.1);
    padding-left: 18px;
    border: 1px solid rgba(0,0,0,0.1);
    background: rgba(0, 0, 0, 0.02);
    padding: 10px 18px;
    border-radius: 3px;
    color: rgba(150, 150, 150, 1);
    overflow: hidden;
    margin-top: -12px;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  /* Include appendix styles here so they can be overridden */

  d-appendix {
    contain: layout style;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-top: 60px;
    margin-bottom: 0;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
    color: rgba(0,0,0,0.5);
    padding-top: 60px;
    padding-bottom: 48px;
  }

  d-appendix h3 {
    grid-column: page-start / text-start;
    font-size: 15px;
    font-weight: 500;
    margin-top: 1em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.65);
  }

  d-appendix h3 + * {
    margin-top: 1em;
  }

  d-appendix ol {
    padding: 0 0 0 15px;
  }

  @media (min-width: 768px) {
    d-appendix ol {
      padding: 0 0 0 30px;
      margin-left: -30px;
    }
  }

  d-appendix li {
    margin-bottom: 1em;
  }

  d-appendix a {
    color: rgba(0, 0, 0, 0.6);
  }

  d-appendix > * {
    grid-column: text;
  }

  d-appendix > d-footnote-list,
  d-appendix > d-citation-list,
  d-appendix > distill-appendix {
    grid-column: screen;
  }

  /* Include footnote styles here so they can be overridden */

  d-footnote-list {
    contain: layout style;
  }

  d-footnote-list > * {
    grid-column: text;
  }

  d-footnote-list a.footnote-backlink {
    color: rgba(0,0,0,0.3);
    padding-left: 0.5em;
  }



  /* Anchor.js */

  .anchorjs-link {
    /*transition: all .25s linear; */
    text-decoration: none;
    border-bottom: none;
  }
  *:hover > .anchorjs-link {
    margin-left: -1.125em !important;
    text-decoration: none;
    border-bottom: none;
  }

  /* Social footer */

  .social_footer {
    margin-top: 30px;
    margin-bottom: 0;
    color: rgba(0,0,0,0.67);
  }

  .disqus-comments {
    margin-right: 30px;
  }

  .disqus-comment-count {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
    cursor: pointer;
  }

  #disqus_thread {
    margin-top: 30px;
  }

  .article-sharing a {
    border-bottom: none;
    margin-right: 8px;
  }

  .article-sharing a:hover {
    border-bottom: none;
  }

  .sidebar-section.subscribe {
    font-size: 12px;
    line-height: 1.6em;
  }

  .subscribe p {
    margin-bottom: 0.5em;
  }


  .article-footer .subscribe {
    font-size: 15px;
    margin-top: 45px;
  }


  .sidebar-section.custom {
    font-size: 12px;
    line-height: 1.6em;
  }

  .custom p {
    margin-bottom: 0.5em;
  }

  /* Styles for listing layout (hide title) */
  .layout-listing d-title, .layout-listing .d-title {
    display: none;
  }

  /* Styles for posts lists (not auto-injected) */


  .posts-with-sidebar {
    padding-left: 45px;
    padding-right: 45px;
  }

  .posts-list .description h2,
  .posts-list .description p {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  }

  .posts-list .description h2 {
    font-weight: 700;
    border-bottom: none;
    padding-bottom: 0;
  }

  .posts-list h2.post-tag {
    border-bottom: 1px solid rgba(0, 0, 0, 0.2);
    padding-bottom: 12px;
  }
  .posts-list {
    margin-top: 60px;
    margin-bottom: 24px;
  }

  .posts-list .post-preview {
    text-decoration: none;
    overflow: hidden;
    display: block;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    padding: 24px 0;
  }

  .post-preview-last {
    border-bottom: none !important;
  }

  .posts-list .posts-list-caption {
    grid-column: screen;
    font-weight: 400;
  }

  .posts-list .post-preview h2 {
    margin: 0 0 6px 0;
    line-height: 1.2em;
    font-style: normal;
    font-size: 24px;
  }

  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.4em;
    font-size: 16px;
  }

  .posts-list .post-preview .thumbnail {
    box-sizing: border-box;
    margin-bottom: 24px;
    position: relative;
    max-width: 500px;
  }
  .posts-list .post-preview img {
    width: 100%;
    display: block;
  }

  .posts-list .metadata {
    font-size: 12px;
    line-height: 1.4em;
    margin-bottom: 18px;
  }

  .posts-list .metadata > * {
    display: inline-block;
  }

  .posts-list .metadata .publishedDate {
    margin-right: 2em;
  }

  .posts-list .metadata .dt-authors {
    display: block;
    margin-top: 0.3em;
    margin-right: 2em;
  }

  .posts-list .dt-tags {
    display: block;
    line-height: 1em;
  }

  .posts-list .dt-tags .dt-tag {
    display: inline-block;
    color: rgba(0,0,0,0.6);
    padding: 0.3em 0.4em;
    margin-right: 0.2em;
    margin-bottom: 0.4em;
    font-size: 60%;
    border: 1px solid rgba(0,0,0,0.2);
    border-radius: 3px;
    text-transform: uppercase;
    font-weight: 500;
  }

  .posts-list img {
    opacity: 1;
  }

  .posts-list img[data-src] {
    opacity: 0;
  }

  .posts-more {
    clear: both;
  }


  .posts-sidebar {
    font-size: 16px;
  }

  .posts-sidebar h3 {
    font-size: 16px;
    margin-top: 0;
    margin-bottom: 0.5em;
    font-weight: 400;
    text-transform: uppercase;
  }

  .sidebar-section {
    margin-bottom: 30px;
  }

  .categories ul {
    list-style-type: none;
    margin: 0;
    padding: 0;
  }

  .categories li {
    color: rgba(0, 0, 0, 0.8);
    margin-bottom: 0;
  }

  .categories li>a {
    border-bottom: none;
  }

  .categories li>a:hover {
    border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  }

  .categories .active {
    font-weight: 600;
  }

  .categories .category-count {
    color: rgba(0, 0, 0, 0.4);
  }


  @media(min-width: 768px) {
    .posts-list .post-preview h2 {
      font-size: 26px;
    }
    .posts-list .post-preview .thumbnail {
      float: right;
      width: 30%;
      margin-bottom: 0;
    }
    .posts-list .post-preview .description {
      float: left;
      width: 45%;
    }
    .posts-list .post-preview .metadata {
      float: left;
      width: 20%;
      margin-top: 8px;
    }
    .posts-list .post-preview p {
      margin: 0 0 12px 0;
      line-height: 1.5em;
      font-size: 16px;
    }
    .posts-with-sidebar .posts-list {
      float: left;
      width: 75%;
    }
    .posts-with-sidebar .posts-sidebar {
      float: right;
      width: 20%;
      margin-top: 60px;
      padding-top: 24px;
      padding-bottom: 24px;
    }
  }


  /* Improve display for browsers without grid (IE/Edge <= 15) */

  .downlevel {
    line-height: 1.6em;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
    margin: 0;
  }

  .downlevel .d-title {
    padding-top: 6rem;
    padding-bottom: 1.5rem;
  }

  .downlevel .d-title h1 {
    font-size: 50px;
    font-weight: 700;
    line-height: 1.1em;
    margin: 0 0 0.5rem;
  }

  .downlevel .d-title p {
    font-weight: 300;
    font-size: 1.2rem;
    line-height: 1.55em;
    margin-top: 0;
  }

  .downlevel .d-byline {
    padding-top: 0.8em;
    padding-bottom: 0.8em;
    font-size: 0.8rem;
    line-height: 1.8em;
  }

  .downlevel .section-separator {
    border: none;
    border-top: 1px solid rgba(0, 0, 0, 0.1);
  }

  .downlevel .d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
    padding-top: 1rem;
    padding-bottom: 2rem;
  }


  .downlevel .d-appendix {
    padding-left: 0;
    padding-right: 0;
    max-width: none;
    font-size: 0.8em;
    line-height: 1.7em;
    margin-bottom: 0;
    color: rgba(0,0,0,0.5);
    padding-top: 40px;
    padding-bottom: 48px;
  }

  .downlevel .footnotes ol {
    padding-left: 13px;
  }

  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
    padding-left: 40px;
    padding-right: 40px;
  }

  @media(min-width: 768px) {
    .downlevel .base-grid,
    .downlevel .distill-header,
    .downlevel .d-title,
    .downlevel .d-abstract,
    .downlevel .d-article,
    .downlevel .d-appendix,
    .downlevel .distill-appendix,
    .downlevel .d-byline,
    .downlevel .d-footnote-list,
    .downlevel .d-citation-list,
    .downlevel .distill-footer,
    .downlevel .appendix-bottom,
    .downlevel .posts-container {
    padding-left: 150px;
    padding-right: 150px;
    max-width: 900px;
  }
  }

  .downlevel pre code {
    display: block;
    border-left: 2px solid rgba(0, 0, 0, .1);
    padding: 0 0 0 20px;
    font-size: 14px;
  }

  .downlevel code, .downlevel pre {
    color: black;
    background: none;
    font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
    text-align: left;
    white-space: pre;
    word-spacing: normal;
    word-break: normal;
    word-wrap: normal;
    line-height: 1.5;

    -moz-tab-size: 4;
    -o-tab-size: 4;
    tab-size: 4;

    -webkit-hyphens: none;
    -moz-hyphens: none;
    -ms-hyphens: none;
    hyphens: none;
  }

  .downlevel .posts-list .post-preview {
    color: inherit;
  }



  </style>

  <script type="application/javascript">

  function is_downlevel_browser() {
    if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                   window.navigator.userAgent)) {
      return true;
    } else {
      return window.load_distill_framework === undefined;
    }
  }

  // show body when load is complete
  function on_load_complete() {

    // add anchors
    if (window.anchors) {
      window.anchors.options.placement = 'left';
      window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
    }


    // set body to visible
    document.body.style.visibility = 'visible';

    // force redraw for leaflet widgets
    if (window.HTMLWidgets) {
      var maps = window.HTMLWidgets.findAll(".leaflet");
      $.each(maps, function(i, el) {
        var map = this.getMap();
        map.invalidateSize();
        map.eachLayer(function(layer) {
          if (layer instanceof L.TileLayer)
            layer.redraw();
        });
      });
    }

    // trigger 'shown' so htmlwidgets resize
    $('d-article').trigger('shown');
  }

  function init_distill() {

    init_common();

    // create front matter
    var front_matter = $('<d-front-matter></d-front-matter>');
    $('#distill-front-matter').wrap(front_matter);

    // create d-title
    $('.d-title').changeElementType('d-title');

    // create d-byline
    var byline = $('<d-byline></d-byline>');
    $('.d-byline').replaceWith(byline);

    // create d-article
    var article = $('<d-article></d-article>');
    $('.d-article').wrap(article).children().unwrap();

    // move posts container into article
    $('.posts-container').appendTo($('d-article'));

    // create d-appendix
    $('.d-appendix').changeElementType('d-appendix');

    // flag indicating that we have appendix items
    var appendix = $('.appendix-bottom').children('h3').length > 0;

    // replace footnotes with <d-footnote>
    $('.footnote-ref').each(function(i, val) {
      appendix = true;
      var href = $(this).attr('href');
      var id = href.replace('#', '');
      var fn = $('#' + id);
      var fn_p = $('#' + id + '>p');
      fn_p.find('.footnote-back').remove();
      var text = fn_p.html();
      var dtfn = $('<d-footnote></d-footnote>');
      dtfn.html(text);
      $(this).replaceWith(dtfn);
    });
    // remove footnotes
    $('.footnotes').remove();

    // move refs into #references-listing
    $('#references-listing').replaceWith($('#refs'));

    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      var id = $(this).attr('id');
      $('.d-contents a[href="#' + id + '"]').parent().remove();
      appendix = true;
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
    });

    // show d-appendix if we have appendix content
    $("d-appendix").css('display', appendix ? 'grid' : 'none');

    // localize layout chunks to just output
    $('.layout-chunk').each(function(i, val) {

      // capture layout
      var layout = $(this).attr('data-layout');

      // apply layout to markdown level block elements
      var elements = $(this).children().not('details, div.sourceCode, pre, script');
      elements.each(function(i, el) {
        var layout_div = $('<div class="' + layout + '"></div>');
        if (layout_div.hasClass('shaded')) {
          var shaded_content = $('<div class="shaded-content"></div>');
          $(this).wrap(shaded_content);
          $(this).parent().wrap(layout_div);
        } else {
          $(this).wrap(layout_div);
        }
      });


      // unwrap the layout-chunk div
      $(this).children().unwrap();
    });

    // remove code block used to force  highlighting css
    $('.distill-force-highlighting-css').parent().remove();

    // remove empty line numbers inserted by pandoc when using a
    // custom syntax highlighting theme
    $('code.sourceCode a:empty').remove();

    // load distill framework
    load_distill_framework();

    // wait for window.distillRunlevel == 4 to do post processing
    function distill_post_process() {

      if (!window.distillRunlevel || window.distillRunlevel < 4)
        return;

      // hide author/affiliations entirely if we have no authors
      var front_matter = JSON.parse($("#distill-front-matter").html());
      var have_authors = front_matter.authors && front_matter.authors.length > 0;
      if (!have_authors)
        $('d-byline').addClass('hidden');

      // article with toc class
      $('.d-contents').parent().addClass('d-article-with-toc');

      // strip links that point to #
      $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

      // add orcid ids
      $('.authors-affiliations').find('.author').each(function(i, el) {
        var orcid_id = front_matter.authors[i].orcidID;
        if (orcid_id) {
          var a = $('<a></a>');
          a.attr('href', 'https://orcid.org/' + orcid_id);
          var img = $('<img></img>');
          img.addClass('orcid-id');
          img.attr('alt', 'ORCID ID');
          img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
          a.append(img);
          $(this).append(a);
        }
      });

      // hide elements of author/affiliations grid that have no value
      function hide_byline_column(caption) {
        $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
      }

      // affiliations
      var have_affiliations = false;
      for (var i = 0; i<front_matter.authors.length; ++i) {
        var author = front_matter.authors[i];
        if (author.affiliation !== "&nbsp;") {
          have_affiliations = true;
          break;
        }
      }
      if (!have_affiliations)
        $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

      // published date
      if (!front_matter.publishedDate)
        hide_byline_column("Published");

      // document object identifier
      var doi = $('d-byline').find('h3:contains("DOI")');
      var doi_p = doi.next().empty();
      if (!front_matter.doi) {
        // if we have a citation and valid citationText then link to that
        if ($('#citation').length > 0 && front_matter.citationText) {
          doi.html('Citation');
          $('<a href="#citation"></a>')
            .text(front_matter.citationText)
            .appendTo(doi_p);
        } else {
          hide_byline_column("DOI");
        }
      } else {
        $('<a></a>')
           .attr('href', "https://doi.org/" + front_matter.doi)
           .html(front_matter.doi)
           .appendTo(doi_p);
      }

       // change plural form of authors/affiliations
      if (front_matter.authors.length === 1) {
        var grid = $('.authors-affiliations');
        grid.children('h3:contains("Authors")').text('Author');
        grid.children('h3:contains("Affiliations")').text('Affiliation');
      }

      // remove d-appendix and d-footnote-list local styles
      $('d-appendix > style:first-child').remove();
      $('d-footnote-list > style:first-child').remove();

      // move appendix-bottom entries to the bottom
      $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
      $('.appendix-bottom').remove();

      // hoverable references
      $('span.citation[data-cites]').each(function() {
        var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
        window.tippy(this, {
          allowHTML: true,
          content: refHtml,
          maxWidth: 500,
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        });
      });

      // clear polling timer
      clearInterval(tid);

      // show body now that everything is ready
      on_load_complete();
    }

    var tid = setInterval(distill_post_process, 50);
    distill_post_process();

  }

  function init_downlevel() {

    init_common();

     // insert hr after d-title
    $('.d-title').after($('<hr class="section-separator"/>'));

    // check if we have authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;

    // manage byline/border
    if (!have_authors)
      $('.d-byline').remove();
    $('.d-byline').after($('<hr class="section-separator"/>'));
    $('.d-byline a').remove();

    // remove toc
    $('.d-contents').remove();

    // move appendix elements
    $('h1.appendix, h2.appendix').each(function(i, val) {
      $(this).changeElementType('h3');
    });
    $('h3.appendix').each(function(i, val) {
      $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
    });


    // inject headers into references and footnotes
    var refs_header = $('<h3></h3>');
    refs_header.text('References');
    $('#refs').prepend(refs_header);

    var footnotes_header = $('<h3></h3');
    footnotes_header.text('Footnotes');
    $('.footnotes').children('hr').first().replaceWith(footnotes_header);

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // remove appendix if it's empty
    if ($('.d-appendix').children().length === 0)
      $('.d-appendix').remove();

    // prepend separator above appendix
    $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

    // trim code
    $('pre>code').each(function(i, val) {
      $(this).html($.trim($(this).html()));
    });

    // move posts-container right before article
    $('.posts-container').insertBefore($('.d-article'));

    $('body').addClass('downlevel');

    on_load_complete();
  }


  function init_common() {

    // jquery plugin to change element types
    (function($) {
      $.fn.changeElementType = function(newType) {
        var attrs = {};

        $.each(this[0].attributes, function(idx, attr) {
          attrs[attr.nodeName] = attr.nodeValue;
        });

        this.replaceWith(function() {
          return $("<" + newType + "/>", attrs).append($(this).contents());
        });
      };
    })(jQuery);

    // prevent underline for linked images
    $('a > img').parent().css({'border-bottom' : 'none'});

    // mark non-body figures created by knitr chunks as 100% width
    $('.layout-chunk').each(function(i, val) {
      var figures = $(this).find('img, .html-widget');
      if ($(this).attr('data-layout') !== "l-body") {
        figures.css('width', '100%');
      } else {
        figures.css('max-width', '100%');
        figures.filter("[width]").each(function(i, val) {
          var fig = $(this);
          fig.css('width', fig.attr('width') + 'px');
        });

      }
    });

    // auto-append index.html to post-preview links in file: protocol
    // and in rstudio ide preview
    $('.post-preview').each(function(i, val) {
      if (window.location.protocol === "file:")
        $(this).attr('href', $(this).attr('href') + "index.html");
    });

    // get rid of index.html references in header
    if (window.location.protocol !== "file:") {
      $('.distill-site-header a[href]').each(function(i,val) {
        $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
      });
    }

    // add class to pandoc style tables
    $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
    $('.kable-table').children('table').addClass('pandoc-table');

    // add figcaption style to table captions
    $('caption').parent('table').addClass("figcaption");

    // initialize posts list
    if (window.init_posts_list)
      window.init_posts_list();

    // implmement disqus comment link
    $('.disqus-comment-count').click(function() {
      window.headroom_prevent_pin = true;
      $('#disqus_thread').toggleClass('hidden');
      if (!$('#disqus_thread').hasClass('hidden')) {
        var offset = $(this).offset();
        $(window).resize();
        $('html, body').animate({
          scrollTop: offset.top - 35
        });
      }
    });
  }

  document.addEventListener('DOMContentLoaded', function() {
    if (is_downlevel_browser())
      init_downlevel();
    else
      window.addEventListener('WebComponentsReady', init_distill);
  });

  </script>

  <!--/radix_placeholder_distill-->
  <script src="site_libs/header-attrs-2.9/header-attrs.js"></script>
  <link href="site_libs/panelset-0.2.6/panelset.css" rel="stylesheet" />
  <script src="site_libs/panelset-0.2.6/panelset.js"></script>
  <script src="site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
  <script type="text/javascript" cookie-consent="tracking" async src="https://www.googletagmanager.com/gtag/js?id=UA-183980834-3"></script>
  <script type="text/javascript" cookie-consent="tracking">
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-183980834-3');
  </script>
  <!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"Programação em R (Nível Básico)","description":"Esse módulo terá o objetivo de apresentar de forma introdutória a **sintaxe** e **semântica** da linguagem `R`, enfatizando definições importantíssimas para a linguagem como **objeto**, **função** e **pacote**, como também outras definições.","authors":[]}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a class="logo" href="https://www.r-project.org/">
<img src="images/logo2.png" alt="Logo"/>
</a>
<a href="index.html" class="title">Curso R</a>
<a href="index.html" aria-label="Home">
<i class="fas fa-home" aria-hidden="true"></i>
</a>
<a href="about.html">Autor</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
Material
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="nbasico.html">Basico</a>
<a href="nintermediario.html">Intermediario</a>
<span class="nav-dropdown-header">Avancado</span>
</div>
</div>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="https://www.facebook.com/bendeivide/">
<i class="fab fa-facebook" aria-hidden="true"></i>
</a>
<a href="https://www.instagram.com/bendeivide/">
<i class="fab fa-instagram" aria-hidden="true"></i>
</a>
<a href="https://benalana.blogspot.com/">
<i class="fab fa-blogger" aria-hidden="true"></i>
</a>
<a href="http://youtube.com/bendeivide/">
<i class="fab fa-youtube-square" aria-hidden="true"></i>
</a>
<a href="http://twitter.com/bendeivide/">
<i class="fab fa-twitter" aria-hidden="true"></i>
</a>
<a href="https://www.linkedin.com/in/bendeivide/">
<i class="fab fa-linkedin" aria-hidden="true"></i>
</a>
<a href="https://github.com/bendeivide/cursor/">
<i class="fa fa-github fa-lg" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>Programação em R (Nível Básico)</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>Esse módulo terá o objetivo de apresentar de forma introdutória a <strong>sintaxe</strong> e <strong>semântica</strong> da linguagem <code>R</code>, enfatizando definições importantíssimas para a linguagem como <strong>objeto</strong>, <strong>função</strong> e <strong>pacote</strong>, como também outras definições.</p></p>
</div>


<div class="d-article">
<h1 id="sumário">Sumário</h1>
<ul>
<li><a href="#materiais"><i class="fas fa-folder-open"></i> Materiais para este módulo</a>
<ul>
<li><a href="#slidesaulas">Slides de Aulas</a></li>
<li><a href="#scripts">Scripts</a></li>
<li><a href="#shiny">Exercícios e Scripts via Shiny</a></li>
</ul></li>
<li><a href="#apresentacao"><i class="fas fa-book"></i> Apresentação do curso</a></li>
<li><a href="#r-rstudio"><i class="fas fa-download"></i> Instalação do R e RStudio para o SO Windows</a></li>
<li><a href="#tools-r-rstudio"><i class="fas fa-wrench"></i> Como utilizar o R e o RStudio</a></li>
<li><a href="#rhistory"><i class="fab fa-r-project"></i> História do R</a></li>
<li><a href="#rwork"><i class="fas fa-briefcase"></i> Como o R trabalha</a></li>
<li><a href="#comandos-workspace"><i class="fas fa-terminal"></i> Comandos no R e Ambiente Global</a></li>
<li><a href="#filesdata"><i class="fas fa-file"></i> Arquivos <code>.Rdata</code> e <code>.Rhistory</code></a></li>
<li><a href="#savescript"><i class="fas fa-save"></i> Criando e salvando um script</a></li>
<li><a href="#objetos"><i class="fas fa-arrow-circle-left"></i> Objetos</a></li>
<li><a href="#vetores"><i class="fas fa-dice-one"></i> Vetores</a></li>
<li><a href="#matrizes"><i class="fas fa-dice-two"></i> Matrizes bidimensionais</a></li>
<li><a href="#arrays"><i class="fas fa-dice-three"></i> Matrizes multidimencionais</a></li>
<li><a href="#lists"><i class="fas fa-dice-four"></i> Listas de dados</a></li>
<li><a href="#dataframes"><i class="fas fa-dice-five"></i> Quadro de dados</a></li>
<li><a href="#impexpdata"><i class="fas fa-database"></i> Importando dados</a></li>
<li><a href="#funcoes"><i class="fas fa-code"></i> Funções</a>
<ul>
<li><a href="#controle-fluxos">Estruturas de controle</a></li>
<li><a href="#criar-funcoes">Como criar funções</a></li>
</ul></li>
<li><a href="#goodcode"><i class="fas fa-file-code"></i> Boas práticas de como escrever um código</a></li>
<li><a href="#pacotes"><i class="fas fa-cubes"></i> Pacotes</a>
<ul>
<li><a href="#instpac">Instalação de um pacote</a></li>
<li><a href="#objpac">Objetivos de um pacote</a></li>
<li><a href="#funcpac">Utilizar as funções de um pacote</a></li>
<li><a href="#attachpac">Carregando e anexando um pacote</a></li>
<li><a href="#namespac">Namespace de um pacote</a></li>
<li><a href="#carpac">Usando os operadores <code>::</code> e <code>:::</code></a></li>
<li><a href="#search_path">Ambientes e Caminho de busca</a></li>
<li><a href="#superatr">A superatribuição <code>&lt;&lt;-</code></a></li>
</ul></li>
<li><a href="#rinterface"><i class="fas fa-sort-alpha-down"></i> Interfaces com outras linguagens</a></li>
<li><a href="#consideracoes"><i class="fas fa-calendar-minus"></i> Considerações e preparação para o módulo Programação em R (Nível Intermediário)</a></li>
</ul>
<h2 id="section"></h2>
<h1 id="materiais"><i class="fas fa-folder-open"></i> Materiais para este módulo</h1>
<h2 id="slidesaulas">Slides de Aulas</h2>
<ul>
<li>Aula 00: <a href="aulas/aula00.html" target="_blank">Apresentação do Curso</a></li>
<li>Aula 01: <a href="aulas/aula01.html" target="_blank">Instalação do R e do RStudio</a></li>
<li>Aula 02: <a href="aulas/aula02.html" target="_blank">Passos iniciais para a utilização do R e do RStudio</a></li>
<li>Aula 03: <a href="aulas/aula03.html" target="_blank">História do R</a></li>
<li>Aula 04: <a href="aulas/aula04.html" target="_blank">Como o R trabalha</a></li>
<li>Aula 05: <a href="aulas/aula05.html" target="_blank">Comandos no R e Ambiente Global</a></li>
<li>Aula 06: <a href="aulas/aula06.html" target="_blank">Arquivos <code>.RData</code> e <code>.Rhistory</code></a></li>
<li>Aula 07: <a href="aulas/aula07.html" target="_blank">Criando e salvando um <em>Script</em></a></li>
<li>Aula 08: <a href="aulas/aula08.html" target="_blank">Objetos</a></li>
<li>Aula 09: <a href="aulas/aula09.html" target="_blank">Vetores</a></li>
<li>Aula 10: <a href="aulas/aula10.html" target="_blank">Matrizes</a></li>
<li>Aula 11: <a href="aulas/aula11.html" target="_blank"><em>Arrays</em></a></li>
<li>Aula 12: <a href="aulas/aula12.html" target="_blank"><em>Lists</em></a></li>
<li>Aula 13: <a href="aulas/aula13.html" target="_blank"><em>Data frames</em></a></li>
<li>Aula 14: <a href="aulas/aula14.html" target="_blank">Importando dados</a></li>
<li>Aula 15: <a href="aulas/aula15.html" target="_blank">Funções</a></li>
<li>Aula 16: <a href="aulas/aula16.html" target="_blank">Estruturas de controle</a></li>
<li>Aula 17: <a href="aulas/aula17.html" target="_blank">Como criar funções</a></li>
<li>Aula 18: <a href="aulas/aula18.html" target="_blank">Boas práticas de como escrever um código</a></li>
<li>Aula 19: <a href="aulas/aula19.html" target="_blank">Pacotes</a></li>
<li>Aula 20: <a href="aulas/aula20.html" target="_blank">Carregando e Anexando pacotes</a></li>
<li>Aula 21: <a href="aulas/aula21.html" target="_blank"><em>NAMESPACE</em> de um pacote</a></li>
<li>Aula 22: <a href="aulas/aula22.html" target="_blank">Quando devemos utilizar os operadores <code>::</code> e <code>:::</code></a></li>
<li>Aula 23: <a href="aulas/aula23.html" target="_blank">Ambientes e Caminhos de busca</a></li>
<li>Aula 24: <a href="aulas/aula24.html" target="_blank">Interface com outras linguagens</a></li>
<li>Aula 25: <a href="aulas/aula25.html" target="_blank">Considerações e Preparação para a Programação em R (Nível Intermediário)</a></li>
</ul>
<h2 id="scripts">Scripts</h2>
<ul>
<li>Script 00: ~</li>
<li>Script 01: ~</li>
<li>Script 02: ~</li>
<li><a href="scripts/script03.txt" target="_blank">Script 03</a>: <a href="scripts/script03.R" target="_blank">Escopo léxico</a></li>
<li>Script 04: ~</li>
<li><a href="scripts/script05.txt" target="_blank">Script 05</a>: <a href="scripts/script05.R" target="_blank">Comandos</a></li>
<li>Script 06: ~</li>
<li><a href="scripts/aula07/Aula07-primeiro_script.R" target="_blank">Script 07</a>: <a href="scripts/aula07/Aula07-primeiro_script.R" target="_blank">.RData e .Rhistory</a></li>
<li><a href="scripts/aula08/script08.R" target="_blank">Script 08</a>: <a href="scripts/aula08/script08_2.txt" target="_blank">Script08.txt</a>; <a href="scripts/aula08/script08_2.R" target="_blank">Script 08_2</a>: <a href="scripts/aula08/script08_2.txt" target="_blank">Script08_2.txt</a></li>
<li><a href="scripts/aula09/script09.R" target="_blank">Script 09</a>: <a href="scripts/aula09/script09.txt" target="_blank">Vetores</a></li>
<li><a href="scripts/aula10/script10.R" target="_blank">Script 10</a>: <a href="scripts/aula10/script10.txt" target="_blank">Matrizes bidimensionais</a></li>
<li><a href="scripts/aula11/script11.R" target="_blank">Script 11</a>: <a href="scripts/aula11/script11.txt" target="_blank">Matrizes multidimensionais</a></li>
<li>Script 12:</li>
<li>Script 13:</li>
<li>Script 14: <a href="https://github.com/bendeivide/cursor/blob/master/dados/alfafa.txt">alfafa.txt</a>, <a href="https://github.com/bendeivide/cursor/blob/master/dados/datast1980.txt">datast1980.txt</a>, <a href="https://github.com/bendeivide/cursor/blob/master/dados/producao.csv">producao.csv</a></li>
<li>Script 15:</li>
<li>Script 16:</li>
<li>Script 17:</li>
<li>Script 18:</li>
<li><a href="scripts/aula19/script19.R" target="_blank">Script 19</a>: <a href="scripts/aula19/script19.txt" target="_blank">Script19.txt</a></li>
<li><a href="scripts/aula20/script20.R" target="_blank">Script 20</a>: <a href="scripts/aula20/script20.txt" target="_blank">Script20.txt</a></li>
<li><a href="scripts/aula21/script21.R" target="_blank">Script 21</a>: <a href="scripts/aula21/script21.txt" target="_blank">Script21.txt</a></li>
<li><a href="scripts/aula22/script22.R" target="_blank">Script 22</a>: <a href="scripts/aula22/script22.txt" target="_blank">Script22.txt</a></li>
<li><a href="scripts/aula23/script.R" target="_blank">Script 23</a>: <a href="scripts/aula23/script23.txt" target="_blank">Script23.txt</a></li>
<li>Script 24: <a href="scripts/aula24/r-python.R" target="_blank">r-python.R</a>, <a href="scripts/aula24/r-rcpp.R" target="_blank">r-rcpp.R</a>, <a href="scripts/aula24/r-tcltk.R" target="_blank">r-tcltk.R</a>, <a href="scripts/aula24/add.cpp" target="_blank">add.cpp</a>, <a href="scripts/aula24/add.py" target="_blank">add.py</a></li>
<li>Script 25: ~</li>
</ul>
<h2 id="shiny">Exercícios e Scripts via <a href="https://shiny.rstudio.com/" target="_blank">Shiny</a></h2>
<p><a href="https://bendeivide.shinyapps.io/Curso-R/" target="_blank">Curso R via Shiny</a></p>
<h1 id="apresentacao"><i class="fas fa-book"></i> Apresentação do curso</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/_JqtU3X101E" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>O Curso <code>R</code> será todo aprensentado no formato online, sendo que as aulas terão vídeos como suporte, postados no canal <a href="http://youtube.com/bendeivide" target="_blank">Youtube/Ben Dêivide</a> divulgados ao longo do material. Os vídeos serão bem objetivos de curta duração para que usem como suporte com o material escrito. Como complemento desse material, disponibilizaremos os <a href="#scripts"><em>scripts</em></a> com os comandos utilizados em cada aula e sua versão em <a href="#shiny"><em>Shiny</em></a> para os que não quiserem realizar inicialmente a instalação do R e do RStudio, poderão utilizar uma versão <em>online</em> do material juntamente com a linguagem <code>R</code>.</p>
<h1 id="r-rstudio"><i class="fas fa-download"></i> Instalação do R e RStudio para o SO Windows</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8_GrR3FLZJM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>A linguagem <code>R</code> é o objetivo principal desse curso. Assim, faremos inicialmente a sua instalação, uma vez que o RStudio é apenas uma GUI, e sem o <code>R</code>, não há sentido instalá-lo.</p>
<p>Dessa forma, seguem os passos para a instalação:</p>
<ul>
<li>Instalação do <code>R</code>: <a href="https://cran.r-project.org/bin/windows/base/" target="_blank">https://cran.r-project.org/bin/windows/base/</a></li>
<li>Instalação do <a href="http://rstudio.org/">RStudio</a>: <a href="https://rstudio.com/products/rstudio/download/#download" target="_blank">https://rstudio.com/products/rstudio/download/#download</a></li>
</ul>
<p>Justificamos a utilizamos do <a href="http://rstudio.org/" target="_blank">RStudio</a>, pela quantidade de recursos disponíveis e a diversidade de usuários <code>R</code>, que hoje o perfil não é apenas de um programador, mas um usuário que necessita de uma ferramenta estatística para análise de seus dados. Dessa forma, até por questão de praticidade, e de uso pessoal, não deixaremos de repassar o entendimento sobre a linguagem <code>R</code> com o uso do <a href="http://rstudio.org/">RStudio</a>.</p>
<h1 id="tools-r-rstudio"><i class="fas fa-wrench"></i> Como utilizar o <a href="http://r-project.org/">R</a> e o <a href="http://rstudio.org/">RStudio</a></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/x_9kRo2sges" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>A primeira ideia que temos sobre a linguagem <code>R</code> é a linha de comando no <code>R</code>, que é simbolizada pelo prompt de comando “<code>&gt;</code>.” Este símbolo significa que o <code>R</code> está pronto para receber os comandos do usuário. O <em>prompt</em> de comando está localizado no console do <code>R</code>. Vejamos o console do <code>R</code> a seguir, que é o local que recebe as linhas de comando do usuário.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:promptr"></span>
<img src="images/promptr.png" alt="Console do R (Versão 4.0.3)." width="80%" />
<p class="caption">
Figure 1: Console do R (Versão 4.0.3).
</p>
</div>
</div>
<p>O <code>R</code> ao ser iniciado está pronto para ser inserido as linhas de comando desejadas. Uma forma simples de armazernar os seus comandos é por meio de um <em>script</em>, isto é, um arquivo de texto com extensão <code>.R</code>. Para criar basta ir em: <code>Arquivo &gt; Novo script...</code>. Muitas outras informações iremos ver ao longo do curso.</p>
<p>O <a href="http://rstudio.com">RStudio</a> se apresenta como uma interface para facilitar a utilização do <code>R</code>, tendo por padrão quatro quadrantes, apresentados na Figura <a href="#fig:iderstudio">2</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:iderstudio"></span>
<img src="images/ide_rstudio.png" alt="Interface do RStudio (Versão 1.4.1103)." width="80%" />
<p class="caption">
Figure 2: Interface do RStudio (Versão 1.4.1103).
</p>
</div>
</div>
<p>Muitas coisas na interface do <code>R</code> podem se tornar problemas para os usuários, uma vez que janelas gráficas, janelas de scripts, dentre outras, se sobrepõe. Uma vantagem no RStudio foi essa divisão de quadrantes, que torna muito mais organizado as atividades realizadas no <code>R</code>. De um modo geral, diremos que o primeiro quadrante é responsável pela entrada de dados, comandos, isto é, o <em>input</em>. O segundo quadrante, que é o console do R, representa tanto entrada como saída de informações (<em>input</em>/<em>output</em>). Dependendo as atividades as abas podem aumentar. O terceiro quadrante representa informações básicas como objetos no ambiente global, a memória de comandos na aba <em>History</em>, dentre outras, e também representa entrada como saída de informações (<em>input</em>/<em>output</em>). Por fim, o quarto quadrante é responsável por representação gráficas, instalação de pacotes, renderização de páginas <em>web</em>.</p>
<h1 id="rhistory"><i class="fab fa-r-project"></i> História do R</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/-plK308HcgU" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>A linguagem <code>R</code> tem a sua primeira aparição científica publicada em 1996, com o artigo intitulado <a href="https://doi.org/10.2307/1390807"><em>R: A Language for Data Analysis and Graphics</em></a>, cujos os autores são os desenvolvedores da linguagem, <a href="https://www.stat.auckland.ac.nz/~ihaka/">George Ross Ihaka</a> e <a href="https://gist.github.com/colliand/d6d4ff42a9124ca38bed8d90136f70f5">Robert Clifford Gentleman</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:criadoresr"></span>
<img src="images/criadores_r.png" alt="Criadores do R.^[Fonte das fotos: Robert Gentleman do site: https://biocasia2020.bioconductor.org/ e Ross Ihaka do site: https://www.stat.auckland.ac.nz/en/about/news-and-events-5/news/news-2017/2017/12/ross-ihaka-retires.html]" width="489" />
<p class="caption">
Figure 3: Criadores do R.<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>
</p>
</div>
</div>
<p>Durante a época em que estes professores trabalhavam na Universidade de Auckland, Nova Zelândia, desenvolvendo uma implementação alternativa da lingugagem <code>S</code>, desenvolvida por John Chambers, que comercialmente era o <code>S-PLUS</code>, nasceu em 1991, o projeto da linguagem <code>R</code>, em que em 1993 o projeto é divulgado e em 1995, o primeiro lançamento oficial, como software livre com a licença <a href="http://gnu.org/">GNU</a>. Devido a demanda de correções da linguagem que estava acima da capacidade de atualização em tempo real, foi criado em 1997, um grupo central voluntário, responsável por essas atualizações, o conhecido <em>R Development Core Team</em><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>, que hoje está em 20 membros: Douglas Bates, John Chambers, Peter Delgaard, Robert Gentleman, Kurt Hornik, Ross Ihaka, Tomas kalibera, Michael Lawrence, Friedrich Leish, Uwe Ligges, Thomas Lumley, Martin Maechler, Martin Morgan, Paul Murrel, Martyn Plummer, Brian Ripley, Deepayan Sarkarm, Duncan Temple Lang, Luke Tierney e Simon Urbanek.</p>
<p>Por fim, o CRAN (Comprehensive R Archive Network) foi oficialmente anunciado em 23 de abril de 1997<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>. O CRAN é um conjunto de sites (espelhos) que transportam material idêntico, com as contribuições do R de uma forma geral.</p>
<p><code>R</code> é uma linguagem de programação e ambiente de <em>software</em> livre e código aberto (<em>open source</em>). Entendemos<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>:</p>
<ul>
<li><em>Software</em> livre: <em>software</em> que respeita a liberdade e sendo de comunidade dos usuários, isto é, os usuários possuem a liberdade de executar, copiar, distribuir, estudar, mudar, melhorar o <em>software</em>. Ainda reforça que um <em>software</em> é livre se os seus usuários possuem quatro liberdades:
<ol type="1">
<li>Liberdade 0 - A liberdade de executar o programa como você desejar, para qualquer propósito;</li>
<li>Liberdade 1 - A liberdade de estudar como o programa funciona, e adaptá-la as suas necessidades;</li>
<li>Liberdade 2 - A liberdade de redistribuir cópias de modo que você possa ajudar outros;</li>
<li>Liberdade 3 - A liberdade de distribuir cópias de suas versões modificadas a outros.</li>
</ol></li>
</ul>
<p>Algo que deve está claro é que um <em>software</em> livre não significa não comercial. Sem esse fim, o <em>software</em> livre não atingiria seus objetivos.</p>
<p>Agora perceba que, segundo Richard Stallman<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a>, a ideia de software livre faz campanha pela liberdade para os usuários da computação. Por outro lado, o código aberto valoriza principalmente a vantagem prática e não faz campanha por princípios.</p>
<ul>
<li>Código aberto: Para Richard Stallman<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> código aberto apoia critérios um pouco mais flexíveis que os do software livre. Todos os códigos abertos de software livre lançados se qualificariam como código aberto. Quase todos os softwares de código aberto são software livre, mas há exceções, como algumas licenças de código aberto que são restritivas demais, de forma que elas não se qualificam como licenças livres. Nesse contexto, o autor cita muitas situações que diferenciam os dois termos. Vale a pena a leitura.</li>
</ul>
<p>A linguagem <code>R</code> é uma combinação da linguagem <code>S</code> com a semântica de escopo léxico da linguagem <code>Scheme</code>. Dessa forma, a linguagem <code>R</code> se diferencia em dois aspectos principais<a href="#fn7" class="footnote-ref" id="fnref7" role="doc-noteref"><sup>7</sup></a>:</p>
<ul>
<li><strong>Gerenciamento de memória</strong>: usando as próprias palavras de Ross Ihaka<a href="#fn8" class="footnote-ref" id="fnref8" role="doc-noteref"><sup>8</sup></a>, em R, alocamos uma quantidade fixa de memória na inicialização e a gerenciamos com um coletor de lixo dinâmico. Isso significa que há muito pouco crescimento de <em>heap</em> e, como resultado, há menos problemas de paginação do que os vistos na linguagem S. <!-- stack e heap: https://www.ti-enxame.com/pt/memory-management/o-que-e-onde-estao-pilha-e-o-heap/957385947/ --></li>
<li><strong>Escopo</strong>: na linguagem <code>R</code>, as funções acessam as variáveis criadas no corpo da própria função, como também as variáveis contidas no ambiente que a função foi criada. No caso da linguagem <code>S</code>, isso não ocorre, assim, como por exemplo na linguagem <code>C</code>, em que as funções acessam apenas variáveis definidas globalmente.</li>
</ul>
<p>Vejamos alguns exemplos para entendimento (Se você ainda não está ambientado ao <code>R</code>, estude esse módulo primeiro, e depois reflita sobre esses exemplos). Antes de executar as linhas de comando, instale o pacote <code>lobstr</code> como segue:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Instale o pacote lobstr</span>
<span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"lobstr"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<ul>
<li>Exemplo 1: As funções têm acesso ao escopo em que foram criadas.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um nome "n" associado a um objeto 10 no escopo da funcao</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>

<span class='co'># Criando um nome "funcao" associado a um objeto que eh uma funcao</span>
<span class='va'>funcao</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># Imprimindo 'funcao'</span>
<span class='fu'>funcao</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 10</code></pre>
</div>
<ul>
<li>Exemplo 2: As variáveis criadas ou alteradas dentro de uma função, permanecem na função.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um nome "n" associado a um objeto 10 no escopo da funcao</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_addr.html'>obj_addr</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span> <span class='co'># Identificador do objeto</span>
</code></pre>
</div>
<pre><code>[1] &quot;0x290f1900&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um nome "funcao" associado a um objeto que eh uma funcao</span>
<span class='va'>funcao</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='co'># Imprimindo n</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>
  <span class='co'># Criando um nome "n" associado a um objeto 15 no corpo da funcao</span>
  <span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>15</span>
  <span class='co'># Imprimindo n</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='co'># Imprimindo 'funcao'</span>
<span class='fu'>funcao</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 10
[1] 15</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Imprimindo 'n'</span>
<span class='va'>n</span>
</code></pre>
</div>
<pre><code>[1] 10</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_addr.html'>obj_addr</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span> <span class='co'># Identificador do objeto</span>
</code></pre>
</div>
<pre><code>[1] &quot;0x290f1900&quot;</code></pre>
</div>
<ul>
<li>Exemplo 3: As variáveis dentro de uma função permanecem nelas, exceto no caso em que a atribuição ao escopo seja explicitamente solicitada.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um nome "n" associado a um objeto 10 no escopo da funcao</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_addr.html'>obj_addr</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span> <span class='co'># Identificador do objeto</span>
</code></pre>
</div>
<pre><code>[1] &quot;0x9f51a30&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um nome "funcao" associado a um objeto que eh uma funcao</span>
<span class='va'>funcao</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='co'># Imprimindo n</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>
  <span class='co'># Criando um nome "n" associado a um objeto 15 no corpo da funcao</span>
  <span class='va'>n</span> <span class='op'>&lt;&lt;-</span> <span class='fl'>15</span>
  <span class='co'># Imprimindo n</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='co'># Imprimindo 'funcao'</span>
<span class='fu'>funcao</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 10
[1] 15</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Observe que depois de usar a superatribuicao ("&lt;&lt;-") dentro da funcao,</span>
<span class='co'>#o nome "n" passou a estar associado ao numero 15 e nao mais ao numero 10, observe</span>
<span class='va'>n</span>
</code></pre>
</div>
<pre><code>[1] 15</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_addr.html'>obj_addr</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span> <span class='co'># Identificador do objeto</span>
</code></pre>
</div>
<pre><code>[1] &quot;0x9f51950&quot;</code></pre>
</div>
<ul>
<li>Exemplo 4: Por fim, embora a linguagem <code>R</code> tenha um escopo padrão, chamado ambiente global, os escopos de funções podem ser alterados.</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um nome 'n' associado a um objeto 10 no escopo da funcao (ambiente global)</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='co'># Criando um nome 'funcao' associado a um objeto que eh uma função criado no ambiete global</span>
<span class='va'>funcao</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='co'># Imprimindo n</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>n</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='co'># Imprimindo 'funcao' no ambiente global</span>
<span class='fu'>funcao</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 10</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um novo ambiente</span>
<span class='va'>novo_ambiente</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/environment.html'>new.env</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='co'># Criando um nome "n" associado ao objeto 20 no ambiente  'novo_ambiente'</span>
<span class='va'>novo_ambiente</span><span class='op'>$</span><span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>20</span>
<span class='co'># Criando um objeto funcao no ambiente 'novo_ambiente'</span>
<span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='va'>funcao</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='va'>novo_ambiente</span>
<span class='co'># Imprimindo 'funcao' no ambiente 'novo_ambiente'</span>
<span class='fu'>funcao</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 20</code></pre>
</div>
<p>Como a linguagem <code>S</code> é também uma linguagem interpretada cuja base é a linguagem <code>FORTRAN</code>, a linguagem <code>R</code> também é uma linguagem interpretada e baseada além da linguagem <code>S</code>, tem como base as linguagens de baixo nível <code>C</code> e <code>FORTRAN</code> e a própria linguagem <code>R</code>.</p>
<p>Embora o <code>R</code> tenha uma interface baseada em linhas de comando, existem muitas interfaces gráficas ao usuário com destaque ao <a href="http://rstudio.org">RStudio</a>, criado por Joseph J. Allaire, Figura <a href="#fig:jjallaire">4</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:jjallaire"></span>
<img src="images/jjallaire.jpg" alt="J. J. Allaire, o criador do RStudio^[Fonte da foto: https://rstudio.com/speakers/j.j.-allaire/]." width="80%" />
<p class="caption">
Figure 4: J. J. Allaire, o criador do RStudio<a href="#fn9" class="footnote-ref" id="fnref9" role="doc-noteref"><sup>9</sup></a>.
</p>
</div>
</div>
<p>Essa interface tornou o <em>R</em> mais popular, pois além de produzir pacotes de grande utilização hoje como a família de pacotes <code>tidyverse</code>, <code>rmarkdown</code>, <code>shiny</code>, dentre outros, permite uma eficiente capacidade de trabalho de análise de utilização do <code>R</code>. Uma vez que o <a href="http://rstudio.org">RStudio</a> facilita a utilização de muitos recursos por meio de botões, como por exemplo, a criação de um pacote R. A quem diga que para um iniciante em <code>R</code>, não seja recomendado utilizar o <a href="http://rstudio.org">RStudio</a> para o entendimento da linguagem. Cremos, que o problema não é a IDE<a href="#fn10" class="footnote-ref" id="fnref10" role="doc-noteref"><sup>10</sup></a> utilizada, e sim, o caminho onde deseja chegar com a linguagem <code>R</code>.</p>
<p>No Brasil, o primeiro espelho do CRAN foi criado na UFPR, pelo grupo do Prof. Paulo Justiniano. Inclusive um dos primeiros materiais mais completos sobre a linguagem <code>R</code> produzidos no Brasil, foi dele, iniciado em 2005, intitulado <a href="http://www.leg.ufpr.br/~paulojus/embrapa/Rembrapa/">Introdução ao Ambiente Estatístico <code>R</code></a>. Vale a pena assistirmos o evento a palestra: <em>R Releflões: um pouco de história e experiências com o R</em>, proferida pelo <a href="http://www.leg.ufpr.br/~paulojus/">Prof. Paulo Justiniano Ribeiro Júnior</a>, no <em>R Day - Encontro nacional de usuários do R</em>, ocorrido em 2018 em Curitiba/UFPR, do qual o vídeo está disponível no Canal (Youtube) <a href="https://www.youtube.com/channel/UC3fBJBHhLNsylRw009I2GNw">LEG UFPR</a>.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/fnGvDEkjZy0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Para quem não sabe, o Prof. Paulo Justiniano (Figura <a href="#fig:paulojus">5</a>) e sua equipe trouxeram o primeiro espelho do R para o Brasil e foi o desenvolvedor de um dos 100 primeiros pacotes submetidos ao CRAN<a href="#fn11" class="footnote-ref" id="fnref11" role="doc-noteref"><sup>11</sup></a>. Devido a sua ida para Lancaster/Inglaterra para fazer o doutorado, em 1997, se deparou com o início dos estudos sobre o <code>R</code> fora do país. Isso porque havia uma necessidade muito grande de um programa para ser utilizado nas plataforma UNIX. Nesse momento a linguagem <code>S</code> estava sendo uma saída para isso, porém, o uso de memória que a linguagem consumia nos computadores, na criação das rotinas, era muito grande (Claro que grande para aquela época!). Não satisfeito, ao voltar para o Brasil, em 2002, se depara com alguns usuários da linguagem <code>S</code>, porém, certo como mudança de cultura na utilização de linguagem <code>R</code>, passou a densevolver materiais didáticos da linguagem, para as disciplinas do departamento de Estatística (UFPR).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure"><span id="fig:paulojus"></span>
<img src="images/paulo_justiniano.jpeg" alt="Foto de divulgação de Paulo Justiniano^[Fonte da foto: https://www.ufpr.br/portalufpr/noticias/disciplinas-transversais-para-programas-de-pos-graduacao-abrem-inscricoes-nesta-segunda-feira/] no *R Day*." width="50%" />
<p class="caption">
Figure 5: Foto de divulgação de Paulo Justiniano<a href="#fn12" class="footnote-ref" id="fnref12" role="doc-noteref"><sup>12</sup></a> no <em>R Day</em>.
</p>
</div>
</div>
<!--
Falar sobre a história do R e como caracterizá-la.

Caracterizações:

- Linguagem interpretada
- Linguagem ou programa
- linguagem de código livre
- objetivo principal: Computação estatística e gráficos

-->
<h1 id="rwork"><i class="fas fa-briefcase"></i> Como o R trabalha</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/8RNFOfE3CmY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Iniciamos a discussão por uma afirmação de John McKinley Chambers, do qual afirmou que o <code>R</code> tem três princípios <span class="citation" data-cites="chambers2016">(<a href="#ref-chambers2016" role="doc-biblioref">Chambers 2016</a>)</span>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:chambers"></span>
<img src="images/john_chambers.jpg" alt="John Chambers^[Fonte da foto: Retirada de sua página pessoal, [https://statweb.stanford.edu/~jmc4/](https://statweb.stanford.edu/~jmc4/)], o criador da linguagem `S`."  />
<p class="caption">
Figure 6: John Chambers<a href="#fn13" class="footnote-ref" id="fnref13" role="doc-noteref"><sup>13</sup></a>, o criador da linguagem <code>S</code>.
</p>
</div>
</div>
<blockquote>
<p>
<ul>
<li><strong>Princípio do Objeto</strong>: Tudo que existe em <code>R</code> é um objeto;</li>
<li><strong>Princípio da Função</strong>: Tudo que acontece no <code>R</code> é uma chamada de função;</li>
<li><strong>Princípio da Interface</strong>: Interfaces para outros programas são parte do <code>R</code>.</li>
</ul>
</p>
</blockquote>
<p>Ao longo de todo o curso, para os três módulos, iremos nos referir a esses princípios. Vamos inicialmente observar uma adaptação da ilustração feita por <span class="citation" data-cites="paradis2005"><a href="#ref-paradis2005" role="doc-biblioref">Paradis</a> (<a href="#ref-paradis2005" role="doc-biblioref">2005</a>)</span>, mostrando como o <code>R</code> trabalha, Figura <a href="#fig:rworks">7</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:rworks"></span>
<img src="images/rworks.png" alt="Esquema de como o `R` funciona." width="50%" />
<p class="caption">
Figure 7: Esquema de como o <code>R</code> funciona.
</p>
</div>
</div>
<p>Toda ação que acontece no <code>R</code> é uma chamada de função (Operadores e funções), que por sua vez é armazenada na forma de um objeto, e este se associa a um nome. A forma de execução de uma função é baseada em argumentos (dados, fórmulas, expressões, etc), que são entradas, ou argumentos padrões que já são pré-estabelecidos na criação da função. Esses tipos de argumentos podem ser modificados na execução da função. Por fim, a saída é o resultado, que é também um objeto, e pode ser usado como argumento de outras funções.</p>
<p>Na Figura <a href="#fig:rworks">7</a>, observamos que todas as ações realizadas sobre os objetos ficam armazenadas na memória ativa do computador. Esses objetos são criados por comandos (teclado ou mouse) através de funções ou operadores (chamada de função), dos quais leem ou escrevem arquivo de dados do disco rígido, ou leem da própria internet. Por fim, o resultado desses objetos podem ser apresentados no console (memória ativa), exportados em formato de imagem, página web, etc. (disco rígido), ou até mesmo ser reaproveitado como argumento de outras funções, porque o resultado também é um objeto.</p>
<h1 id="comandos-workspace"><i class="fas fa-terminal"></i> Comandos no R e Ambiente Global</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/JQlNBgDJUUc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<h2 id="console-e-prompt-de-comando">Console e <em>Prompt</em> de comando</h2>
<p>Como falado anteriormente, o <code>R</code> é uma linguagem baseada em linhas de comando, e as linhas de comando, são executadas uma de cada vez, no console. Assim que o prompt de comando está visível na tela do console, o <code>R</code> indica que o usuário está pronto para inserir as linhas de comando. O símbolo padrão do prompt de comando é “<code>&gt;</code>,” porém ele pode ser alterado. Para isso, use a linha de comando, por exemplo:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/options.html'>options</a></span><span class='op'>(</span>prompt <span class='op'>=</span> <span class='st'>"R&gt;"</span><span class='op'>)</span>
<span class='co'># Toda vez que o console iniciar, começarar por 'R&gt;'</span>
<span class='fl'>10</span>
</code></pre>
</div>
<pre><code>[1] 10</code></pre>
</div>
<p>O conjunto de símbolos que podem ser utilizados no <code>R</code> depende do sistema operacional e do país em que o <code>R</code> está sendo executado. Basicamente, todos os símbolos alfanuméricos podem ser utilizados, mas para evitar problemas quanto ao uso das letras aos nomes, opte pelos caracteres ASCII.</p>
<p>A escolha do nome associado a um objeto tem algumas regras:</p>
<ul>
<li>Deve consistir em letras, dígitos, <code>.</code> e <code>_</code>;</li>
<li>Os nomes devem ser iniciado por uma letra ou um ponto não seguido de um número, isto é, Ex.: <code>.123</code>, <code>1n</code>, dentre outros;</li>
<li>As letras maiúsculas se distinguem das letras minúsculas;</li>
<li>Não pode inicia por <code>_</code> ou dígito, é retornado um erro no console caso isso ocorra;</li>
<li>Não pode usar qualquer uma das palavras reservadas pela linguagem, isto é, <code>TRUE</code>, <code>FALSE</code>, <code>if</code>, <code>for</code>, dentre outras, que pode ser consultado usando o comando <code>?Reserved()</code>.</li>
</ul>
<p>Um nome que não segue essas regras é chamado de um nome <strong>não sintático</strong>. Um comando que pode ser usado para converter nomes não sintatícos em nomes <strong>sintáticos</strong> é <code>make.names</code>.</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<p>Apesar dessas justificativas, algumas situações como as apresentadas nos exemplos anteriores são possíveis, ver <span class="citation" data-cites="hadley2019"><a href="#ref-hadley2019" role="doc-biblioref">Wickham</a> (<a href="#ref-hadley2019" role="doc-biblioref">2019</a>)</span> na <a href="https://adv-r.hadley.nz/names-values.html#non-syntactic">Seção 2.2.1</a></p>
<h2 id="comandos-elementares">Comandos elementares</h2>
<p>Os <strong>comandos elementares</strong> podem ser divididos em <strong>expressões</strong> e <strong>atribuições</strong>. Por exemplo, podemos está interessados em resolver a seguinte expressão <span class="math inline">\(10 + 15 = 25\)</span>. No console quando passamos pelo comando:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fl'>10</span> <span class='op'>+</span> <span class='fl'>15</span>
</code></pre>
</div>
<pre><code>[1] 25</code></pre>
</div>
<p>O <code>R</code> avalia essa expressão internamente e imprime o resultado na tela, após apertar o botão <em>ENTER</em> do teclado. Esse fato é o que ocorre no segundo princípio mencionado por <span class="citation" data-cites="chambers2016"><a href="#ref-chambers2016" role="doc-biblioref">Chambers</a> (<a href="#ref-chambers2016" role="doc-biblioref">2016</a>)</span>, tudo em <code>R</code> acontece por uma chamada de função. Na realidade o símbolo <code>+</code> é uma função interna do <code>R</code>, que chamamos de função primitiva, porque foi implementada em outra linguagem. Assim, essa é o resultado de três objetos (“<code>10</code>,” “<code>+</code>,” “<code>15</code>”) que são avaliados internamente, do qual a função <code>+</code> é chamada, e em seguida o resuldo é impresso no console.</p>
<p>Do mesmo modo, se houver algum problema em algum dos objetos o retorno da avaliação pode ser uma mensagem de erro. Um caso muito prático é quando utilizamos o separador de casas decimais para os números sendo a vírgula. Quando na realidade deve ser um ponto “<code>.</code>” respeitando o sistema internacional de medidas. A vírgula é utilizada para separar elementos, argumentos em uma função, etc. Vejamos o exemplo:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="dv">10</span>,<span class="dv">5</span> <span class="sc">+</span> <span class="dv">15</span>,<span class="dv">5</span></span></code></pre></div>
<pre><code>Error: &lt;text&gt;:1:3: &#39;,&#39; inesperado
1: 10,
      ^</code></pre>
</div>
<p>Porém, tem que ficar claro que uma expressão é qualquer comando repassado no console. Este comando é avaliado e seu resultado impresso, há menos que explicitamente o usuário queira torná-lo invisível<a href="#fn14" class="footnote-ref" id="fnref14" role="doc-noteref"><sup>14</sup></a>. Caso algum elemento do comando não seja reconhecido pelo <code>R</code>, há um retorno de alguma mensagem em forma de “erro” ou “alerta,” tentando indicar o possível problema. Todos esses processos ocorrem na memória ativa do computador, e uma vez o resultado impresso no console, o valor é perdido, há menos que você atribua essa expressão a um nome, que erroneamento usamos o termo: “criamos um objeto!” A atribuição dessa expressão será dada pela junção de dois símbolos “<code>&lt;-</code>,” falado mais a frente. Um comando em forma de atribuição também avalia a sua expressão, um nome se associa ao seu resultado, e o resultado será mostrado, se posteriormente, após a execução você digitar o “nome” atribuído a esse resultado. Vejamos um exemplo:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Foi criado um objeto do tipo caractere e o nome "meu_nome" foi associado a ele</span>
<span class='co'># O 'R' avalia essa expressão, mas não imprime no console!</span>
<span class='va'>meu_nome</span> <span class='op'>&lt;-</span> <span class='st'>"Ben"</span>

<span class='co'># Para imprimir o resultado da expressão, digitamos o nome "meu_nome" no console</span>
<span class='co'># e apertamos o botão ENTER do teclado!</span>
<span class='va'>meu_nome</span>
</code></pre>
</div>
<pre><code>[1] &quot;Ben&quot;</code></pre>
</div>
<h2 id="execução-dos-comandos">Execução dos comandos</h2>
<p>Quando inserimos um comando no console, executamos uma linha de comando por vez ou separados por “;” em uma mesma linha. Vejamos</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Uma linha de comando por vez</span>
<span class='va'>meu_nome</span> <span class='op'>&lt;-</span> <span class='st'>"Ben"</span> <span class='co'># Criamos e associamos um nome ao objeto</span>
<span class='va'>meu_nome</span> <span class='co'># Imprimos o objeto</span>
</code></pre>
</div>
<pre><code>[1] &quot;Ben&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Tudo em uma linha de comando</span>
<span class='va'>meu_nome</span> <span class='op'>&lt;-</span> <span class='st'>"Ben"</span>; <span class='va'>meu_nome</span>
</code></pre>
</div>
<pre><code>[1] &quot;Ben&quot;</code></pre>
</div>
<p>Se um comando for muito grande e não couber em uma linha, ou caso deseje completar um comando em mais de uma linha, após a primeira linha haverá o símbolo “<code>+</code>” iniciando a linha seguinte ao invés do símbolo de prompt de comando (“<code>&gt;</code>”), até que o comando esteja sintaticamente completo. Vejamos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Uma linha de comando em mais de uma linha</span>
<span class='op'>(</span><span class='fl'>10</span> <span class='op'>+</span> <span class='fl'>10</span><span class='op'>)</span> <span class='op'>/</span>
  <span class='fl'>2</span>
</code></pre>
</div>
<pre><code>[1] 10</code></pre>
</div>
<p>Por fim, todas linhas de comando quando iniciam pelo símbolo jogo da velha, “<code>#</code>” indica um comentário e essa linha de comando não é avaliada pelo console, apenas impressa na tela. E ainda, as linhas de comandos no console são limitadas a aproximadamente 4095 bytes (não caracteres).</p>
<h2 id="chamada-e-correção-de-comandos-anteriores">Chamada e correção de comandos anteriores</h2>
<p>Uma vez que um comando foi executado no console, esse comando por ser recuperado usando as teclas de setas para cima e para baixo do teclado, recuperando os comandos anteriorermente executados, e que os caracteres podem ser alterados usando as teclas esquerda e direita do teclado, removidas com o botão <em>Delete</em> ou <em>Backspace</em> do teclado, ou acrescentadas digitando os caracteres necessários. Uma outra forma de completar determinados comandos já existentes, como por exemplo, uma função que já existe nas bibliotecas de instalação do R, usando o botão <em>Tab</em> do teclado. O usuário começa digitando as iniciais, e para completar o nome aperta a tecla <em>Tab</em>. Posteriormente, basta completar a linha de comando e apertar <em>ENTER</em> para executá-la. Vejamos um exemplo a seguir.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/0MRPmVsPvk4" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Usando esses recursos no <a href="http://rstudio.org/">RStudio</a> são mais dinâmicos e vão mais além. Por exemplo, quando usamos um objeto do tipo função, estes apresentam o que chamamos de argumento(s) dentro do parêntese de uma função, do qual são elementos necessários, para que a função seja executada corretamente. Nesse caso, ao inseri o nome dessas funções no console, usando o RStudio, ao iniciá-la com a abertura do parêntese, abre-se uma janela informano todos os argumentos possíveis dessa função. Isso torna muito dinâmico escrever linhas de comando, porque não precisaremos estar lembrando do nome dos argumentos de uma função, mas apenas entender o objetivo dessa função. Vejamos um exemplo a seguir.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/KL3WAB_GFNI" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<h2 id="ambiente-global-ou-área-de-trabalho-workspace">Ambiente Global (ou área de trabalho, <em>Workspace</em>)</h2>
<p>Quando usamos um comando de atribuição no console, o <code>R</code> armazena o nome associado ao objeto criado na área de trabalho (<em>Workspace</em>), que nós chamamos de Ambiente Global. Teremos uma seção introdutória na seção <a href="#env-searchpath">Ambientes e caminhos de busca</a>, mas entendamos inicialmente que o objetivo de um ambiente é associar um conjunto de nomes a um conjunto de valores. Por exemplo:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Nomes criados no ambiente </span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>10</span> <span class='op'>-</span> <span class='fl'>6</span>; <span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fl'>10</span> <span class='op'>+</span> <span class='fl'>4</span>; <span class='va'>w</span> <span class='op'>&lt;-</span> <span class='st'>"Maria Isabel"</span>
<span class='co'># Verificando o nomes contidos no ambiente global</span>
<span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;cran&quot;          &quot;funcao&quot;        &quot;github&quot;        &quot;meu_nome&quot;     
 [5] &quot;n&quot;             &quot;novo_ambiente&quot; &quot;rlink&quot;         &quot;rstudio&quot;      
 [9] &quot;w&quot;             &quot;x&quot;             &quot;y&quot;            </code></pre>
</div>
<p>Observe que todos os objetos criados até o momento estão listados, e o que é mais surpreendente é que ambientes podem conter outros ambientes e até mesmo se conter. Observe o objeto <code>meu_nome</code> é um ambiente e está contido no Ambiente global. Será sempre dessa forma que recuperaremos um objeto criado no console do R. Caso contrário, se no console esse comando não for de atribuição esse objeto é perdido.</p>
<h1 id="filesdata"><i class="fas fa-file"></i> Arquivos <code>.Rdata</code> e <code>.Rhistory</code></h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/-fFVgTzsoxQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Ao final do que falamos até agora, todo o processo ao inserir linhas de comando do console, e desejarmos finalizar os trabalhos do ambiente <code>R</code>, dois arquivos são criados, sob a instrução do usuário em querer aceitar ou não, um <em>.RData</em> e outro <em>.Rhistory</em>, cujas finalidades são:</p>
<ul>
<li><em>.RData</em>: salvar todos os objetos criados que estão atualmente disponíveis;</li>
<li><em>.Rhistory</em>: salvar todas as linhas de comandos inseridas no console.</li>
</ul>
<p>Ao iniciar o <code>R</code> no mesmo diretório onde esses arquivos foram salvos, é carregado toda a sua área de trabalho anteriomente, bem como o histórico das linhas de comando utilizadas anteriormente.</p>
<h1 id="savescript"><i class="fas fa-save"></i> Criando e salvando um script</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ETreeG5HK60" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>A melhor forma de armazenarmos nossas linhas de código inseridas no console é criando um <em>Script</em>. Este é um arquivo de texto com a extensão “<code>.R</code>.” Uma vez criada, poderemos ao final salvar o arquivo e guardá-lo para utilizar futuramente.</p>
<p>No <code>R</code>, ao ser iniciado poderemos ir no menu em <code>Arquivo &gt; Novo script...</code>. Posteriormente, pode ser inserido as linhas de comando, executadas no console pela tecla de atalho <code>F5</code>. As janelas do <code>Script</code> e console possivelmente ficarão sobrepostas. Para uma melhor utilização, estas janelas podem ficar lado a lado, configurando-as no menu em <code>Janelas &gt; Dividir na horizontal (ou Dividir lado a lado)</code>.</p>
<p>No RStudio, poderemos criar um <em>Script</em> no menu em <code>File &gt; New File &gt; R Script</code>, ou diretamente no ícone abaixo da opção <code>File</code> no menu, cujo o símbolo é um arquivo com o símbolo “+” em verde, que é o ícone do <code>New File</code>, e escolher <code>R Script</code>. Esse arquivo abrirá no primeiro quadrante na interface do RStudio.</p>
<p>Para salvar, devemos clicar no botão com o símbolo de disquete (R/RStudio), escolher o nome do arquivo e o diretório onde o arquivo será armazenado no seu computador. Algumas ressalvas devem ser feitas:</p>
<ul>
<li>Escolha sempre um nome sem caracteres especiais, com acentos, etc.;</li>
<li>Escolha sempre um nome curto ou abreviado, que identifique a finalidade das linhas de comando escritas;</li>
<li>Evite espaços se o nome do arquivo for composto. Para isso, use o símbolo <em>underline</em> “<code>_</code>”;</li>
<li>Quando escrever um código, evite também escrever caracteres especiais, exceto em casos de necessidade, como imprimir um texto na tela, títulos na criação de gráficos, dentre outras. Nos referimos especificamente, nos comentários do código.</li>
</ul>
<p>Um ponto bem interessante é o diretório. Quando criamos um <em>Script</em> a primeira vez, e trabalhamos nele a pós a criação, muitos erros podem ser encontrados de início. Um problema clássico é a importação de dados. O usuário tem um conjunto de de dados e deseja fazer a importação para o <code>R</code>, porém, mesmo com todos os comandos corretos, o console retorna um erro, informando que não existe esse arquivo que contém os dados para serem informados. Isso é devido ao diretório de trabalho atual. Para verificar qual o diretório que está trabalhando no momento, use a linha de comando:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Para alterar o diretório de trabalho, o usuário deve usar a seguinte função <code>setwd("Aqui, deve ser apontado para o local desejado!")</code>. Supomos que salvamos o nosso <em>Script</em> tem sido em <code>C:\meus_scripts_r</code>. Assim, usamos a função <code>setwd</code> e ao apontarmos o local, as barras devem ser inseridas de modo invertido, isto é, <code>setwd("C:/meu_scripts_r")</code>, além de estar entre aspas.</p>
<p>No RStudio, isso pode ser feito em <code>Session &gt; Set Working Directory &gt; To Source File Location</code>. Isso levará ao diretório corrente do <em>Script</em>. Se desejar escolher outro diretório, vá em <code>Session &gt; Set Working Directory &gt; Choose Directory...</code>. Porém, uma vez criado um <code>Script</code>, e utilizado novamente, se o usuário estiver abrindo o RStudio também naquele primeiro momento, por padrão, o diretório de trabalho corrente será o mesmo do diretório do <code>Script</code>. Isso acaba otimizando o trabalho.</p>
<p>Devemos estar atentos também, quando trabalhamos utilizando <code>Scripts</code> ou arquivos de banco de dados, em locais diferentes do diretório corrente. Um outro recurso interessante é a função <code>source()</code>, que tem o objetivo de executar todas as linhas de comando de um <code>Script</code> sem precisar abri-lo. Isso pode ser útil, quando criamos funções para as nossas atividades, porém elas não se encontram no <code>Script</code> de trabalho para o momento. Assim, podemos criar um <code>Script</code> auxiliar que armazenas todas as funções criadas para as análises desejadas, e no <code>Script</code> corrente, poderemos chamá-las sem precisar abri o <code>Script</code> auxiliar. Todos os objetos passam a estar disponíveis no ambiente global.</p>
<!--
- setwd() / getwd()
- source()
-->
<p>Por fim, algo de muita importância para um programador, <strong>comente suas linhas de comando</strong>. Mas faça isso a partir do primeiro dia em que você criou o seu primeiro <em>Script</em>. Isso criará um hábito, uma vez que o arquivo não está sendo criado apenas para um momento, mas para futuras consultas. E quando voltamos a <em>Scripts</em> com muitas linhas de comando, principalmente depois de algum tempo, e sem comentários, possivelmente você passará alguns instantes para tentar entender o que foi escrito.</p>
<p>Outra coisa importante, é a <strong>boa prática de escrita de um código</strong>, e o RStudio nos proporciona algumas ferramentas interessantes. Mas isso será visto mais a frente.</p>
<h1 id="objetos"><i class="fas fa-arrow-circle-left"></i> Objetos</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6t9h9zgWyTE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Definimos um objeto como uma entidade no ambiente <code>R</code> com características internas contendo informações necessárias para interpretar sua estrutura e conteúdo. Essas características são chamadas de <strong>atributos</strong>. Vamos entender o termo estrutura como a disposição de como está o seu conteúdo. Por exemplo, a estrutura de um objeto mais simples no <code>R</code> é um vetor atômico, pois os elementos contidos nele, apresenta o mesmo <strong>modo</strong>, um tipo de <strong>atributo</strong>. Falaremos nisso, mais à frente. De forma didática, adaptaremos a representação dos objetos no formato de diagrama.</p>
<p>Vejamos o seguinte código:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
</code></pre>
</div>
</div>
<p>Todo mundo que tem uma certa noção sobre a linguagem <code>R</code> afirmaria: “criei um objeto <code>x</code> que recebe o valor 10.” Para <span class="citation" data-cites="hadley2019"><a href="#ref-hadley2019" role="doc-biblioref">Wickham</a> (<a href="#ref-hadley2019" role="doc-biblioref">2019</a>)</span> essa afirmação é imprecisa e pode levar um entendimento equivocado sobre o que acontece de fato. Para o mesmo autor, o correto é afirmar que o objeto <code>10</code> está se ligando a um nome. E de fato, o objeto não tem um nome, mas o nome tem um objeto. O símbolo que associa um objeto a um nome é o de atribuição, <code>&lt;-</code>, isto é, a junção do símbolo desigualdade menor e o símbolo de menos. Para ver qual objeto associado ao nome, o usuário precisa apenas digitar o nome no console e apertar a tecla <em>ENTER</em>.</p>
<p>Representaremos em termos de diagrama, um nome se ligando a um objeto, na Figura <a href="#fig:objx">8</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:objx"></span>
<img src="images/x=10.png" alt="Dizemos que o nome `'x'` se liga ao objeto do tipo (estrutura) vetor." width="256" />
<p class="caption">
Figure 8: Dizemos que o nome <code>'x'</code> se liga ao objeto do tipo (estrutura) vetor.
</p>
</div>
</div>
<p>O identificador na memoría ativa desse objeto pode ser obtida por:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_addr.html'>obj_addr</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='co'># [1] "0xf8a104fc20"</span>
</code></pre>
</div>
</div>
<p>O diagrama explica que o nome criado “<code>x</code>” se associou com um objeto do <strong>tipo</strong> (estrutura) vetor (<code>vector</code>) e <strong>modo</strong> numérico (<code>numeric</code>)<a href="#fn15" class="footnote-ref" id="fnref15" role="doc-noteref"><sup>15</sup></a>, cuja identificação na memória ativa do seu computador foi <code>&lt;0xf8a104fc20&gt;</code>. É claro que para cada vez que o usuário abri o ambiente <code>R</code> e executar novamente esse comando, ou repeti o comando, esse identificador irá alterar.</p>
<p>Essa outra representação ficará mais claro para a afirmação feita anteriormente, no segundo diagrama, Figura <a href="#fig:objxy">9</a>, que representa a ligação do nome “<code>y</code>” ao mesmo objeto. Os termos nos diagramas, serão usados de acordo com a sintaxe da linguagem com os termos em inglês para melhor compreensão e fixação dos termos utilizados em <code>R</code>, uma vez que os termos na linguagem são baseados nesse idioma.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>y</span> <span class='op'>&lt;-</span> <span class='va'>x</span>
<span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_addr.html'>obj_addr</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span>
<span class='co'># [1] "0xf8a104fc20"</span>
</code></pre>
</div>
</div>
<p>Observem que não houve a criação de um outro objeto, mas apenas a ligação de mais um nome ao objeto existente, pois o identificador na memória ativa para o objeto não alterou, é o mesmo. Logo, não temos um outro objeto, mais dois nomes que se ligam ao mesmo objeto.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:objxy"></span>
<img src="images/y=x=10.png" alt="Dizemos que o nome `'x'` e '`y`' se ligam ao objeto do tipo (estrutura) vetor." width="252" />
<p class="caption">
Figure 9: Dizemos que o nome <code>'x'</code> e ‘<code>y</code>’ se ligam ao objeto do tipo (estrutura) vetor.
</p>
</div>
</div>
<p>Mais especificamente, acrescentamos um outro diagrama, Figura <a href="#fig:objxyglobalenv">10</a>, mostrando a representação do ambiente global (<code>.GlobalEnv</code>, nome associado ao objeto que representa o ambiente global).</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:objxyglobalenv"></span>
<img src="images/y=x=10_globalenv.png" alt="Dizemos que o nome `'x'` e `'y'` se ligam ao objeto do tipo (estrutura) vetor e essa ligação fica armazenada no ambiente global." width="80%" />
<p class="caption">
Figure 10: Dizemos que o nome <code>'x'</code> e <code>'y'</code> se ligam ao objeto do tipo (estrutura) vetor e essa ligação fica armazenada no ambiente global.
</p>
</div>
</div>
<p>De todo modo, deixaremos para o módulo <a href="nintermediario.html">Programação em R (Nível Intermediário)</a>, uma abordagem mais profunda sobre o assunto.</p>
<p>O símbolo de atribuição poderá ser representado na direção da esquerda para à direita ou vice-versa, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='fl'>10</span> <span class='op'>-&gt;</span> <span class='va'>x</span>
</code></pre>
</div>
</div>
<p>Essas duas linhas de comando anteriores podem ter passado despercebidas pelo leitor em uma situação. Se na segunda linha tivéssemos alterado o valor do objeto de <code>10</code> para <code>30</code>, por exemplo, a associação de <code>x</code> seria ao objeto <code>30</code>. Isso significa que se o nome já existe, ele será apagado da memória ativa do computador e associado ao novo objeto. Veja,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_addr.html'>obj_addr</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='co'># [1] "0xf8a104fc20"</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>30</span>
<span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_addr.html'>obj_addr</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='co'># [1] "0x42db6dbb50"</span>
</code></pre>
</div>
</div>
<p>Uma outra forma menos convencional é usar o comando <code>assign</code>, veja:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/assign.html'>assign</a></span><span class='op'>(</span><span class='st'>"m"</span>, <span class='fl'>15</span><span class='op'>)</span>
<span class='va'>m</span>
</code></pre>
</div>
<pre><code>[1] 15</code></pre>
</div>
<p>Ao invés do símbolo de atribuição, muitos usuários utilizam o símbolo da igualdade “<code>=</code>” para associarmos nomes aos objetos, que o ambiente <code>R</code> compreenderá. Contudo, discutiremos mas adiante, em <a href="#goodcode">Boas práticas de como escrever um código</a>, que o uso da igualdade deverá em <code>R</code> ser usado apenas para a utilização em argumentos de uma função.</p>
<p>Quando desejamos executar mais de uma linha de comando por vez, separamos estas pelo símbolo “<code>;</code>” isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>; <span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fl'>15</span>; <span class='va'>x</span>; <span class='va'>w</span>
</code></pre>
</div>
<pre><code>[1] 10</code></pre>
<pre><code>[1] 15</code></pre>
</div>
<p>Neste caso, executamos quatro comandos em uma linha. Associamos dois nomes a dois objetos e imprimimos os seus valores.</p>
<p>Por questão de comodidade, iremos a partir de agora, sempre nos referir a um objeto pelo nome associado a ele, para não está sempre se expressando como “um nome associado a um objeto.” Mas que fique claro a discussão realizada anteriormente sobre esses conceitos.</p>
<p>Nesse momento, nos limitaremos a falar sobre objetos que armazenam dados, do tipo caracteres, números e operadores lógicos (<code>TRUE/FALSE</code>).</p>
<h2 id="atributos">Atributos</h2>
<p>Todos os objetos, terão pelo menos dois tipos de atributos, chamados de atributos intrínsecos. Os demais atributos, quando existem, podem ser verificados pela função <code>attributes()</code>. A ideia dos atributos pode ser pensada como <em>metadados</em>, isto é, um conjunto de informações que caracterizam o objeto.</p>
<p>Diremos também que todos os objetos <code>R</code> tem uma <strong>classe</strong>, e por meio dessas classes, determinadas funções podem ter comportamento diferente a objetos com classes diferentes. Agora, devemos deixar claro essa informação, apesar do <code>R</code> seguir o <strong>princípio do Objeto</strong>, nem tudo é orientado a objetos, como por exemplo, observamos na linguagens <code>C++</code> e <code>Java</code>. Deixemos esse tópico para o módulo <a href="nintermediario.html">Programação em <code>R</code> (Nível Intermediário)</a>.</p>
<p>A forma de se verificar a classe de um objeto é pela função <code>class()</code>. Contudo, os objetos internos do <code>R</code> (base), quando solicitado sua classe pela função <code>class()</code>, acabam retornando, algumas vezes, resultados equivocados. Uma alternativa é utilizar a função <code>sloop::s3_class()</code> do pacote <code>sloop</code>. Isso também será discutido no módulo <a href="nintermediario.html">Programação em R (Nível Intermedirário)</a>.</p>
<p>Devemos estar atentos a uma questão. <strong>Existe um atributo também chamado classe</strong> (“<code>class</code>”), e nem todos os objetos necessariamente tem esse atributo, apenas aqueles orientados a objetos, como é o caso do objeto com atributo classe . Por exemplo, é devido a classe <code>factor</code> no objeto criado pela função <code>factor()</code> que apesar do seu resultado ser numérico, este não se comporta como numérico. Isto significa que o atributo classe muda o comportamento de como funções veem esse objeto.</p>
<p>Para verificarmos se tal objeto tem o atributo <code>class</code>, usamos a função <code>attributes()</code>. Quando este atributo existe, ele é coincidente com o resultado obtido também pela função <code>class()</code>.</p>
<p>O tipo das classes podem ser <code>numeric</code>, <code>logical</code>, <code>character</code>, <code>list</code>, <code>matrix</code>, <code>array</code>, <code>factor</code> e <code>data.frame</code>. Por enquanto, nos concentraremos nas classes de objetos que armazenam dados para uso em análises.</p>
<p>Para remover o efeito da classe, usamos a função <code>unclass()</code> para tal.</p>
<p>Por exemplo, quando criamos um objeto da classe <code>data.frame</code>, vejamos o seu comportamento:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criamos um objeto de classe 'data.frame'</span>
<span class='va'>dados</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>a <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, b <span class='op'>=</span> <span class='va'>LETTERS</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span><span class='op'>)</span>

<span class='co'># Imprimindo na tela</span>
<span class='va'>dados</span>
</code></pre>
</div>
<pre><code>  a b
1 1 A
2 2 B
3 3 C</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando sua classe</span>
<span class='fu'><a href='https://rdrr.io/r/base/class.html'>class</a></span><span class='op'>(</span><span class='va'>dados</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando o efeito do objeto 'dados',</span>
<span class='co'># sem o efeito da classe</span>
<span class='va'>dados2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/class.html'>unclass</a></span><span class='op'>(</span><span class='va'>dados</span><span class='op'>)</span>; <span class='va'>dados2</span>
</code></pre>
</div>
<pre><code>$a
[1] 1 2 3

$b
[1] &quot;A&quot; &quot;B&quot; &quot;C&quot;

attr(,&quot;row.names&quot;)
[1] 1 2 3</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Qual a classe desse objeto sem o efeito da</span>
<span class='co'># classe 'data.frame'</span>
<span class='fu'><a href='https://rdrr.io/r/base/class.html'>class</a></span><span class='op'>(</span><span class='va'>dados2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;list&quot;</code></pre>
</div>
<p>Observe que sem o atributo <code>class= 'data.frame'</code>, o objeto tem classe <code>list</code>. Isto significa que, o objeto tem uma estrutura em forma de <code>list</code>, mas se comporta como um <code>data.frame</code>, que se apresenta como mostrado anteriormente.</p>
<p>Veremos no módulo <a href="nintermediario.html">Programação em R (Nível Intermediário)</a> como criar atributos, classes, e mostrar que não conseguiremos mostrar todos os tipos de classes, pois a todo momento se cria classes em objetos <code>R</code> no desenvolvimento de pacotes.</p>
<h3 id="atributos-intrínsecos">Atributos intrínsecos</h3>
<p>Todos os objetos tem dois <em>atributos intrínsecos</em>: o <strong>modo</strong> e <strong>comprimento</strong>. O <strong>modo</strong> representa a natureza dos elementos objetos. Para o caso dos vetores atômicos, o <strong>modo</strong> dos vetores podem ser cinco, numérico (<code>numeric</code>), lógico (logic), caractere<a href="#fn16" class="footnote-ref" id="fnref16" role="doc-noteref"><sup>16</sup></a> (<code>character</code>), complexo (<code>complex</code>) ou bruto (`raw``). Este último, não daremos evidência para esse momento. O <strong>comprimento</strong> mede a quantidade de elementos no objeto.</p>
<p>Para determinarmos o <strong>modo</strong> de um objeto, usamos a função <code>mode()</code>. Vejamos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto modo caractere</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='st'>"Ben"</span>; <span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;character&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto modo numerico</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fl'>10L</span>; <span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto modo numerico</span>
<span class='va'>y2</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>; <span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='va'>y2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto modo logico</span>
<span class='va'>z</span> <span class='op'>&lt;-</span> <span class='cn'>TRUE</span>; <span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='va'>z</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;logical&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto modo complexo</span>
<span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fl'>1i</span>; <span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='va'>w</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;complex&quot;</code></pre>
</div>
<p>Contudo, essa função <code>mode()</code> se baseou nos atributos baseados na linguagem <code>S</code>. Temos uma outra função para verificarmos o <strong>modo</strong> do objeto que é <code>typeof()</code>. O atributo <strong>modo</strong> retornado de um objeto para esta última função, está relacionado a tipagem de variáveis da linguagem <code>C</code>, uma vez que boa parte das rotinas no <code>R</code> está nessa linguagem, principalmente as funções do pacote <code>base</code>. Existem 25 tipos que serão detalhados no módulo <a href="nintermediario.html">Programação em R (Nível Intermedirário)</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto modo caractere</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='st'>"Ben"</span>; <span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;character&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto modo numerico (Inteiro)</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fl'>10L</span>; <span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='va'>y</span><span class='op'>)</span> 
</code></pre>
</div>
<pre><code>[1] &quot;integer&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto modo numerico (Real)</span>
<span class='va'>y2</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>; <span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='va'>y2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;double&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto modo logico</span>
<span class='va'>z</span> <span class='op'>&lt;-</span> <span class='cn'>TRUE</span>; <span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='va'>z</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;logical&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto modo complexo</span>
<span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fl'>1i</span>; <span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='va'>w</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;complex&quot;</code></pre>
</div>
<p>Observamos que apesar de alguns vetores serem vazios, estes ainda tem um <strong>modo</strong>, observe nas seguintes linhas de comando:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Vetor numérico vazio de comprimento 1</span>
<span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>numeric</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>numeric(0)</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando o seu modo</span>
<span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>numeric</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>numeric</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;double&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Vetor caractere vazio de comprimento 1</span>
<span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>character(0)</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando o seu modo</span>
<span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;character&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;character&quot;</code></pre>
</div>
<p>A diferença existente nos objetos <code>y</code> e <code>y2</code> para as funções <code>mode()</code> e <code>typeof()</code> se referem apenas como o <code>R</code> armazena essas informações na memória do computador. Podemos perguntar ao <code>R</code> se dois números são iguais, assim:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># 10 eh igual a 10L ?</span>
<span class='fl'>10</span> <span class='op'>==</span> <span class='fl'>10L</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
</div>
<p>Veja que o resultado é <code>TRUE</code>, isto é, sim eles são iguais. Agora, veja a próxima linha de comando:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># 10 eh identico a 10L ?</span>
<span class='fu'><a href='https://rdrr.io/r/base/identical.html'>identical</a></span><span class='op'>(</span><span class='fl'>10</span>, <span class='fl'>10L</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<p>O retorno agora foi <code>FALSE</code>, que significa que o armazenamento dessas informações não são iguais. Posteriormente, entenderemos no que isso reflete no código usuário, uma vez que um código escrito pode uma perda de desempenho simplesmente pela não necessidade de determinados objetos ou cópias realizadas.</p>
<p>O termo <code>double</code> retornado pela função <code>typeof()</code> significa dupla precisão na linguagem de programação, que acaba tenho uma exigência de mais memória do que o objeto de modo <code>integer</code>. Esses termos são utilizados na linguagem <code>C</code>. Já a linguagem <code>S</code> não os diferencia, utiliza tudo como <code>numeric</code>.</p>
<p>Aqui vale um destaque para o termo <em>numérico</em>, que no <code>R</code> podem ter três significados:</p>
<ul>
<li>Pode significar um número real, isto é, para a computação um número de dupla precisão (<code>numeric</code> e <code>double</code> seriam iguais nesse aspecto). Veja linha de código:</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criacao de dois objetos de modo numerico</span>
<span class='va'>a</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>numeric</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>; <span class='va'>b</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/double.html'>double</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>
<span class='co'># Verificando o modo</span>
<span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='va'>a</span><span class='op'>)</span>; <span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='va'>b</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando se 'a' e 'b' sao identificos</span>
<span class='fu'><a href='https://rdrr.io/r/base/identical.html'>identical</a></span><span class='op'>(</span><span class='va'>a</span>, <span class='va'>b</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
</div>
<ul>
<li>nos sistemas S3 e S4 (orientação a objetos), o termo numérico é usado como atalho para o modo <code>integer</code> ou <code>double</code>. Esse ponto veremos no módulo <a href="nintermediario.html">Programação em <code>R</code> (Nível Básico)</a>. Contudo, veja a linha de código:</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>sloop</span><span class='fu'>::</span><span class='fu'><a href='https://sloop.r-lib.org/reference/s3_class.html'>s3_class</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;double&quot;  &quot;numeric&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>sloop</span><span class='fu'>::</span><span class='fu'><a href='https://sloop.r-lib.org/reference/s3_class.html'>s3_class</a></span><span class='op'>(</span><span class='fl'>1L</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;integer&quot; &quot;numeric&quot;</code></pre>
</div>
<ul>
<li>Pode ser utilizado (<code>is.numeric()</code>) para verificar se determinados objetos tem o modo numérico. Por exemplo, temos um objeto de classe <code>factor</code> que é importante para a área da estatística experimental, representando os níveis de um fator em um experimento. Os elementos desse objeto pode ser número ou caracteres, mas serão representados como sempre por números. Entretanto, não se comportam como numérico. Veja a linha de comando:</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um objeto de atributo classe 'factor':</span>
<span class='va'>fator</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='st'>"a"</span><span class='op'>)</span>; <span class='va'>fator</span>
</code></pre>
</div>
<pre><code>[1] a
Levels: a</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># O atributo classe muda a forma dos elementos. Veja quando retiramos o atributo </span>
<span class='co'># classe 'factor', o objeto retorna o valor 1</span>
<span class='fu'><a href='https://rdrr.io/r/base/class.html'>unclass</a></span><span class='op'>(</span><span class='va'>fator</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 1
attr(,&quot;levels&quot;)
[1] &quot;a&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Para confirmar essa afirmacao anterior, vejamos o modo</span>
<span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='va'>fator</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='va'>fator</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;integer&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Apesar do resultado retornar 1, veja que ele nao se comporta como numerico</span>
<span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>is.numeric</a></span><span class='op'>(</span><span class='va'>fator</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/integer.html'>is.integer</a></span><span class='op'>(</span><span class='va'>fator</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
</div>
<p>Uma tabela a seguir, mostra o retorno dos seis principais modos de um objeto do tipo (estrutura) de vetores atômicos (Os modos apresentados baseiam-se apenas quanto a característica dos dados do objeto. É claro que um objeto não armazena apenas dados. Existem outras naturezas, que serão omitidas nesse momento):</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;"><code>typeof</code></th>
<th style="text-align: center;"><code>mode</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>logical</code></td>
<td style="text-align: center;"><code>logical</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>integer</code></td>
<td style="text-align: center;"><code>numeric</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>double</code></td>
<td style="text-align: center;"><code>numeric</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>complex</code></td>
<td style="text-align: center;"><code>complex</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>character</code></td>
<td style="text-align: center;"><code>character</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>raw</code></td>
<td style="text-align: center;"><code>raw</code></td>
</tr>
</tbody>
</table>
<p>O <strong>comprimento</strong> do objeto é informado pela função <code>lenght()</code>, do qual a representação em diagrama informa esse atributo. Vejamos as linhas de comando a seguir.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Vetor de comprimento 5</span>
<span class='va'>v1</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>

<span class='co'># Vetor de comprimento 3</span>
<span class='va'>v2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Ben"</span>, <span class='st'>"Maria"</span>, <span class='st'>"Lana"</span><span class='op'>)</span>

<span class='co'># Vetor de comprimento quatro</span>
<span class='va'>v3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>TRUE</span>, <span class='cn'>FALSE</span>, <span class='cn'>TRUE</span>, <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Vejamos o comprimento dos vetores</span>
<span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>v1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 5</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>v2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 3</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>v3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 4</code></pre>
</div>
<p>Um diagrama apresentando esses três objetos no ambiente global, pode ser apresentado na Figura <a href="#fig:v1v2v3">11</a>. Observe que acrescentamos agora o <strong>comprimento</strong> dos objetos no diagrama entre colchetes, ao lado do atributo <strong>modo</strong>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:v1v2v3"></span>
<img src="images/v1v2v3.png" alt="Objetos `v1`, `v2` e `v3`." width="1199" />
<p class="caption">
Figure 11: Objetos <code>v1</code>, <code>v2</code> e <code>v3</code>.
</p>
</div>
</div>
<p>Um resumo as funções mensionadas podem ser refletidas com as seguintes indagações:</p>
<ul>
<li><code>base::class()</code> e <code>loop::c3_class()</code>: Qual o tipo de objeto?</li>
<li><code>base::mode()</code>: Qual o tipo de dados baseados na linguagem <code>S</code>?</li>
<li><code>base::typeof()</code>: Qual o tipo de dados baseados na linguagem <code>C</code>?</li>
<li><code>base::attributes()</code>: O objeto tem atributos?</li>
<li><code>base::length()</code>: Qual o comprimento do objeto?</li>
</ul>
<p>Usamos essa sintaxe <code>pacote::nome_função()</code> para entedermos qual o pacote da função que utilizamos. Contudo, essa forma tem uma importância no sentido de acesso a funções em um pacote sem necessitar anexá-lo no caminho de busca. Assunto abordado mais a frente.</p>
<h2 id="coersao">Coersão</h2>
<p>Como falamos anteriormente, os vetores atômicos armazenam um conjunto de elementos de mesmo <strong>modo</strong>. A coerção é a forma como o <code>R</code> coage o <strong>modo</strong> dos objetos. Por exemplo, se um elemento de modo caractere estiver em um vetor, todos os demais elementos serão convertidos para esse modo. Veja:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um objeto x e imprimindo o seu resultado</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Nome"</span>, <span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span><span class='op'>)</span>;<span class='va'>x</span>
</code></pre>
</div>
<pre><code>[1] &quot;Nome&quot; &quot;3&quot;    &quot;4&quot;    &quot;5&quot;   </code></pre>
</div>
<p>Observa que todos os elementos ganharam aspas, isto é, se tornaram um caractere ou uma cadeia de caracteres. A coersão entre vetores de modo <code>numeric</code>, <code>character</code> e <code>logical</code> será sempre assim:</p>
<center>
<img src="images/coersao.png" width="300" />
</center>
<p>No caso dos vetores lógicos, todo <code>TRUE</code> se converterá em 1, e <code>FALSE</code> em 0. Porém, os modos dos vetores podem ser coagidos pelo usuário, usando as funções do tipo <code>as.&lt;modo ou tipo&gt;()</code> com prefixo <code>as.</code>, isto é, se desejarmos que um objeto <code>meu_objeto</code> tenha o modo “<code>character</code>,” basta usar <code>as.character(meu_objeto)</code>. Para desejar saber se um objeto é de um determinado modo, usamos as funções do tipo <code>is.&lt;modo ou tipo&gt;()</code>, com o prefixo <code>is.</code>. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto de modo numerico</span>
<span class='va'>minha_idade</span> <span class='op'>&lt;-</span> <span class='fl'>35</span>
<span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='va'>minha_idade</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;numeric&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Coersão do objeto para modo caractere (`string`)</span>
<span class='va'>minha_idade</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>as.character</a></span><span class='op'>(</span><span class='va'>minha_idade</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/base/mode.html'>mode</a></span><span class='op'>(</span><span class='va'>minha_idade</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;character&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando se o objeto tem modo 'character'</span>
<span class='fu'><a href='https://rdrr.io/r/base/character.html'>is.character</a></span><span class='op'>(</span><span class='va'>minha_idade</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
</div>
<h2 id="tipo-de-objetos">Tipo de objetos</h2>
<p>Por fim, pretendemos falar sobre os principais tipos de objetos. O <strong>tipo</strong> vamos entender como a estrutura de como os dados estão organizados em um objeto, relacionados aos seus atributos. Falamos anteriormente sobre a estrutura mais simples, que é o vetor atômico. Mas entendemos que um vetor em <code>R</code> podem ser considerados: atômicos ou listas. Podemos então subdividi-los em:</p>
<ul>
<li>Vetores atômicos:
<ul>
<li>Lógicos, Numéricos e Caracteres;</li>
<li>Matrizes unidimensionais (<em>Matrix</em>) e multidimensionais (<em>Arrays</em>);</li>
</ul></li>
<li>Vetores em listas:
<ul>
<li>Listas (<em>Lists</em>);</li>
<li>Quadro de dados (<em>Data frames</em>);</li>
</ul></li>
</ul>
<p>Existem outros, mas para esse módulo, exploraremos estes nas seções seguintes. As funções para as coersões realizadas pelos usuários, são similares as funções de coersão para modo, isto é, usar as funções prefixadas <code>as.&lt;tipo&gt;</code>.</p>
<p>Daremos uma visão geral dos objetos apresentados até o momento na Tabela a seguir.</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 12%" />
<col style="width: 9%" />
<col style="width: 66%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Objeto</th>
<th style="text-align: center;">Classe</th>
<th style="text-align: center;">Modo</th>
<th style="text-align: center;">São possíveis vários modos no mesmo objeto?</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">Vetor</td>
<td style="text-align: center;"><code>numeric</code> (<code>integer</code> ou <code>double</code>), <code>character</code>, <code>complex</code>, <code>logical</code>, <code>raw</code></td>
<td style="text-align: center;"><code>numeric</code> (<code>integer</code> ou <code>double</code>), <code>character</code>, <code>complex</code>, <code>logical</code>, <code>raw</code></td>
<td style="text-align: center;">Não</td>
</tr>
<tr class="even">
<td style="text-align: center;">Matriz</td>
<td style="text-align: center;"><code>matrix</code></td>
<td style="text-align: center;"><code>numeric</code> (<code>integer</code> ou <code>double</code>), <code>character</code>, <code>complex</code>, <code>logical</code>, <code>raw</code></td>
<td style="text-align: center;">Não</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Array</td>
<td style="text-align: center;"><code>array</code></td>
<td style="text-align: center;"><code>numeric</code> (<code>integer</code> ou <code>double</code>), <code>character</code>, <code>complex</code>, <code>logical</code>, <code>raw</code></td>
<td style="text-align: center;">Não</td>
</tr>
<tr class="even">
<td style="text-align: center;">lista</td>
<td style="text-align: center;"><code>list</code></td>
<td style="text-align: center;"><code>numeric</code> (<code>integer</code> ou <code>double</code>), <code>character</code>, <code>complex</code>, <code>logical</code>, <code>raw</code>, <code>expression</code>, <code>function</code></td>
<td style="text-align: center;">Sim</td>
</tr>
<tr class="odd">
<td style="text-align: center;">Quadro de dados</td>
<td style="text-align: center;"><code>data.frame</code></td>
<td style="text-align: center;"><code>numeric</code> (<code>integer</code> ou <code>double</code>), <code>character</code>, <code>complex</code>, <code>logical</code>, <code>raw</code></td>
<td style="text-align: center;">Sim</td>
</tr>
</tbody>
</table>
<h1 id="vetores"><i class="fas fa-dice-one"></i> Vetores</h1>
<!-- Faltou apresentar as operacoes logicas e booleanas dentro da indexação, exclusao de elementos -->
<p>Podemos dizer que existem três tipos principais de vetores atômicos:</p>
<ul>
<li>Numéricos (<code>numeric</code>):
<ul>
<li>Inteiro (<code>integer</code>);</li>
<li>Real (<code>double</code>);</li>
</ul></li>
<li>Lógico (<code>logical</code>);</li>
<li>Caractere (<code>character</code>)</li>
</ul>
<p>Existem dois tipos raros que são os complexos (<code>complex</code>) e brutos (<code>raw</code>), que falaremos no módulo seguinte.</p>
<h2 id="escalares">Escalares</h2>
<p>O menor comprimento de um vetor é de tamanho um, conhecido também como um escalar. Porém, para o <code>R</code> tudo é observado como um vetor. As sintaxes para os tipos especiais são: - os vetores lógicos assumem valores: <code>TRUE</code> ou <code>FALSE</code>, ou abreviados, <code>T</code> ou <code>F</code>, respectivamente. Existem valores especiais devido a precisão de operações na programação, que são os chamados pontos flutuantes. Nesse caso temos: <code>Inf</code>, <code>-Inf</code> e <code>NaN</code>, quando o resultados tende a <span class="math inline">\(\infty\)</span>, <span class="math inline">\(-\infty\)</span>, sem número, respectivamente;</p>
<!-- Inserir essa ideia sobre NA e NaN: -->
<!-- https://jameshoward.us/2016/07/18/nan-versus-na-r/ -->
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># divisao de um numero por zero (+ infinito)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>50</span> <span class='op'>/</span> <span class='fl'>0</span>; <span class='va'>x</span>
</code></pre>
</div>
<pre><code>[1] Inf</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># divisao de um numero por zero (- infinito)</span>
<span class='op'>-</span><span class='fl'>50</span> <span class='op'>/</span> <span class='fl'>0</span>
</code></pre>
</div>
<pre><code>[1] -Inf</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Resultado sem número do tipo NaN</span>
<span class='va'>x</span> <span class='op'>-</span> <span class='va'>x</span>
</code></pre>
</div>
<pre><code>[1] NaN</code></pre>
</div>
<ul>
<li>os vetores numéricos do tipo <code>double</code> podem ser representados de forma decima (<code>0.123</code>), científica (<code>1.23e5</code>), ou hexadecimal (<code>3E0A</code>);</li>
<li>os vetores numéricos do tipo <code>integer</code> são representados pela letra <code>L</code> ao final do <strong>número inteiro</strong>, isto é, <code>1L</code>, <code>1.23e5L</code>, etc.;</li>
<li>os caracteres são representados pelas palavras, letras, números ou caracteres especiais entre aspas, isto é, <code>"Ben"</code>, <code>"a"</code>. Pode ser utilizado também aspa simples, <code>'Ben'</code>, <code>'a'</code>, etc.</li>
</ul>
<h2 id="vetores-longos">Vetores longos</h2>
<p>Os vetores longos podem ser criados pela função <code>c()</code> a incial da palavra concatenar, que significa agrupar. Vejamos alguns exemplos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um vetor 'double'</span>
<span class='va'>vetor.num</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span><span class='op'>)</span>; <span class='va'>vetor.num</span>
</code></pre>
</div>
<pre><code>[1] 1 2 3 4 5</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='va'>vetor.num</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;double&quot;</code></pre>
</div>
<p>Uma coisa interessante é que por padrão, a função <code>c()</code> sempre cria um vetor de modo <code>double</code>, a menos que o usuário determine que estes elementos sejam inteiros, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um vetor 'integer'</span>
<span class='va'>vetor.num2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1L</span>, <span class='fl'>2L</span>, <span class='fl'>3L</span>, <span class='fl'>4L</span>, <span class='fl'>5L</span><span class='op'>)</span>; <span class='va'>vetor.num</span>; <span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='va'>vetor.num2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 1 2 3 4 5</code></pre>
<pre><code>[1] &quot;integer&quot;</code></pre>
</div>
<p>Uma forma mais eficiente para criarmos um vetor com elementos de sequências regulares, é por meio da função primitiva (<code>:</code>), isto é, <code>&lt;menor valor da sequência&gt;:&lt;maior valor da sequência&gt;</code>. Vejamos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando uma sequência de 1 a 5</span>
<span class='va'>vetor.num3</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>; <span class='va'>vetor.num3</span>; <span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='va'>vetor.num3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 1 2 3 4 5</code></pre>
<pre><code>[1] &quot;integer&quot;</code></pre>
</div>
<p>Veremos mais a frente outras funções para construir sequências regulares. Se verificarmos os três objetos, veremos que todos eles são iguais:</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>vetor.num</span> <span class='op'>==</span> <span class='va'>vetor.num2</span>
</code></pre>
</div>
<pre><code>[1] TRUE TRUE TRUE TRUE TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>vetor.num</span> <span class='op'>==</span> <span class='va'>vetor.num3</span>
</code></pre>
</div>
<pre><code>[1] TRUE TRUE TRUE TRUE TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>vetor.num2</span> <span class='op'>==</span> <span class='va'>vetor.num3</span>
</code></pre>
</div>
<pre><code>[1] TRUE TRUE TRUE TRUE TRUE</code></pre>
</div>
<p>O que vai difenrenciá-los é a forma de armazená-lo (<code>double</code> ou <code>integer</code>), e por consequência, o espaço na memória ativa. Veja:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objetos:</span>
<span class='va'>vetor.num</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span><span class='op'>)</span>
<span class='va'>vetor.num2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1L</span>, <span class='fl'>2L</span>, <span class='fl'>3L</span>, <span class='fl'>4L</span>, <span class='fl'>5L</span><span class='op'>)</span>
<span class='va'>vetor.num3</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span>
<span class='co'># Memoria:</span>
<span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_size.html'>obj_size</a></span><span class='op'>(</span><span class='va'>vetor.num</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>96 B</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_size.html'>obj_size</a></span><span class='op'>(</span><span class='va'>vetor.num2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>80 B</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_size.html'>obj_size</a></span><span class='op'>(</span><span class='va'>vetor.num3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>680 B</code></pre>
</div>
<p>O que podemos observar é que o vetor de modo <code>double</code> precisa de mais memória do que o objeto de modo <code>integer</code>. O último objeto aparentemente ocupou mais memória. Contudo, essa função apresenta um recurso interessante apresentado nas versões posteriores <code>R</code> (3.5.0), que é chamado de <strong>abreviação alternativa</strong>. Esse recurso faz com que a sequência de números não seja armazenada completamente, apenas os extremos. Isso significa que para qualquer tamanho de sequência, a ocupação de memória do objeto será sempre a mesma. Outras formas de criar sequência de números é usando as funções <code>rep()</code> e <code>seq()</code>, do qual a ajuda pode ser realizada usando no console <code>?rep()</code> e <code>?seq()</code>, respectivamente.</p>
<p>Dessa forma, poderemos ter com o último objeto (<code>vetor.num3</code>) uma economia de memória, dependendo do tamanho do seu vetor, quando se compara com as outras opções. Veja:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Tamanho de memoria dos objetos</span>
<span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_size.html'>obj_size</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>680 B</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_size.html'>obj_size</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10000</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>680 B</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_size.html'>obj_size</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>1000000</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>680 B</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_size.html'>obj_size</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>96 B</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_size.html'>obj_size</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10000</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>40,048 B</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>lobstr</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lobstr/man/obj_size.html'>obj_size</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>1000000</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>4,000,048 B</code></pre>
</div>
<h2 id="manipulando-vetores">Manipulando vetores</h2>
<p>Quando algum elemento de um vetor não está disponível, representamos pela constante lógica <code>NA</code>, que pode ser coagida para qualquer outro modo de vetor, exceto para <code>raw</code>. Podemos ter constantes lógicas <code>NA</code> específicas para modos específicos: <code>NA_integer_</code>, <code>NA_real_</code> (o equivalente para o modo <code>double</code>), <code>NA_complex_</code> e <code>NA_character_</code>. Entretando, dependendo de onde o <code>NA</code> é inserido, o atributo modo no objeto já converte para <code>NA</code> específico de acordo com o seu atributo modo. Essa constante contido no vetor não altera o modo do vetor, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;double&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;double&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/typeof.html'>typeof</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"c"</span>, <span class='st'>"b"</span>, <span class='st'>"a"</span>, <span class='cn'>NA</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;character&quot;</code></pre>
</div>
<p>Podemos criar vetores atômicos iniciais sem nenhuma elemento, por meio das funções <code>numeric(0)</code>, <code>character(0)</code> e <code>logical(0)</code>, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Vetor numerico de comprimento 0</span>
<span class='va'>v1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>numeric</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>; <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>v1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>v2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>; <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>v2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>v3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/logical.html'>logical</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>; <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>v2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0</code></pre>
</div>
<p>Para inserirmos valores a esses vetores usamos o sistema de indexação, que no caso da linguagem <code>R</code>, o contador começa a partir do número 1<a href="#fn17" class="footnote-ref" id="fnref17" role="doc-noteref"><sup>17</sup></a>. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<pre><code>[1] 0</code></pre>
<pre><code>[1] 0</code></pre>
<pre><code>[1] 0</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Vetor numerico de comprimento 0</span>
<span class='va'>v1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>numeric</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>
<span class='va'>v2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>
<span class='va'>v3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/logical.html'>logical</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>
<span class='co'># Inserimos 3 elementos em v1 e depois imprimos o seu resultado</span>
<span class='va'>v1</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>5</span>; <span class='va'>v1</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>3</span>; <span class='va'>v1</span><span class='op'>[</span><span class='fl'>3</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>; <span class='va'>v1</span>; <span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>v1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1]  5  3 10</code></pre>
<pre><code>[1] 3</code></pre>
</div>
<p>Assim, como exercício vocês podem completar para os dois outros vetores. Uma vez criado o vetor, se desejarmos acessar os seus elementos, usamos também o sistema de indexação:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Vetor numerico de comprimento 0</span>
<span class='va'>v1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>numeric</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>
<span class='va'>v2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/character.html'>character</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>
<span class='va'>v3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/logical.html'>logical</a></span><span class='op'>(</span><span class='fl'>0</span><span class='op'>)</span>

<span class='co'># Inserimos 3 elementos em v1 e depois imprimos o seu resultado</span>
<span class='va'>v1</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>5</span>; <span class='va'>v1</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>3</span>; <span class='va'>v1</span><span class='op'>[</span><span class='fl'>3</span><span class='op'>]</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>

<span class='co'># Imprimindo apenas o primeiro valor</span>
<span class='va'>v1</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>]</span>
</code></pre>
</div>
<pre><code>[1] 5</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Imprimindo os dois ultimos</span>
<span class='va'>v1</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>]</span>; <span class='va'>v1</span><span class='op'>[</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span><span class='op'>]</span>
</code></pre>
</div>
<pre><code>[1]  3 10</code></pre>
<pre><code>[1]  3 10</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Imprimindo todos</span>
<span class='va'>v1</span>
</code></pre>
</div>
<pre><code>[1]  5  3 10</code></pre>
</div>
<h3 id="aritmética-e-outras-operações">Aritmética e outras operações</h3>
<p>As operações com vetores não necessariamente são as operações realizadas baseadas na álgebra de matrizes. O que a linguagem <code>R</code> faz é realizar as operações elemento a elemento, mantendo o comprimento de tamanho igual ao tamanho do maior vetor na operação. Vejamos as operações aritméticas entre vetores de tamanho 1:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Soma de dois vetores</span>
<span class='fl'>2</span> <span class='op'>+</span> <span class='fl'>3</span>
</code></pre>
</div>
<pre><code>[1] 5</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Exceto pela sintaxe, '+' eh uma chamada de funcao</span>
<span class='fu'>`+`</span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 5</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Subtracao de dois vetores</span>
<span class='fl'>3</span> <span class='op'>-</span> <span class='fl'>2</span>
</code></pre>
</div>
<pre><code>[1] 1</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Exceto pela sintaxe, '-' eh uma chamada de funcao</span>
<span class='fu'>`-`</span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 1</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Multiplicacao de dois vetores</span>
<span class='fl'>3</span> <span class='op'>*</span> <span class='fl'>2</span>
</code></pre>
</div>
<pre><code>[1] 6</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Exceto pela sintaxe, '*' eh uma chamada de funcao</span>
<span class='fu'>`*`</span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 6</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Divisao de dois vetores</span>
<span class='fl'>3</span> <span class='op'>/</span> <span class='fl'>2</span>
</code></pre>
</div>
<pre><code>[1] 1.5</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Exceto pela sintaxe, '/' eh uma chamada de funcao</span>
<span class='fu'>`/`</span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 1.5</code></pre>
</div>
<p>Essas mesmas operações podem ser realizadas elemento a elemento para vetores de comprimento maior que 1, observe:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Soma de vetores</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 5 7 9</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Subtracao de  vetores</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 5 7 9</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Multiplicacao dois vetores</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span><span class='op'>)</span> <span class='op'>*</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1]  4 10 18</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Divisao de dois vetores</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>4</span>, <span class='fl'>5</span>, <span class='fl'>6</span><span class='op'>)</span> <span class='op'>/</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 4.0 2.5 2.0</code></pre>
</div>
<p>Quando os vetores não têm mesmo comprimento, o <code>R</code> completará de forma sequencial o menor vetor até que ele atinja o tamanho do maior vetor, observe:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Soma de vetores de comprimento diferente</span>
<span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span> <span class='op'>+</span> <span class='fl'>3</span><span class='op'>:</span><span class='fl'>10</span>
</code></pre>
</div>
<pre><code> [1]  4  6  8 10 12 14 16 18 12 14</code></pre>
</div>
<p>O segundo vetor recebeu os elementos <code>3, 4, 5</code>, isto é, os três primeiros elementos do vetor, para que o seu comprimento se tornasse igual ao comprimento do primeiro vetor. Após isso, foi realizado a soma elemento a elemento. Esse provedimento ocorre com os demais tipos de operações.</p>
<p>Demais operações podem ser realizadas de acordo com as funções apresentadas na Tabela abaixo.</p>
<table>
<colgroup>
<col style="width: 64%" />
<col style="width: 35%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Função (Ou operador)</th>
<th style="text-align: center;">Finalidade</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>+</code></td>
<td style="text-align: center;">Soma unária, por exemplo (<code>+ 4</code>), ou binária entre dois vetores</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>-</code></td>
<td style="text-align: center;">Subtração unária, por exemplo (<code>- 3</code>), ou binária entre dois vetores</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>*</code></td>
<td style="text-align: center;">Multiplicação entre dois vetores</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>/</code></td>
<td style="text-align: center;">Divisão entre dois vetores</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>^</code> ou <code>**</code></td>
<td style="text-align: center;">Expoenciação binária, isto é <code>2^3</code> ou <code>2 ** 3</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>%/%</code></td>
<td style="text-align: center;">Divisão inteira</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>%%</code></td>
<td style="text-align: center;">Restante da divisão</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>sum()</code></td>
<td style="text-align: center;">Soma de elementos do vetor</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>prod()</code></td>
<td style="text-align: center;">Produtório dos elementos do vetor</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>sqrt()</code></td>
<td style="text-align: center;">Raiz quadrada dos elementos de um vetor</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>log()</code></td>
<td style="text-align: center;">Função Logaritmo neperiano</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>log10()</code></td>
<td style="text-align: center;">Função Logaritmo na base 10</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>exp()</code></td>
<td style="text-align: center;">Função exponencial</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>mean()</code></td>
<td style="text-align: center;">Média dos elementos de um vetor</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>sd()</code></td>
<td style="text-align: center;">Desvio padrão dos elementos de um vetor</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>var()</code></td>
<td style="text-align: center;">Variância dos elementos de um vetor</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>median()</code></td>
<td style="text-align: center;">Mediana dos elementos de um vetor</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>round()</code></td>
<td style="text-align: center;">Arredondamento de vetor numérico. Outros tipos são: <code>trunc()</code>, <code>floor()</code> e <code>ceiling()</code>.</td>
</tr>
</tbody>
</table>
<p>Demais funções podem ser procuradas no manual <a href="https://cran.r-project.org/doc/manuals/r-release/R-intro.html" target="_blank">An Introduction to R</a>, ou execute no console <code>?Arithmetic</code>.</p>
<h3 id="operadores-lógicos">Operadores lógicos</h3>
<p>Os operadores lógicos têm a função de avaliar determinada condição e retornar <code>TRUE/FALSE</code>. São eles:</p>
<table>
<colgroup>
<col style="width: 44%" />
<col style="width: 23%" />
<col style="width: 31%" />
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Operador Lógico</th>
<th style="text-align: center;">Sintaxe</th>
<th style="text-align: center;">Pergunta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>&lt;</code></td>
<td style="text-align: center;"><code>a &lt; b</code></td>
<td style="text-align: center;"><code>a</code> é menor que <code>b</code>?</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&gt;</code></td>
<td style="text-align: center;"><code>a &gt; b</code></td>
<td style="text-align: center;"><code>a</code> é maior que <code>b</code>?</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>==</code></td>
<td style="text-align: center;"><code>a == b</code></td>
<td style="text-align: center;"><code>a</code> é igual <code>b</code>?</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>!=</code></td>
<td style="text-align: center;"><code>a != b</code></td>
<td style="text-align: center;"><code>a</code> é diferente <code>b</code>?</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>&gt;=</code></td>
<td style="text-align: center;"><code>a &gt;= b</code></td>
<td style="text-align: center;"><code>a</code> é maior ou igual a <code>b</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>&lt;=</code></td>
<td style="text-align: center;"><code>a &lt;= b</code></td>
<td style="text-align: center;"><code>a</code> é menor ou igual a <code>b</code>?</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>%in%</code></td>
<td style="text-align: center;"><code>"a" %in% c("a", "b", "c")</code></td>
<td style="text-align: center;">O elemento <code>"a"</code> está no vetor <code>c("a", "b", "c")</code>?</td>
</tr>
</tbody>
</table>
<p>A operação binária significa que a função exige dois argumentos (ou operandos), isto é, <code>&lt;Argumento 1&gt; &lt;Operador&gt; &lt;Argumento 2&gt;</code>. Para mais detalhes, use no console <code>?Syntax</code>.</p>
<p>Vejamos alguns exemplos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Operador '&gt;' entre vetores de comprimento 1</span>
<span class='fl'>1</span> <span class='op'>&gt;</span> <span class='fl'>3</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Operador '&lt;' com vetor de comprimento maior que 1</span>
<span class='fl'>1</span> <span class='op'>&lt;</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>1</span>, <span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE FALSE  TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Operador '==' entre vetores</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span> <span class='op'>==</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>2</span>, <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE  TRUE FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Operador '%in%' verificando se os elementos do primeiro vetor</span>
<span class='co'># estao no segundo vetor</span>
<span class='fl'>1</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Operador '%in%' verificando se os elementos do primeiro vetor</span>
<span class='co'># estao no segundo vetor</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>)</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Operador '%in%' verificando se os elementos do primeiro vetor</span>
<span class='co'># estao no segundo vetor</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE FALSE  TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Operador '%in%' verificando se os elementos do primeiro vetor</span>
<span class='co'># estao no segundo vetor</span>
<span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span> <span class='op'>%in%</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>4</span>, <span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] FALSE FALSE  TRUE  TRUE</code></pre>
</div>
<p>O que é interessante nesse operador <code>%in%</code>, que na realidade é uma função com dois argumentos, constitui uma forma de criar operadores binários especiais do tipo <code>%&lt;nome_sintatico&gt;%</code>, que esse tipo de função é uma das mais conhecidas hoje na análise de dados usando o operador pipe (<code>%&gt;%</code>) do pacote <a href="https://magrittr.tidyverse.org/" target="_blank">magrittr</a> da família de pacotes <a href="https://www.tidyverse.org/" target="_blank"><em>Tidyverse</em></a>. A diferença no operador pipe é que o segundo operando (Argumento 2) é uma função que recebe no primeiro argumento o operando 1 (Argumento 1). Por fim, o operador %&gt;% acaba sendo um operado unário. Veremos mais detalhes na seção sobre criação de funções.</p>
<h3 id="operadores-booleanos">Operadores Booleanos</h3>
<p>O operadores booleanos avaliam diversas operações lógicas (condições) para ao final retornar um <code>TRUE/FALSE</code>. Vejamos a Tabela a seguir, com esses operadores e suas indagações.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Operador Booleano (ou Função)</th>
<th style="text-align: center;">Sintaxe</th>
<th style="text-align: center;">Pergunta</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>&amp;</code> ou <code>&amp;&amp;</code></td>
<td style="text-align: center;"><code>cond1 &amp; cond2</code></td>
<td style="text-align: center;">As <code>cond1</code> e <code>cond2</code> são verdadeiras?</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>|</code> ou <code>||</code></td>
<td style="text-align: center;"><code>cond1 | cond2</code></td>
<td style="text-align: center;">A <code>cond1</code> ou <code>cond2</code> é verdadeira?</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>xor()</code></td>
<td style="text-align: center;"><code>xor(cond1, cond2)</code></td>
<td style="text-align: center;">Apenas a <code>cond1</code> ou a <code>cond2</code> é verdadeiro?</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>!</code></td>
<td style="text-align: center;"><code>!cond1</code></td>
<td style="text-align: center;">É falso a <code>cond1</code> ?</td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>any()</code></td>
<td style="text-align: center;"><code>any(cond1, cond2, ...)</code></td>
<td style="text-align: center;">Alguma das condições são verdadeiras?</td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>all()</code></td>
<td style="text-align: center;"><code>all(cond1, cond2, ...)</code></td>
<td style="text-align: center;">Todas as condições são verdadeiras?</td>
</tr>
</tbody>
</table>
<p>Vejamos alguns exemplos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando objetos</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>
<span class='va'>z</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>4</span><span class='op'>)</span>

<span class='co'># Primeira condicao</span>
<span class='va'>x</span> <span class='op'>==</span> <span class='va'>y</span>
</code></pre>
</div>
<pre><code>[1] TRUE TRUE TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Segunda condicao</span>
<span class='va'>y</span> <span class='op'>==</span> <span class='va'>z</span>
</code></pre>
</div>
<pre><code>[1]  TRUE  TRUE FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Terceira condicao</span>
<span class='va'>x</span> <span class='op'>==</span> <span class='va'>y</span> <span class='op'>&amp;</span> <span class='va'>y</span> <span class='op'>==</span> <span class='va'>z</span>
</code></pre>
</div>
<pre><code>[1]  TRUE  TRUE FALSE</code></pre>
</div>
<p>Fica como sugestão de exercício os leitores criarem condições para os demais operadores booleanos.</p>
<h1 id="matrizes"><i class="fas fa-dice-two"></i> Matrizes bidimensionais</h1>
<p>A apresentação dos próximos objetos daqui pra frente, desde matrizes até quadro de dados (<em>data frame</em>) não é apresentar todas as manipulações possíveis sobre esses objetos. Mas mostrar a sua estrutura e condições básicas imposta sobre eles. Assim, não apresentaremos funções para manipulações com matrizes, por exemplo, porque isso não é o propósito do curso. Daremos a ideia de uma matriz é na realidade um vetor bidimensional, assim como um quadro de dados que na realidade é uma lista.</p>
<p>Quando usamos um atributo chamado <code>dim</code> em um vetor atômico, criamos na realidade vetores bi ou multidimencionais, isto é, objetos do tipo matrizes ou <em>arrays</em>. Observe o que falados anteriormente, o atributo pode mudar a estrutura do objeto.</p>
<p>Vejamos alguns exemplos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um vetor atomico</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span>; <span class='va'>x</span>
</code></pre>
</div>
<pre><code>[1] 1 2 3 4 5 6</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando se o objeto 'x' tem atributo adicionado</span>
<span class='fu'><a href='https://rdrr.io/r/base/attributes.html'>attributes</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>NULL</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Vamos verificar a classe do objeto x</span>
<span class='fu'>sloop</span><span class='fu'>::</span><span class='fu'><a href='https://sloop.r-lib.org/reference/s3_class.html'>s3_class</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;integer&quot; &quot;numeric&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Adicionando o atributo dim</span>
<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span> <span class='co'># 2 x 3 = 6 (Comp do vetor)</span>
<span class='co'># attr(x, "dim") &lt;- c(2, 3)</span>

<span class='co'># Observando agora o comportamento do objeto 'x'</span>
<span class='va'>x</span>
</code></pre>
</div>
<pre><code>     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando novamente se 'x' tem atributo</span>
<span class='fu'><a href='https://rdrr.io/r/base/attributes.html'>attributes</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$dim
[1] 2 3</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando a classe do objeto</span>
<span class='fu'>sloop</span><span class='fu'>::</span><span class='fu'><a href='https://sloop.r-lib.org/reference/s3_class.html'>s3_class</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;matrix&quot;  &quot;integer&quot; &quot;numeric&quot;</code></pre>
</div>
<p>O atributo <code>dim</code> recebeu uma informação bidimensional, isto é, o número de linhas e colunas, respectivamente. Uma outra forma para construir uma matriz é usando a função <code>matrix</code>, que de modo similar, temos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando uma matriz</span>
<span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando uma matriz</span>
<span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, byrow <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6</code></pre>
</div>
<p>Se desejássemos que os números fossem inserido em linhas e não iniciados pelas colunas, usaríamos o argumento <code>byrow = TRUE</code>, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando uma matriz</span>
<span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>matrix</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>6</span>, <span class='fl'>2</span>, <span class='fl'>3</span>, byrow <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>     [,1] [,2] [,3]
[1,]    1    2    3
[2,]    4    5    6</code></pre>
</div>
<p>Para acessarmos ou alterarmos os elementos de uma matriz, usamos o sistema de indexação similar ao vetor, porém, devemos indexar as linhas e colunas. Por exemplo, o elemento da primeira linha e primeira coluna pode ser obtido por <code>x[1, 1]</code>, e assim por diante. Todos os elementos da linha 1, <code>x[1,]</code>, ou todos os elementos da coluna 1, <code>x[,1]</code>.</p>
<h1 id="arrays"><i class="fas fa-dice-three"></i> Matriz multidimencional</h1>
<p>A ideia do objeto matriz multidimencional (ou <em>array</em>) é similar ao da matriz, a diferença é que agora é um vetor atômico de mais de duas dimensões. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um vetor atomico</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>12</span>; <span class='va'>x</span>
</code></pre>
</div>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10 11 12</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando se o objeto 'x' tem atributo adicionado</span>
<span class='fu'><a href='https://rdrr.io/r/base/attributes.html'>attributes</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>NULL</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Vamos verificar a classe do objeto x</span>
<span class='fu'>sloop</span><span class='fu'>::</span><span class='fu'><a href='https://sloop.r-lib.org/reference/s3_class.html'>s3_class</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;integer&quot; &quot;numeric&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Adicionando o atributo dim</span>
<span class='fu'><a href='https://rdrr.io/r/base/dim.html'>dim</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>2</span><span class='op'>)</span> <span class='co'># 2 x 3 x 2 = 12 (Comp do vetor x)</span>
<span class='co'># attr(x, "dim") &lt;- c(2, 3, 2)</span>

<span class='co'># Observando agora o comportamento do objeto 'x'</span>
<span class='va'>x</span>
</code></pre>
</div>
<pre><code>, , 1

     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6

, , 2

     [,1] [,2] [,3]
[1,]    7    9   11
[2,]    8   10   12</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando novamente se 'x' tem atributo</span>
<span class='fu'><a href='https://rdrr.io/r/base/attributes.html'>attributes</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$dim
[1] 2 3 2</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando a classe do objeto</span>
<span class='fu'>sloop</span><span class='fu'>::</span><span class='fu'><a href='https://sloop.r-lib.org/reference/s3_class.html'>s3_class</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;array&quot;   &quot;integer&quot; &quot;numeric&quot;</code></pre>
</div>
<p>Observe que criamos duas matrizes de dimensão (2 x 3). Para acessar os elementos desse objeto, usaremos também o sistema de indexação, agora acrescentando a terceira dimensão. Por exemplo, para acessar o elemento da linha 1, coluna 1, matriz 1, temos <code>x[1, 1, 1]</code>, ou todos os elementos da linha 1, matriz 1, temos <code>x[1, , 1]</code>.</p>
<p>Uma outra forma de criar um objeto <em>array</em> é usar a função <code>array()</code>. De modo similar, temos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um array</span>
<span class='fu'><a href='https://rdrr.io/r/base/array.html'>array</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>12</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>2</span>, <span class='fl'>3</span>, <span class='fl'>2</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>, , 1

     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6

, , 2

     [,1] [,2] [,3]
[1,]    7    9   11
[2,]    8   10   12</code></pre>
</div>
<p>Um exercício para os leitores seria, como poderíamos criar um <em>array</em> de 4 dimensões?</p>
<p>Mostramos um quadro resumo de funções que podem ser utilizadas (<span class="citation" data-cites="hadley2019"><a href="#ref-hadley2019" role="doc-biblioref">Wickham</a> (<a href="#ref-hadley2019" role="doc-biblioref">2019</a>)</span>). Para auxílio nas funções, use sempre o símbolo de interrogação antes das funções e execute no console. Por exemplo, ajuda da função <code>names()</code>, use <code>?names()</code>.</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Vetor</th>
<th style="text-align: center;">Matriz</th>
<th style="text-align: center;"><em>Array</em></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>names()</code></td>
<td style="text-align: center;"><code>rownames()</code>, <code>colnames()</code></td>
<td style="text-align: center;"><code>dimnames()</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>length()</code></td>
<td style="text-align: center;"><code>nrow()</code>, <code>ncol()</code></td>
<td style="text-align: center;"><code>dim()</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>c()</code></td>
<td style="text-align: center;"><code>rbind()</code>, <code>cbind()</code></td>
<td style="text-align: center;"><code>abind::abind()</code></td>
</tr>
<tr class="even">
<td style="text-align: center;"><code>-</code></td>
<td style="text-align: center;"><code>t()</code></td>
<td style="text-align: center;"><code>aperm()</code></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><code>is.null(dim(x))</code></td>
<td style="text-align: center;"><code>is.matrix()</code></td>
<td style="text-align: center;"><code>is.array</code></td>
</tr>
</tbody>
</table>
<h1 id="lists"><i class="fas fa-dice-four"></i> Listas de dados</h1>
<p>As listas são como vetores atômicos, porém mais complexos, isto é, os elementos de uma lista são vetores atômicos, como também outras listas, funções, expressões. Esta última é o que chamamos de objetos recursivos. A forma de se obter uma lista é pela função <code>list()</code>. Vejamos os comandos a seguir.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando uma lista</span>
<span class='va'>l0</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, <span class='va'>letters</span><span class='op'>[</span><span class='fl'>5</span><span class='op'>]</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span>,
           <span class='va'>mean</span>, <span class='fu'><a href='https://rdrr.io/r/base/expression.html'>expression</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>~</span> <span class='va'>y</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'># Imprimindo a lista</span>
<span class='va'>l0</span>
</code></pre>
</div>
<pre><code>[[1]]
[1] 1 2 3

[[2]]
[1] &quot;e&quot;

[[3]]
[[3]][[1]]
[1] 1

[[3]][[2]]
[1] 2

[[3]][[3]]
[1] 3


[[4]]
function (x, ...) 
UseMethod(&quot;mean&quot;)
&lt;bytecode: 0x0000000008e53cb8&gt;
&lt;environment: namespace:base&gt;

[[5]]
expression(x ~ y)</code></pre>
</div>
<p>Podemos acessar ou alterar os elementos de uma lista por meio do operador <code>$</code>, ou pelo sistema de indexação, que diferencia um pouco da indexação dos vetores. Por exemplo, o primeiro elemento desse vetor pode ser acessado por <code>l0[[1]]</code>, o terceiro <code>l0[[3]]</code>, e assim por diante. Para acessar informações específicas dentro dos elementos, usamos <code>l0[[3]][2]</code>, isto é, imprimimos o segundo valor do segundo elemento. Os elementos de um lista são na realidade outros objetos, do qual conseguimos acessar também os elementos desses objetos.</p>
<p>Quando nominamos os objetos contidos nas listas, podemos utilizar o operador <code>$</code>, para acessar esses objetos. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando uma lista</span>
<span class='va'>l0</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>l01 <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, 
           l02 <span class='op'>=</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>5</span><span class='op'>]</span>, 
           l03 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>3</span><span class='op'>)</span>,
           l04 <span class='op'>=</span> <span class='va'>mean</span>, 
           l05 <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/expression.html'>expression</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>~</span> <span class='va'>y</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'># Imprimindo o primeiro elemento (objeto) da lista 'l0'</span>
<span class='va'>l0</span><span class='op'>$</span><span class='va'>l01</span>
</code></pre>
</div>
<pre><code>[1] 1 2 3</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Imprimindo o segundo</span>
<span class='va'>l0</span><span class='op'>$</span><span class='va'>l02</span>
</code></pre>
</div>
<pre><code>[1] &quot;e&quot;</code></pre>
</div>
<p>As listas têm importâncias diversas dentro da linhagem <code>R</code>, por exemplo, o atributo em um objeto é armazenado em forma de lista. A coerção sempre força um vetor atômico a uma lista. Vejamos as linhas de comando a seguir.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Vejamos as linhas de comando</span>
<span class='va'>l1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>l2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>2</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'># Vejamos as suas estruturas</span>
<span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='va'>l1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>List of 2
 $ :List of 2
  ..$ : num 1
  ..$ : num 2
 $ : num [1:2] 3 4</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/str.html'>str</a></span><span class='op'>(</span><span class='va'>l2</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>List of 4
 $ : num 1
 $ : num 2
 $ : num 3
 $ : num 4</code></pre>
</div>
<p>Observamos no objeto <code>l1</code>, temos uma lista cujos elementos são outra lista, o elemento <code>3</code> e o elemento <code>4</code>. O vetor <code>c(3, 4)</code> se transformou em dois elementos de <code>l1</code>. No objeto <code>l2</code>, poderíamos pensar que como a lista está dentro da função <code>c()</code>, os elementos da lista fariam parte dos elementos de um vetor. Porém isso não ocorre. O que temos é uma coerção em que a lista força ao vetor a se tornar lista. Por fim, temos em <code>l2</code> quatro elementos em uma lista.</p>
<h1 id="dataframes"><i class="fas fa-dice-five"></i> Quadro de dados</h1>
<p>O objeto quadro de dados (<em>Data frame</em>) é uma lista com classe <code>data.frame</code>, em que contém dois atributos. Porém, com algumas restrições:</p>
<ul>
<li>Os componentes devem ser vetores uni ou multidimencionais, listas ou até mesmo quadro de dados;</li>
<li>As colunas das matrizes, listas ou quadro de dados são inseridas como colunas do quadro de dados;</li>
<li>A partir da versão R (4.0.0), os vetores terão mesmo modo no quadro de dados. Antes os vetores em modo caractere eram convertidos em objeto do tipo fator. Para convertê-lo automaticamente use o argumento <code>stringsAsFactors = TRUE</code>. Por sugestão, prefira a mudança usando a função <code>factor()</code>, para ter um maior controle dos níveis;</li>
<li>Os objetos inseridos no quadro de dados devem ter o mesmo comprimento.</li>
</ul>
<p>Para criarmos um objeto do tipo quadro de dados (<em>data frame</em>), usamos a função <code>data.frame()</code>. Assim, como nas listas podemos inserir os objetos no quadro de dados inserindo o nome nas colunas ou não. A forma de acessar os elementos é interessante, podemos usar a sintaxe de indexação de uma lista ou de uma matriz. Vejamos os exemplos a seguir.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um quadro de dados</span>
<span class='va'>dados</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, 
                    y <span class='op'>=</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>]</span>,
                    z <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>TRUE</span>, <span class='cn'>FALSE</span><span class='op'>)</span>, <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'># Imprimindo dados</span>
<span class='va'>dados</span>
</code></pre>
</div>
<pre><code>    x y     z
1   1 a  TRUE
2   2 b FALSE
3   3 c  TRUE
4   4 d FALSE
5   5 e  TRUE
6   6 f FALSE
7   7 g  TRUE
8   8 h FALSE
9   9 i  TRUE
10 10 j FALSE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Acessando os elementos de forma de lista</span>
<span class='va'>dados</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>
</code></pre>
</div>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dados</span><span class='op'>$</span><span class='va'>x</span>
</code></pre>
</div>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Acessando os elementos em forma de matriz</span>
<span class='va'>dados</span><span class='op'>[</span><span class='fl'>1</span>, <span class='op'>]</span> <span class='co'># Coluna 1</span>
</code></pre>
</div>
<pre><code>  x y    z
1 1 a TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dados</span><span class='op'>[</span><span class='fl'>1</span>, <span class='fl'>1</span><span class='op'>]</span> <span class='co'># Elemento da linha 1 coluna 1</span>
</code></pre>
</div>
<pre><code>[1] 1</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>dados</span><span class='op'>[</span>, <span class='fl'>1</span><span class='op'>]</span> <span class='co'># Linha 1 </span>
</code></pre>
</div>
<pre><code> [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<p>Quando importamos um conjunto de dados, por exemplo usando a função <code>read.table()</code>, o objeto que armazena esses dados é um quadro de dados. Assunto discutido mais a frente.</p>
<p>A semelhança com a forma retangular de uma matriz, faz com que algumas funções utilizadas em matrizes sejam utilizadas em quadro de dados:</p>
<ul>
<li>As funções <code>rownames()</code> e <code>colnames()</code>, retornam ou inserem os nomes das linhas e colunas, respectivamente. A função <code>names()</code> retorna o nome das colunas.</li>
<li>A dimensão das linhas e colunas podem ser obtidas pelas funções <code>nrow()</code> e <code>ncol()</code>, respectivamente. A função <code>length()</code> retorna o número de colunas.</li>
</ul>
<p>Em algumas situações, estamos interessados em otimizar o nosso tempo de programação, e achamos muito demorado ou não conveniente a utilização da sintaxe <code>objeto$elemento</code> para acessar os elementos de uma lista. Dessa forma, poderemos utilizar a função <code>attach()</code> para que os elementos do quadro de dados estejam disponíveis (anexados) no caminho de busca, e assim, possamos acessar os elementos (ou objetos) do quadro de dados sem precisar mencioná-lo. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um quadro de dados</span>
<span class='va'>dados</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>, 
                    y <span class='op'>=</span> <span class='va'>letters</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span><span class='op'>]</span>,
                    z <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='cn'>TRUE</span>, <span class='cn'>FALSE</span><span class='op'>)</span>, <span class='fl'>5</span><span class='op'>)</span><span class='op'>)</span>
<span class='co'># Usando a funcao attach()</span>
<span class='kw'><a href='https://rdrr.io/r/base/attach.html'>attach</a></span><span class='op'>(</span><span class='va'>dados</span><span class='op'>)</span>

<span class='co'># Acessando os elementos</span>
<span class='va'>x</span>; <span class='va'>y</span>; <span class='va'>z</span>
</code></pre>
</div>
<pre><code>, , 1

     [,1] [,2] [,3]
[1,]    1    3    5
[2,]    2    4    6

, , 2

     [,1] [,2] [,3]
[1,]    7    9   11
[2,]    8   10   12</code></pre>
<pre><code>[1] 1 2 3</code></pre>
<pre><code>[1] 1 2 4</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Desanexando dados</span>
<span class='kw'><a href='https://rdrr.io/r/base/detach.html'>detach</a></span><span class='op'>(</span><span class='va'>dados</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Essa função <code>attach()</code> tem implicações, quando por exemplo se deseja inseri-la na construção de um pacote <code>R</code>. Iremos discutir esse ponto mais a frente. Para desanexar o quadro de dados, use <code>detach()</code>. A função <code>attach()</code> é genérica e pode ser usada em qualquer objeto de modo <code>list</code> ser anexado no caminho de busca.</p>
<h1 id="impexpdata"><i class="fas fa-database"></i> Importando dados</h1>
<!-- Depois inserir a exportacao de dados -->
<iframe width="560" height="315" src="https://www.youtube.com/embed/HQN9-yfu3sQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>A importação/exportação de dados era algo que em poucas linhas conseguíamos explicar sobre o ambiente <code>R</code>, no sentido de análise de dados. Entretanto, observando o terceiro princípio do R, afirmado por <span class="citation" data-cites="chambers2016"><a href="#ref-chambers2016" role="doc-biblioref">Chambers</a> (<a href="#ref-chambers2016" role="doc-biblioref">2016</a>)</span>:</p>
<blockquote>
<p>
<ul>
<li><strong>Princípio da Interface</strong>: Interfaces para outros programas são parte do <code>R</code></li>
</ul>
</p>
</blockquote>
<p>Hoje é uma realidade a interação que o ambiente <code>R</code> tem com outras interfaces (programas, linguagens, etc.). A facilidade em utilizar outras linguagens dentro do ambiente <code>R</code> torna assim mais complexo a importação/exportação de dados, uma vez que o objetivo do <code>R</code>, apesar do <em>R Core Team</em> ainda limitar a sua definição como o ambiente para a computação estatística, a ferramenta se tornou tão versátil, que hoje torna humilde essa definição. Para mais detalhes acesse o manual <a href="https://cran.r-project.org/doc/manuals/r-release/R-data.html">R Data Import/Export</a>. Um outro fator e tema atual é a era dos grandes bancos de dados (<em>Big Data</em>), do qual se tem um grande conjunto de variáveis e necessitamos fazer a importação por APIs, por exemplo, ou outras vias. Temas como esses, abordaremos no módulo <a href="navancado.html" target="_blank">Programação em R (Nível Avançado)</a>.</p>
<p>Nesse momento, limitaremos esse assunto ao objetivo de termos um conjunto de dados em arquivos de texto (extensões do tipo <em>.txt</em>, <em>.csv</em>, <em>xls</em>), formato binário (<em>.xls</em> ou <em>.xlsx</em>) ou digitados manualmente pelo teclado do computador. Assim, a primeira forma de como os dados estão dispostos, precisaremos importá-los e armazená-los em um quadro de dados (<em>data frame</em>), para que esteja disponível na área de trabalho (ambiente global) do <code>R</code>, e dessa forma, possamos utilizá-lo. Ao final do tratamento dos dados, podemos exportar essas informações para arquivos externos, e daí também, usaremos os arquivos de textos e o formato binário (<em>.xls</em>), mensionados anteriormente.</p>
<h2 id="preparação-dos-dados">Preparação dos dados</h2>
<p>A primeira coisa que devemos entender quando desejamos construir o arquivo de dados, é entender que sempre organizaremos as variáveis em colunas, com os seus valores em linhas, Figura <a href="#fig:bdados">12</a>. Sempre a primeira linha das colunas representarar o nome das variáveis. Esse é outro ponto importante, pois devemos ter a noção que alguma linguagem irá ler esse banco de dados. Assim, quanto mais caracteres diferentes do padrão ASCII, mais difícil será a leitura desses dados. Assim, sugerimos alguns padrões:</p>
<ul>
<li>Evitem símbolos fora do padrão alfanumérico;</li>
<li>Evitem mistura de letras minúsculas com letras maiúsculas. Isso facilitará o acesso a essas variáveis. Contudo, lembre-se do padrão de nomes sintéticos permissíveis do <a href="http://bendeivide.github.io/cursor/">R</a>;</li>
<li>Lembre-se que o banco de dados será utilizado para que um programa faça a sua leitura, portanto, deixe a formatação da apresentação dos dados para arquivos específico. Sendo assim, evitem comentários nesses arquivos, ou qualquer outro tipo de informação que não seja o banco de dados;</li>
<li>Evitem palavras longas, por exemplo, <code>segundavariavel</code> (má escolha), <code>segvar</code> (boa escolha), <code>seg_var</code> (boa escolha);</li>
<li>Evitem palavras compostas com espaço entre elas. Para isso use o símbolo <code>_</code>, por exemplo, <code>var 2</code> (má escolha), <code>var2</code> (boa escolha), <code>var_2</code> (boa escolha);</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:bdados"></span>
<img src="images/banco_dados.png" alt="Modelo estrutural de um banco de dados." width="1080" />
<p class="caption">
Figure 12: Modelo estrutural de um banco de dados.
</p>
</div>
</div>
<h2 id="importando-dados">Importando dados</h2>
<p>A função primária responável pela importação de dados é a função <code>scan()</code>. Por exemplo, funções como <code>read.table()</code>, <code>read.csv()</code> e <code>read.delim()</code>, usam a função <code>scan()</code> em seu algoritmo.</p>
<p>A primeira ideia sobre importação de dados pode ser inserindo-os pelo teclado no próprio ambiente <a href="http://r-project.org/">R</a>. Para isso, usaremos a função <code>scan()</code>. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando e inserido os elementos do objeto dados</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/scan.html'>scan</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Após executado essa linha de comando, aparecerá no console <code>1:</code> que significa, digitar o primeiro valor do objeto <code>x</code>, e depois clicar em <em>ENTER</em>. Depois <code>2:</code>, que significa digitar o segundo valor, e clicar em <em>ENTER</em>. Depois de inserido todos os valores necessários, aperte a tecla <em>ENTER</em> duas vezes no console, para sair da função <code>scan()</code>.</p>
<p>O mais tradicional é usar programa para criação de banco de dados e deixá-lo pronto para o <code>R</code> lê-lo. O tipo de arquivo de texto que melhor controla a separação de variáveis é com a extensão <em>.csv</em>, uma vez que separamos as variáveis por “;” é o padrão. O arquivo de texto com extensão <em>.txt</em>, geralmente usa espaços. Isso acaba gerando problema de leitura no <a href="http://r-project.org/">R</a>, porque muitos usuários usam nomes de variáveis muito grandes, palavras compostas, de forma a desalinhar as colunas das variáveis. Daí, como a separação das variáveis é por meio de espaços, acaba gerando problema de leitura. Uma outra forma, é fazer importação de dados gerados pelo próprio <a href="http://r-project.org/">R</a>, extensão <em>.RData</em>.</p>
<p>Temos a opção de usar um editor de banco de dados para essas extensões por meio de programas como MS Excel, Libre Office, dentre outros. Estes exportam arquivos binários do tipo <em>.xls</em>, <em>.xlsx</em>, dentre outros. Uma sugestão para diminuir complicações, é exportar os bancos de dados para arquivos de texto sitados acima, que também é possível ser exportado por esses programas. Isso evita a necessidade de ser instalado mais pacotes e dor de cabeça. Porém, para quem ainda deseja enfrentar, sugerimos a leitura do pacote <a href="https://readr.tidyverse.org/" target="_blank">readr</a>, como exemplo, porém existem diversos outros pacotes para este mesmo fim.</p>
<p>Uma vez que o banco de dados está pronto, a leitura destes pode ser feita por alguns caminhos. Mostraremos o mais trivial que é o botão <em>Import Dataset</em>, terceiro quadrante, aba <em>Environment</em>, na IDE do <a href="http://rstudio.org/" target="_blank">RStudio</a>. Veja na Figura <a href="#fig:impexpdados">13</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:impexpdados"></span>
<img src="images/imp-exp.png" alt="Usando o RStudio para importar dados." width="1786" />
<p class="caption">
Figure 13: Usando o RStudio para importar dados.
</p>
</div>
</div>
<p>Posteriormente, indique o arquivo para leitura. Aparece algumas opções de tipo de arquivo. Em nosso caso, usaremos a opção <em>From Text (base)</em>, que significa realizar a leitura para os tipos de arquivo <em>.txt</em> ou <em>.csv</em>. Daí os passos seguintes são:</p>
<ol type="1">
<li>Escolher o arquivo para leitura dos dados;</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:impexpdados2"></span>
<img src="images/imp-exp2.png" alt="Usando o RStudio para importar dados." width="1790" />
<p class="caption">
Figure 14: Usando o RStudio para importar dados.
</p>
</div>
</div>
<ol start="2" type="1">
<li>Configurar a leitura do banco de dados. Uma prévia pode ser vista no quadro <em>Data Frame</em>. Se for visualizado, algum problema, isso significa que deve ser informado opções adicionais como separador de variáveis (<em>Separator</em>), símbolo para casas decimais (<em>Decimal</em>), dentre outras opções. Por fim, digitar o nome associado ao objeto (<em>Name</em>) que será criado do tipo quadro de dados (<em>data frame</em>), e clicar no botão <em>Import</em>;</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:impexpdados3"></span>
<img src="images/imp-exp3.png" alt="Usando o RStudio para importar dados." width="1782" />
<p class="caption">
Figure 15: Usando o RStudio para importar dados.
</p>
</div>
</div>
<ol start="3" type="1">
<li>Uma vez inserido, o RStudio apresenta a linha de comando utilizada para importar os dados no console (2º quadrante), o conjunto de dados (1º quadrante), e a ligação entre o nome e o objeto no ambiente global (3º quadrante).</li>
</ol>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:impexpdados4"></span>
<img src="images/imp-exp4.png" alt="Usando o RStudio para importar dados." width="1784" />
<p class="caption">
Figure 16: Usando o RStudio para importar dados.
</p>
</div>
</div>
<p>A outra forma é utilizar linhas de comando. Para isso utilizaremos a função <code>read.table()</code>. Antes de importarmos o banco de dados, algo interessante é inserir o arquivo de dados no diretório de trabalho no ambiente <a href="http://r-project.org/" target="_blank">R</a>. Para verificar o ambiente de trabalho use a função <code>getwd()</code>. Para alterar o local do ambiente de trabalho use <code>setwd()</code>. Se esse procedimento não for realizado, o usuário deve informar na função <code>read.table()</code>, o local exato do arquivo de texto.</p>
<p>Vamos usar como diretório o local <code>C:\cursor</code>. Lembre-se que no <a href="http://r-project.org/" target="_blank">R</a>, <strong>a barra deve ser invertida</strong>. Vamos inserir nesse diretório três arquivos <em>alfafa.txt</em>, <em>datast1980.txt</em> e <em>producao.csv</em>.</p>
<p>Os três conjuntos de dados são:</p>
<ul>
<li><em>alfafa.txt</em></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<table>
<thead>
<tr class="header">
<th style="text-align: center;">TRAT</th>
<th style="text-align: center;">BLOCO</th>
<th style="text-align: center;">PROD</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">A</td>
<td style="text-align: center;">I</td>
<td style="text-align: center;">2.89</td>
</tr>
<tr class="even">
<td style="text-align: center;">A</td>
<td style="text-align: center;">II</td>
<td style="text-align: center;">2.88</td>
</tr>
<tr class="odd">
<td style="text-align: center;">A</td>
<td style="text-align: center;">III</td>
<td style="text-align: center;">1.88</td>
</tr>
<tr class="even">
<td style="text-align: center;">A</td>
<td style="text-align: center;">IV</td>
<td style="text-align: center;">2.90</td>
</tr>
<tr class="odd">
<td style="text-align: center;">A</td>
<td style="text-align: center;">V</td>
<td style="text-align: center;">2.20</td>
</tr>
<tr class="even">
<td style="text-align: center;">A</td>
<td style="text-align: center;">VI</td>
<td style="text-align: center;">2.65</td>
</tr>
<tr class="odd">
<td style="text-align: center;">B</td>
<td style="text-align: center;">I</td>
<td style="text-align: center;">1.58</td>
</tr>
<tr class="even">
<td style="text-align: center;">B</td>
<td style="text-align: center;">II</td>
<td style="text-align: center;">1.28</td>
</tr>
<tr class="odd">
<td style="text-align: center;">B</td>
<td style="text-align: center;">III</td>
<td style="text-align: center;">1.22</td>
</tr>
<tr class="even">
<td style="text-align: center;">B</td>
<td style="text-align: center;">IV</td>
<td style="text-align: center;">1.21</td>
</tr>
<tr class="odd">
<td style="text-align: center;">B</td>
<td style="text-align: center;">V</td>
<td style="text-align: center;">1.30</td>
</tr>
<tr class="even">
<td style="text-align: center;">B</td>
<td style="text-align: center;">VI</td>
<td style="text-align: center;">1.66</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">I</td>
<td style="text-align: center;">2.29</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">II</td>
<td style="text-align: center;">2.98</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">III</td>
<td style="text-align: center;">1.55</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">IV</td>
<td style="text-align: center;">1.95</td>
</tr>
<tr class="odd">
<td style="text-align: center;">C</td>
<td style="text-align: center;">V</td>
<td style="text-align: center;">1.15</td>
</tr>
<tr class="even">
<td style="text-align: center;">C</td>
<td style="text-align: center;">VI</td>
<td style="text-align: center;">1.12</td>
</tr>
<tr class="odd">
<td style="text-align: center;">D</td>
<td style="text-align: center;">I</td>
<td style="text-align: center;">2.56</td>
</tr>
<tr class="even">
<td style="text-align: center;">D</td>
<td style="text-align: center;">II</td>
<td style="text-align: center;">2.00</td>
</tr>
<tr class="odd">
<td style="text-align: center;">D</td>
<td style="text-align: center;">III</td>
<td style="text-align: center;">1.82</td>
</tr>
<tr class="even">
<td style="text-align: center;">D</td>
<td style="text-align: center;">IV</td>
<td style="text-align: center;">2.20</td>
</tr>
<tr class="odd">
<td style="text-align: center;">D</td>
<td style="text-align: center;">V</td>
<td style="text-align: center;">1.33</td>
</tr>
<tr class="even">
<td style="text-align: center;">D</td>
<td style="text-align: center;">VI</td>
<td style="text-align: center;">1.00</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><em>datast1980.txt</em></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<table>
<thead>
<tr class="header">
<th style="text-align: center;">trt</th>
<th style="text-align: center;">y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">19.4</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: center;">32.6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">27.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">1</td>
<td style="text-align: center;">32.1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">33.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">17.7</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2</td>
<td style="text-align: center;">24.8</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">27.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">2</td>
<td style="text-align: center;">25.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">24.3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">17.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td style="text-align: center;">19.4</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">9.1</td>
</tr>
<tr class="even">
<td style="text-align: center;">3</td>
<td style="text-align: center;">11.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">15.8</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">20.7</td>
</tr>
<tr class="odd">
<td style="text-align: center;">4</td>
<td style="text-align: center;">21.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">20.5</td>
</tr>
<tr class="odd">
<td style="text-align: center;">4</td>
<td style="text-align: center;">18.8</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">18.6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">14.3</td>
</tr>
<tr class="even">
<td style="text-align: center;">5</td>
<td style="text-align: center;">14.4</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">11.8</td>
</tr>
<tr class="even">
<td style="text-align: center;">5</td>
<td style="text-align: center;">11.6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">14.2</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">17.3</td>
</tr>
<tr class="odd">
<td style="text-align: center;">6</td>
<td style="text-align: center;">19.4</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">19.1</td>
</tr>
<tr class="odd">
<td style="text-align: center;">6</td>
<td style="text-align: center;">16.9</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">20.8</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><em>producao.csv</em></li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<table>
<thead>
<tr class="header">
<th style="text-align: center;">x</th>
<th style="text-align: center;">y</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">6.7</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">7.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">9.1</td>
</tr>
<tr class="even">
<td style="text-align: center;">4</td>
<td style="text-align: center;">6.6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">5</td>
<td style="text-align: center;">7.5</td>
</tr>
<tr class="even">
<td style="text-align: center;">6</td>
<td style="text-align: center;">8.8</td>
</tr>
<tr class="odd">
<td style="text-align: center;">7</td>
<td style="text-align: center;">7.7</td>
</tr>
<tr class="even">
<td style="text-align: center;">8</td>
<td style="text-align: center;">7.6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">9</td>
<td style="text-align: center;">6.5</td>
</tr>
<tr class="even">
<td style="text-align: center;">10</td>
<td style="text-align: center;">7.9</td>
</tr>
<tr class="odd">
<td style="text-align: center;">11</td>
<td style="text-align: center;">8.7</td>
</tr>
<tr class="even">
<td style="text-align: center;">12</td>
<td style="text-align: center;">6.2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">13</td>
<td style="text-align: center;">7.9</td>
</tr>
<tr class="even">
<td style="text-align: center;">14</td>
<td style="text-align: center;">7.4</td>
</tr>
<tr class="odd">
<td style="text-align: center;">15</td>
<td style="text-align: center;">9.7</td>
</tr>
<tr class="even">
<td style="text-align: center;">16</td>
<td style="text-align: center;">6.2</td>
</tr>
<tr class="odd">
<td style="text-align: center;">17</td>
<td style="text-align: center;">4.9</td>
</tr>
<tr class="even">
<td style="text-align: center;">18</td>
<td style="text-align: center;">5.6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">19</td>
<td style="text-align: center;">7.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">20</td>
<td style="text-align: center;">6.0</td>
</tr>
</tbody>
</table>
</div>
<p>Vejamos as linhas de comando para importar os dados.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Diretorio</span>
<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Mudadando para o diretorio de interesse</span>
<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>setwd</a></span><span class='op'>(</span><span class='st'>"C:/cursor"</span><span class='op'>)</span>

<span class='co'># Verificando os arquivos no diretorio de trabalho</span>
<span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Importando os dados apontando para o diretorio do arquivo</span>
<span class='va'>dados1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span>file <span class='op'>=</span> <span class='st'>"C:/cursor/alfafa.txt"</span>, header <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Considerando que o arquivo esta no diretorio de</span>
<span class='co'># trabalho, isto eh, getwd()</span>
<span class='va'>dados2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span><span class='st'>"alfafa.txt"</span>, header <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Importando os dados com decimais com ',' apontando para o diretorio do arquivo</span>
<span class='va'>dados3</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span>file <span class='op'>=</span> <span class='st'>"C:/cursor/dadost1980.txt"</span>, header <span class='op'>=</span> <span class='cn'>TRUE</span>, dec <span class='op'>=</span> <span class='st'>","</span><span class='op'>)</span>

<span class='co'># Considerando que o arquivo esta no diretorio de</span>
<span class='co'># trabalho, isto eh, getwd()</span>
<span class='va'>dados4</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span>file <span class='op'>=</span> <span class='st'>"dadost1980.txt"</span>, header <span class='op'>=</span> <span class='cn'>TRUE</span>, dec <span class='op'>=</span> <span class='st'>","</span><span class='op'>)</span>

<span class='co'># Importando os dados com decimais ',', e separados por ';' apontando para o diretorio do arquivo</span>
<span class='va'>dados5</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span>file <span class='op'>=</span> <span class='st'>"C:/cursor/producao.csv"</span>, header <span class='op'>=</span> <span class='cn'>TRUE</span>, dec <span class='op'>=</span> <span class='st'>","</span>, sep <span class='op'>=</span> <span class='st'>";"</span><span class='op'>)</span>

<span class='co'># Considerando que o arquivo esta no diretorio de</span>
<span class='co'># trabalho, isto eh, getwd()</span>
<span class='va'>dados6</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span>file <span class='op'>=</span> <span class='st'>"producao.csv"</span>, header <span class='op'>=</span> <span class='cn'>TRUE</span>, dec <span class='op'>=</span> <span class='st'>","</span>, sep <span class='op'>=</span> <span class='st'>";"</span><span class='op'>)</span>

<span class='co'># Importando da internet</span>
<span class='va'>dados7</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span>file <span class='op'>=</span> <span class='st'>"https://bendeivide.github.io/cursor/dados/alfafa.txt"</span>, header <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Na última linha de comando, mostramos que também é possível importar dados de arquivos de texto da internet, e claro considerando que o usuário está com acesso a internet no momento da importação. E um recurso interessante que pode ser feito, principalmente para este caso, é salvar o banco de dados em um arquivo de dados no <code>.RData</code>. Dessa forma, todos os dados, inclusive os importados da internet serão agora armazenados nesse tipo de arquivo, e não precisaremos, nesse caso, de acesso a internet. Para salvar, usamos a função <code>save()</code>. Para carregar os dados e armazená-lo no ambiente global, usamos a função <code>load()</code>. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Diretorio</span>
<span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Verificando os arquivos do diretorio de trabalho</span>
<span class='fu'><a href='https://rdrr.io/r/base/list.files.html'>list.files</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Importando os dados da internet</span>
<span class='va'>dados7</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/utils/read.table.html'>read.table</a></span><span class='op'>(</span>file <span class='op'>=</span> <span class='st'>"https://bendeivide.github.io/cursor/dados/alfafa.txt"</span>, header <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='co'># Salvando em '.RData'</span>
<span class='fu'><a href='https://rdrr.io/r/base/save.html'>save</a></span><span class='op'>(</span><span class='va'>dados7</span>, file <span class='op'>=</span> <span class='st'>"alfafa.RData"</span><span class='op'>)</span>

<span class='co'># Carregando '.RData' para o ambiente global</span>
<span class='fu'><a href='https://rdrr.io/r/base/load.html'>load</a></span><span class='op'>(</span><span class='st'>"alfafa.RData"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Percebemos que as extensões <em>.txt</em> e <em>.csv</em> são idênticos, exceto pela estrutura de como os dados estão dispostos. Para comprovar isso, o usuário manualmente poderá mudar a entensão de um arquivo do tipo <em>.csv</em> para um arquivo <em>.txt</em> e observar em um bloco de notas.</p>
<p>Até esse momento do curso, usamos as funções no <a href="http://r-project.org/" target="_blank">R</a> sem apresentar os argumentos dessas funções dentro dos parênteses. Isso porque quando inserimos os valores dos argumentos na posição correta destes, não precisaremos inserir o nome dos argumentos. Por exemplo, já usamos anteriormente a função <code>mean()</code> que calcula a média de um conjunto de valores, por exemplo, <code>valores &lt;- 1:10</code>. Temos como primeiro argumento para essa função o <code>x</code> que representa um objeto <a href="http://r-project.org/" target="_blank">R</a> que recebe os valores para o cálculo. Assim, como sabemos que <code>x</code> é o primeiro argumento dessa função, podemos omitir o seu nome e calcular a média por <code>mean(valores)</code>, que é o mesmo que <code>mean(x = valores)</code>. Para mais detalhes, <code>?mean()</code>. Para mais detalhes sobre a função <code>read.table()</code>, use <code>?read.table()</code>.</p>
<!-- Acrescentar depois a diferenciação entre .RData ou .rda e .rds -->
<!-- https://stackoverflow.com/questions/21370132/r-data-formats-rdata-rda-rds-etc -->
<!-- > x <- 1:5 -->
<!-- > save(x, file="x.Rda") -->
<!-- > saveRDS(x, file="x.Rds") -->
<!-- > rm(x) -->
<!-- ## ASSIGN USING readRDS -->
<!-- > new_x1 <- readRDS("x.Rds") -->
<!-- > new_x1 -->
<!-- [1] 1 2 3 4 5 -->
<!-- ## 'ASSIGN' USING load -- note the result -->
<!-- > new_x2 <- load("x.Rda") -->
<!-- loading in to  <environment: R_GlobalEnv>  -->
<!-- > new_x2 -->
<!-- [1] "x" -->
<!-- # NOTE: `load()` simply returns the name of the objects loaded. Not the values.  -->
<!-- > x -->
<!-- [1] 1 2 3 4 5 -->
<!-- Inserir ao final uma ilustração com entrada e saída de dados -->
<div class="sourceCode" id="cb153"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<h1 id="funcoes"><i class="fas fa-code"></i> Funções</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/DS9kce3wHpE" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Mais uma vez, nos reportamos aos princípios do <a href="http://r-project.org/" target="_blank">R</a> (<span class="citation" data-cites="chambers2016"><a href="#ref-chambers2016" role="doc-biblioref">Chambers</a> (<a href="#ref-chambers2016" role="doc-biblioref">2016</a>)</span>), mais especificamente ao segundo princípio,</p>
<blockquote>
<p>
<ul>
<li><strong>Princípio da função</strong>: Tudo que acontece no <a href="http://r-project.org/" target="_blank">R</a> é uma chamada de função.</li>
</ul>
</p>
</blockquote>
<p>Para que possamos compreender esse princípio, precisamos entender que uma função é um objeto, isto é, modo <code>function</code><a href="#fn18" class="footnote-ref" id="fnref18" role="doc-noteref"><sup>18</sup></a>, assim como os vetores são, seguindo as mesmas ideias comentadas na seção anterior, e que as funções podem ser dividas em três componentes:</p>
<ul>
<li>Argumentos, função <code>formals()</code>,</li>
<li>Corpo, função <code>body()</code> e</li>
<li>Ambiente, função <code>environment()</code>.</li>
</ul>
<p>Para o caso das funções primitivas, escritas na linguagem <em>C</em>, essa regra foge a excessão, e será comentado nos módulos seguintes. Dizemos que funções são primitivas de modo <code>builtin</code> ou <code>special</code>.</p>
<p>A ideia de função aqui não pensando como uma relação matemática, mas como um sistema que tem uma entrada e saída. Podemos ter funções no ambiente <a href="http://r-project.org/" target="_blank">R</a> que organiza dados, e não operações matemáticas por exemplo. Vejamos a função <code>sort()</code> do pacote <em>base</em> que ordena de forma crescente ou descrescente um conjunto de valores,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Vetor</span>
<span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fl'>3</span>, <span class='fl'>4</span><span class='op'>)</span>; <span class='va'>y</span>
</code></pre>
</div>
<pre><code>[1] 5 3 4</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Funcao</span>
<span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>y</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 3 4 5</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Argumentos da funcao sort</span>
<span class='fu'><a href='https://rdrr.io/r/base/formals.html'>formals</a></span><span class='op'>(</span><span class='va'>sort</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$x


$decreasing
[1] FALSE

$...</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Corpo da funcao</span>
<span class='fu'><a href='https://rdrr.io/r/base/body.html'>body</a></span><span class='op'>(</span><span class='va'>sort</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>{
    if (!is.logical(decreasing) || length(decreasing) != 1L) 
        stop(&quot;&#39;decreasing&#39; must be a length-1 logical vector.\nDid you intend to set &#39;partial&#39;?&quot;)
    UseMethod(&quot;sort&quot;)
}</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Ambiente</span>
<span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='va'>sort</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>&lt;environment: namespace:base&gt;</code></pre>
</div>
<p>Nesse caso, os argumentos <code>x</code>, <code>decreascing</code> e <code>...</code>, são nomes que aguardam receber objetos para a execução da função <code>sort()</code>. Nem todos os argumentos necessitam receber objetos, a estes chamamos de argumentos padrão, como o caso do argumento <code>decreascing</code> com padrão igual a <code>FALSE</code>, que significa que o ordenamento dos dados será de forma não-decrescente. Observe que na função <code>sort()</code> entramos apenas com o argumento <code>x = y</code>, não precisando inserir <code>decreascing = FALSE</code>. Agora, para modificar o argumento padrão, basta acrescentar a alteração na função, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Funcao</span>
<span class='fu'><a href='https://rdrr.io/r/base/sort.html'>sort</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>y</span>, decreasing <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 5 4 3</code></pre>
</div>
<p>O <code>'...'</code> é um argumento especial e significa que pode conter qualquer número de argumentos. Geralmente é utilizado em uma função quando não se sabe o número exato de argumentos. Na subseção <a href="#criar-funcoes">Como criar funções</a>, entenderemos melhor.</p>
<p>O próximo item é o corpo da função. É nele que inserirmos as instruções, isto é, as linhas de comandos necessárias a que destina a sua criação. Uma outra forma de acessarmos o corpo das funções é digitar no console apenas o seu nome sem o parêntese, isto é, <code>sort</code>.</p>
<p>Por fim, o ambiente que no caso da função <code>sort()</code> representa o ambiente do pacote <em>base</em>, isto é, o <em>namespace</em> do pacote.</p>
<p>Podemos observar que essas funções utilizadas até agora, não foram criadas pelo usuário. Estas funções vieram do que chamamos de pacotes. Alguns pacotes estão disponíveis quando instalamos o <a href="http://r-project.org/" target="_blank">R</a>, dizemos que estes são os pacotes da Base do <a href="http://r-project.org/" target="_blank">R</a>, para a linguagem. O principal pacote deles é o pacote <em>base</em>. Os demais pacotes desenvolvidos podem ser obtidos via <a href="http://cran.r-project.org/" target="_blank">CRAN</a>, e falaremos mais adiante.</p>
<p>O ambiente <a href="http://r-project.org/" target="_blank">R</a> apresenta uma versatilidade de manuais para a linguagem. Por exemplo, para verificar informações sobre um determinado pacote como o <em>base</em>, use <code>help(package = "base")</code>. A função <code>help</code> pode ser utilizada para funções de pacotes anexados. Por exemplo, <code>help("sort")</code>. O pacote <em>base</em> sempre estará anexado, isto é, disponível no caminho de busca para a utilização. Para os que não estão anexados, a função <code>help</code> deve informar o nome da função que necessita de ajuda, bem como o seu pacote. Por exemplo, temos uma função <code>read.dbf()</code> do pacote <em>foreign</em>, Base do <a href="http://r-project.org/" target="_blank">R</a>, porém, ele não está anexado<a href="#fn19" class="footnote-ref" id="fnref19" role="doc-noteref"><sup>19</sup></a> ao inicializar o <a href="http://r-project.org/" target="_blank">R</a>. Assim, caso não anexe o pacote, usando <code>library("foreign")</code>, a ajuda sobre a função pode ser realizada com <code>help("read.dbf", package = "foreign")</code>. Outras sintaxes para a função <code>help()</code> é usar <code>?</code> antes do nome de uma função de um pacote anexado, isto é, <code>?sort()</code>.</p>
<p>Para os manuais de ajuda na internet, use <code>??</code> antes do nome da função, por exemplo <code>??sort()</code>, <code>read.dbf()</code>, etc. Essa sintaxe não precisa dos pacotes estarem anexados para ajuda de determinada função, porém o pacote necessita estar instalado. Para mais detalhes sobre pacotes, teremos uma seção sobre <a href="#pacotes">Pacotes</a>.</p>
<p>As chamadas de funções podem ocorrer de três formas: aninhada, intermediária ou de forma <em>pipe</em>. As duas primeiras formas da Base do <a href="http://r-project.org/" target="_blank">R</a>, e o segundo foi uma sintaxe utilizada pelo pacote <a href="https://magrittr.tidyverse.org/" target="_blank">magrittr</a>, e na versão do <a href="http://r-project.org/" target="_blank">R</a> 4.1, já existe o operador <em>pipe</em> nativo (<code>|&gt;</code>), sendo comentado no módulo <a href="nintermediario.html">Programação em R (Nível Intermediário)</a>.</p>
<p>Suponha que desejamos calcular o desvio padrão de um conjunto de valores. Vamos utilizar as três formas:</p>
<ul>
<li>Aninhado:</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Gerando 100 numeros aleatorios de uma distribuicao normal</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span> <span class='co'># Semente</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>100</span><span class='op'>)</span>

<span class='co'># Calculando o desvio padrao</span>
<span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>var</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.9412359</code></pre>
</div>
<ul>
<li>intermediária:</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Calculando o desvio padrao</span>
<span class='va'>vari</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>var</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='va'>desvpad</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='va'>vari</span><span class='op'>)</span>; <span class='va'>desvpad</span>
</code></pre>
</div>
<pre><code>[1] 0.9412359</code></pre>
</div>
<ul>
<li>Pipe:</li>
</ul>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Anexando o pacote</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://magrittr.tidyverse.org'>magrittr</a></span><span class='op'>)</span>

<span class='co'># Calculando o desvio padrao</span>
<span class='va'>x</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/stats/cor.html'>var</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.9412359</code></pre>
</div>
<p>A ideia da chamada de função aninhada é inserir função como argumento de funções sem necessidade de associar nomes aos objetos. A ordem de execução começa sempre da direita para a esquerda. No caso da chamada de função intermediária, associamos nomes a cada função, e os passos seguem. Por fim, o operador especial pipe (<code>%&gt;%</code>) tem como primeiro operando o primeiro argumento da função no segundo operando.</p>
<p>Quando desenvolvemos pacotes, preferimos os dois primeiros, pois é a forma tradicional de chamadas de função no <a href="http://r-project.org/" target="_blank">R</a>. A chamada de função pipe é muito utilizada para ciência dos dados.</p>
<h2 id="controle-fluxos">Estruturas de controle</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/FdGEXshaRJM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>As funções que utilizaremos, a seguir, são utilizadas quando desejamos realizar processos repetitivos para um determinado fim ou condicionado, as famosas estruturas de controle. Assim, como em outras linguagens, as funções utilizadas são: <code>if()</code>, <code>switch()</code>, <code>ifelse()</code>, <code>while()</code>, <code>repeat</code>, <code>for()</code>. Esses objetos tem modo <code>special</code><a href="#fn20" class="footnote-ref" id="fnref20" role="doc-noteref"><sup>20</sup></a>, porque as expressão não são necessariamente avaliadas. Já a função <code>ifelse()</code> é de modo <code>closure</code><a href="#fn21" class="footnote-ref" id="fnref21" role="doc-noteref"><sup>21</sup></a>. Esse é um tipo de função implementado por <code>function()</code>.</p>
<p>A ideias das estruturas de controle de modo <code>special</code> é:</p>
<pre><code>função (condição) {
  expressão
}</code></pre>
<p>A sintaxe das funções <code>repeat</code> e <code>swicth()</code> fogem um pouco desse padrão, e explicaremos em sua aplicação.</p>
<p>Apesar da linguagem <a href="http://r-project.org/" target="_blank">R</a> ser interpretada, acaba ganhando a fama de que as funções <em>loops</em> são mais lentas. Em alguns casos, a construção do algoritmo proporciona isso e não a implementação dessas funções em si. Um exemplo que podemos citar, são as cópias de objetos podem ter um gasto de memória ativa imenso no processo e proporcionar um gasto computacional. E isso foi devido a forma de como o algoritmo copiou os objetos, e não as funções <em>lopps</em>. Veremos isso no módulo <a href="nintermediario.html">Programação em R (Nível Intermediário)</a>.</p>
<p>A primeira estrutura é o <code>if()</code>, com sintaxe:</p>
<pre><code>if (condição) {
  expressão sob condição = TRUE
} else {
  expressão sob condição = FALSE
}</code></pre>
<p>ou de forma alternativa:</p>
<pre><code>if (condição) {
  expressão sob condição = TRUE
}</code></pre>
<p>Observe o primeiro exemplo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto</span>
<span class='va'>i</span> <span class='op'>&lt;-</span> <span class='fl'>5</span>
<span class='co'># Estrutura if()</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>&gt;</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='st'>"Maior que 3!"</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] &quot;Maior que 3!&quot;</code></pre>
</div>
<p>Vejamos mais um exemplo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto numerico</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>

<span class='co'># Estrutura 'if'</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>is.numeric</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='st'>"Isso é um número"</span><span class='op'>)</span>
<span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='st'>"Isso não é um número"</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] &quot;Isso é um número&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># eh o mesmo que</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>is.numeric</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>==</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='st'>"Isso é um número"</span><span class='op'>)</span>
<span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='st'>"Isso não é um número"</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] &quot;Isso é um número&quot;</code></pre>
</div>
<p>observe na primeira forma que a condição na função nós não precisamos perguntar se <code>is.numeric(x) == TRUE</code>, porque isso já é implícito na função, e acaba levando a primeira expressão <code>print("Isso é um número")</code>. No <a href="http://r-project.org/" target="_blank">R</a>, essa estrutura de controle não é vetorizado, isto é, se a condição houver um vetor lógico maior que 1, apenas os primeiros itens serão usados. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objetos</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>5</span>
<span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fl'>3</span><span class='op'>:</span><span class='fl'>8</span>

<span class='co'># Primeira sintaxe (Preferivel)</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='va'>x</span> <span class='op'>&lt;</span> <span class='va'>w</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>x</span>
<span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
  <span class='va'>w</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] 3 4 5 6 7 8</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Segunda forma</span>
<span class='co'># if (x &lt; w) x else w</span>
</code></pre>
</div>
</div>
<p>Como forma alternativa, pode ser usado a função <code>ifelse</code>, cuja sintaxe é:</p>
<pre><code>ifelse(condição, expressão sob TRUE, expressão sob FALSE)</code></pre>
<p>Assim, temos:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objetos</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>5</span>
<span class='va'>w</span> <span class='op'>&lt;-</span> <span class='fl'>3</span><span class='op'>:</span><span class='fl'>8</span>

<span class='co'># Primeira sintaxe (Preferivel)</span>
<span class='fu'><a href='https://rdrr.io/r/base/ifelse.html'>ifelse</a></span><span class='op'>(</span><span class='va'>x</span> <span class='op'>&lt;</span> <span class='va'>w</span>, <span class='va'>x</span>, <span class='va'>w</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 3 4 5 5 5 5</code></pre>
</div>
<p>Podemos estar interessados em resultados específicos para determinadas condições. Por exemplo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>2</span> <span class='co'># numero ou palavra</span>

<span class='co'># Estrutura 'if'</span>
<span class='kw'>if</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/character.html'>is.character</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='st'>"palavra"</span>
<span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
    <span class='kw'>if</span> <span class='op'>(</span><span class='op'>(</span><span class='va'>x</span> <span class='op'>%%</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>==</span> <span class='fl'>0</span><span class='op'>)</span> <span class='op'>{</span>
      <span class='st'>"numero_par"</span>
    <span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
        <span class='kw'>if</span> <span class='op'>(</span><span class='op'>(</span><span class='va'>x</span> <span class='op'>%%</span> <span class='fl'>2</span><span class='op'>)</span> <span class='op'>==</span> <span class='fl'>1</span><span class='op'>)</span> <span class='op'>{</span>
          <span class='st'>"numero_impar"</span>
        <span class='op'>}</span>
    <span class='op'>}</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] &quot;numero_par&quot;</code></pre>
</div>
<p>Outro exemplo seria,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>15</span><span class='op'>)</span> <span class='co'># Fixando a semente</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1000</span><span class='op'>)</span> <span class='co'># Gerando 1000 numeros aleatorios</span>

<span class='co'># medida descritiva</span>
<span class='va'>opcao</span> <span class='op'>&lt;-</span> <span class='st'>"media"</span> <span class='co'># opcoes: "media", "mediana", "medapar" (media aparada)</span>

<span class='kw'>if</span> <span class='op'>(</span><span class='va'>opcao</span> <span class='op'>==</span> <span class='st'>"media"</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"A média aritmética é:"</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
    <span class='kw'>if</span> <span class='op'>(</span><span class='va'>opcao</span> <span class='op'>==</span> <span class='st'>"mediana"</span><span class='op'>)</span> <span class='op'>{</span>
      <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"A mediana é:"</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
    <span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
        <span class='kw'>if</span> <span class='op'>(</span><span class='va'>opcao</span> <span class='op'>==</span> <span class='st'>"medapar"</span><span class='op'>)</span> <span class='op'>{</span>
          <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"A média aparada é:"</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span>, trim <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
        <span class='op'>}</span>
    <span class='op'>}</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>A média aritmética é: 0.037</code></pre>
</div>
<p>Poderíamos utilizar a função <code>switch()</code>, para esse mesmo código, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='kw'><a href='https://rdrr.io/r/base/switch.html'>switch</a></span><span class='op'>(</span><span class='va'>opcao</span>,
   media <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"A média aritmética é:"</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>,
   mediana <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"A mediana é:"</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>,
   medapar <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/cat.html'>cat</a></span><span class='op'>(</span><span class='st'>"A média aparada é:"</span>, <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span>, trim <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>)</span>
</code></pre>
</div>
<pre><code>A média aritmética é: 0.037</code></pre>
</div>
<p>As três estruturas de <em>loop</em> no <a href="http://r-project.org/" target="_blank">R</a> são: <code>repeat</code>, <code>while()</code> e <code>for()</code>. A primeira delas é <code>repeat</code>, apresentamos sua sintaxe:</p>
<pre><code>repeat {
   expressão ...
}</code></pre>
<p>Juntamente com o <code>repeat</code>, usamos as funções <code>break</code> e <code>next</code>, pois a função <code>repeat</code> não tem uma condição explícita. Vejamos, alguns exemplos.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Contador</span>
<span class='va'>i</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='co'># Loop repeat</span>
<span class='kw'>repeat</span> <span class='op'>{</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>&gt;</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='kw'>break</span>
  <span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
    <span class='va'>i</span> <span class='op'>&lt;-</span> <span class='va'>i</span> <span class='op'>+</span> <span class='fl'>1</span>
  <span class='op'>}</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5</code></pre>
</div>
<p>Observe que quando <code>i &lt;- 6</code>, o ciclo entrou na condição <code>if(i &gt; 5)</code> e avaliou a função <code>break</code>, que resultou na quebra do ciclo. Assim, a função <code>print(i)</code> não foi mais acionada, e os resultados foram impressos até o número <code>5</code>. No próximo exemplo, acrescentamos a função <code>next</code>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Contador</span>
<span class='va'>i</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='co'># Loop repeat</span>
<span class='kw'>repeat</span> <span class='op'>{</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>&gt;</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='kw'>break</span>
  <span class='op'>}</span>
  <span class='kw'>else</span> <span class='op'>{</span>
    <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>==</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>{</span>
      <span class='va'>i</span> <span class='op'>&lt;-</span> <span class='va'>i</span> <span class='op'>+</span> <span class='fl'>1</span>
      <span class='kw'>next</span>
    <span class='op'>}</span>
    <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
    <span class='va'>i</span> <span class='op'>&lt;-</span> <span class='va'>i</span> <span class='op'>+</span> <span class='fl'>1</span>
    <span class='op'>}</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] 1
[1] 2
[1] 4
[1] 5</code></pre>
</div>
<p>Similar a essa função, temos <code>while()</code>, que agora, temos uma condição de parada, cuja sintaxe é:</p>
<pre><code>while (condição) {
   expressão ...
}</code></pre>
<p>Nessa função, também podemos usar as funções <code>break</code> e <code>next</code>, como usados na função <code>repeat</code>. Vejamos um exemplo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Contador</span>
<span class='va'>i</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='co'># Loop while</span>
<span class='kw'>while</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>&lt;=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
  <span class='va'>i</span> <span class='op'>&lt;-</span> <span class='va'>i</span> <span class='op'>+</span> <span class='fl'>1</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5</code></pre>
</div>
<p>Nesse caso, não foi necessário utilizar a função <code>break</code>, devido a condição que ela permite impor ao ciclo. Vejamos um outro exemplo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Contador</span>
<span class='va'>i</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='co'># Loop while</span>
<span class='kw'>while</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>&lt;=</span> <span class='fl'>5</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>==</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='va'>i</span> <span class='op'>&lt;-</span> <span class='va'>i</span> <span class='op'>+</span> <span class='fl'>1</span>
    <span class='kw'>next</span>
  <span class='op'>}</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
  <span class='va'>i</span> <span class='op'>&lt;-</span> <span class='va'>i</span> <span class='op'>+</span> <span class='fl'>1</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] 1
[1] 2
[1] 4
[1] 5</code></pre>
</div>
<p>Observamos a utilização da função <code>next</code>, similar ao que foi realizado com a função <code>repeat</code>. Por fim, a função <code>for()</code>, cuja sintaxe é dada por:</p>
<pre><code>for (contador in lista) {
   expressão ...
}</code></pre>
<p>Com essa função, também podemos utilizar <code>break</code> e <code>next</code>. Porém, o controle do ciclo nessa sitação é maior, e menos necessário essas funções. Vejamos um primeiro exemplo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Loop for</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] 1
[1] 2
[1] 3
[1] 4
[1] 5</code></pre>
</div>
<p>Observe que a implementação, dos algoritmos anteriores, é bem mais simples usando a função <code>for()</code>. Vejamos um próximo exemplo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Loop for</span>
<span class='kw'>for</span> <span class='op'>(</span><span class='va'>i</span> <span class='kw'>in</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='va'>i</span> <span class='op'>==</span> <span class='fl'>3</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='kw'>next</span>
  <span class='op'>}</span>
  <span class='fu'><a href='https://rdrr.io/r/base/print.html'>print</a></span><span class='op'>(</span><span class='va'>i</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
<pre><code>[1] 1
[1] 2
[1] 4
[1] 5</code></pre>
</div>
<p>Mais uma vez, foi utilizado a função <code>next</code>, sem necessidade agora, de atualizar o contador <code>i</code>, uma vez que já está definido na função <code>for()</code>.</p>
<p>Veremos na próxima subseção, que temos funções de alto nível que podem substituir as funções <em>loops</em>. São as chamadas funções da família <em>apply</em>.</p>
<h2 id="criar-funcoes">Como criar funções</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/80J0_r-QZIg" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Até esse momento, usamos funções já desenvolvidas no <a href="http://r-project.org/" target="_blank">R</a>, seja dos pacotes da Base, seja via instalação dos pacotes via <a href="http://cran.r-project.org/" target="_blank">CRAN</a>. Agora, iremos desenvolver as nossas próprias funções.</p>
<p>Como falado anteriormente, no <a href="#funcoes">início dessa seção</a>, a estrutura da função criada se mantém, argumento, corpo e ambiente. Para isso, usaremos a função <code>function</code>. O modo desse objeto é <code>closure</code><a href="#fn22" class="footnote-ref" id="fnref22" role="doc-noteref"><sup>22</sup></a>. Vejamos a sua sintaxe,</p>
<pre><code># Forma usual
nome_funcao &lt;- function(arg1, arg2, ...) {
   corpo: comandos..
}
# Forma simplificada
nome_funcao &lt;- function(arg1, arg2, ...) corpo</code></pre>
<p>Vejamos um primeiro exemplo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>fun1</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='va'>x</span> <span class='op'>+</span> <span class='fl'>1</span>
  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span>
<span class='op'>}</span>
</code></pre>
</div>
</div>
<p>Nesse caso, temos uma função chamada <code>fun1</code>, cujo argumento de entrada é <code>x</code>. Observe que uma função é como um objeto do tipo vetor, associamos um nome ao objeto da mesma forma. O corpo apresenta uma delimitação por chaves <code>{...}</code>, em que apresenta um comando de atribuição <code>res</code> que se associa a soma <code>x + 1</code>, e por fim, o resultado dessa função, imprime <code>res</code>, por meio da função <code>return()</code>. Para utilizar essa função, fazemos</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>fun1</span><span class='op'>(</span>x <span class='op'>=</span> <span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 6</code></pre>
</div>
<p>O que aconteceu foi que ao assumir <code>x = 5</code>, essa informação foi repassada para o corpo da função, aonde existia <code>x</code>, foi substituído por <code>5</code>, para esse caso. A função <code>+</code> é chamada, a expressão <code>x + 1</code> avaliada, e nome res se associa ao resultado da expressão. Por fim, quando a função <code>fun1</code> é chamada, o resultado de <code>res</code> é impresso no console, por meio de <code>return(res)</code>. Vamos verificar os três componentes da função <code>fun1</code>,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Argumentos</span>
<span class='fu'><a href='https://rdrr.io/r/base/formals.html'>formals</a></span><span class='op'>(</span><span class='va'>fun1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$x</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Corpo</span>
<span class='fu'><a href='https://rdrr.io/r/base/body.html'>body</a></span><span class='op'>(</span><span class='va'>fun1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>{
    res &lt;- x + 1
    return(res)
}</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Ambiente</span>
<span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='va'>fun1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>&lt;environment: R_GlobalEnv&gt;</code></pre>
</div>
<p>O corpo da função é executado de forma sequencial, a partir da primeira linha até a última. Apesar de recomendado, também não é obrigatório o uso da função <code>return()</code>, veja</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Funcao</span>
<span class='va'>fun2</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='va'>x</span> <span class='op'>+</span> <span class='fl'>1</span>
<span class='co'># Executando</span>
<span class='fu'>fun2</span><span class='op'>(</span><span class='fl'>5</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 6</code></pre>
</div>
<h3 id="função-anônima">Função anônima</h3>
<p>Podemos também ter o que chamamos de <strong>função anônima</strong>, da qual não associamos nome as funções. Contudo, sendo criada esta não pode ser recuperada como qualquer outro objeto. Essa forma é interessante quando não precisamos dela após o seu uso. Por exemplo, queremos calcular a integral, <span class="math display">\[
\int^{1}_{0}x^2dx = \frac{1}{3},
\]</span></p>
<p>e criamos uma função <span class="math inline">\(x^2\)</span>. Então,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/stats/integrate.html'>integrate</a></span><span class='op'>(</span>f <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='va'>x</span><span class='op'>^</span><span class='fl'>2</span>,
          lower <span class='op'>=</span> <span class='fl'>0</span>,
          upper <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>0.3333333 with absolute error &lt; 3.7e-15</code></pre>
</div>
<p>A função <code>integrate</code> é utilizada para o cálculo de integral, do qual, passamos os argumentos, função (<code>f</code>), limite inferior (<code>lower</code>) e limite superior (<code>upper</code>) da integração, respectivamente. Observe que não houve necessidade de nomear a função no argumento, pois não há objetivo de reutilizado.</p>
<h3 id="chamadas-de-função">Chamadas de função</h3>
<p>As chamadas para essas funções ocorrem da mesma forma que as funções apresentadas da Base do <a href="http://r-project.org/" target="_blank">R</a>. Vejamos o cálculo do desvio padrão novamente,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Funcao auxiliar 1</span>
<span class='va'>aux1</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='va'>x</span> <span class='op'>-</span> <span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='co'># Funcao auxiliar 2</span>
<span class='va'>aux2</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='va'>x</span><span class='op'>^</span><span class='fl'>2</span>
<span class='co'># Funcao auxiliar 3</span>
<span class='va'>aux3</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/base/sum.html'>sum</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>/</span> <span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span> <span class='op'>-</span> <span class='fl'>1</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># Gerando 100 numeros aleatorios de uma distribuicao normal</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>100</span><span class='op'>)</span>

<span class='co'># Calculo do desvio padrao (aninhado)</span>
<span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='fu'>aux3</span><span class='op'>(</span><span class='fu'>aux2</span><span class='op'>(</span><span class='fu'>aux1</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.9412359</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Calculo do desvio padrao (intemediario)</span>
<span class='va'>dp</span> <span class='op'>&lt;-</span> <span class='fu'>aux1</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>
<span class='va'>dp</span> <span class='op'>&lt;-</span> <span class='fu'>aux2</span><span class='op'>(</span><span class='va'>dp</span><span class='op'>)</span>
<span class='va'>dp</span> <span class='op'>&lt;-</span> <span class='fu'>aux3</span><span class='op'>(</span><span class='va'>dp</span><span class='op'>)</span>
<span class='va'>dp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='va'>dp</span><span class='op'>)</span>
<span class='va'>dp</span>
</code></pre>
</div>
<pre><code>[1] 0.9412359</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Calculo do desvio padrao (pipe)</span>
<span class='va'>x</span> <span class='op'>%&gt;%</span>
  <span class='fu'>aux1</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>aux2</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'>aux3</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>%&gt;%</span>
  <span class='fu'><a href='https://rdrr.io/r/base/MathFun.html'>sqrt</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.9412359</code></pre>
</div>
<h3 id="ordenação-de-argumentos">Ordenação de argumentos</h3>
<p>Os argumentos nas funções podem ser nomeados ou não. Quando nomeados, a ordem como são inseridos na função não importa. Já os argumentos não nomeados, seus valores precisam estar na ordem como a função foi desenvolvida. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>estdesc</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>opcao</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='kw'><a href='https://rdrr.io/r/base/switch.html'>switch</a></span><span class='op'>(</span><span class='va'>opcao</span>,
           media <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='fl'>4</span><span class='op'>)</span>,
           mediana <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>, <span class='fl'>4</span><span class='op'>)</span>,
           medapar <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/Round.html'>round</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/mean.html'>mean</a></span><span class='op'>(</span><span class='va'>x</span>, trim <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span>, <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>
  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span>
<span class='op'>}</span>

<span class='co'># Objeto</span>
<span class='fu'><a href='https://rdrr.io/r/base/Random.html'>set.seed</a></span><span class='op'>(</span><span class='fl'>15</span><span class='op'>)</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>1000</span><span class='op'>)</span>

<span class='co'># Argumentos nomeados na funcao</span>
<span class='fu'>estdesc</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, opcao <span class='op'>=</span> <span class='st'>"media"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.037</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>estdesc</span><span class='op'>(</span>opcao <span class='op'>=</span> <span class='st'>"media"</span>, x <span class='op'>=</span> <span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.037</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Argumentos não nomeados ordenados</span>
<span class='fu'>estdesc</span><span class='op'>(</span><span class='va'>x</span>, <span class='st'>"media"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.037</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Argumentos não ordenados (Gera erro)</span>
<span class='fu'>estdesc</span><span class='op'>(</span><span class='st'>"media"</span>, <span class='va'>x</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Error in switch(opcao, media = round(mean(x), 4), mediana = round(mean(x), : EXPR deve ser um vetor de comprimento 1</code></pre>
</div>
<h3 id="objeto-reticências-...">Objeto reticências (<code>...</code>)</h3>
<p>O objeto reticências é do tipo <em>pairlist</em>, um tipo de objeto usado bastante internamente no <a href="http://r-project.org/" target="_blank">R</a>, e dificilmente utilizado no código interpretado. De modo que não temos acesso direto ao objeto <code>...</code>. Contudo, esse objeto tem um papel fundamental nas funções, quando damos a liberdade de inserir mais argumentos além dos definidos na função. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Funcao que plota um grafico</span>
<span class='va'>grafico</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>y</span>, <span class='va'>...</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='fu'><a href='https://rdrr.io/r/graphics/plot.default.html'>plot</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, <span class='va'>...</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='co'># Vetores</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>10</span>; <span class='va'>y</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/Normal.html'>rnorm</a></span><span class='op'>(</span><span class='fl'>10</span><span class='op'>)</span>
<span class='co'># Chamada 1, com os argumentos definidos</span>
<span class='fu'>grafico</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span><span class='op'>)</span>
</code></pre>
</div>
<img src="nbasico_files/figure-html5/unnamed-chunk-90-1.png" width="624" />
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Chamada 2, inserindo argumentos nao definidos</span>
<span class='fu'>grafico</span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, y <span class='op'>=</span> <span class='va'>y</span>, main <span class='op'>=</span> <span class='st'>"Título"</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="nbasico_files/figure-html5/unnamed-chunk-90-2.png" width="624" /></p>
</div>
<p>Isso ocorre, porque temos a função <code>plot()</code> no corpo da função <code>grafico()</code> que apresenta muitos argumentos. Dessa forma, criamos a função <code>grafico()</code>, com os argumentos que representam as coordenadas, mas a reticências (<code>...</code>) garantem que os demais argumentos de <code>plots</code>, omitidos, possam ser utilizados.</p>
<h2 id="esc_lexico">Escopo léxico</h2>
<p>Vamos retornar aos componentes da função <code>fun1</code>,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Argumentos</span>
<span class='fu'><a href='https://rdrr.io/r/base/formals.html'>formals</a></span><span class='op'>(</span><span class='va'>fun1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$x</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Corpo</span>
<span class='fu'><a href='https://rdrr.io/r/base/body.html'>body</a></span><span class='op'>(</span><span class='va'>fun1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>{
    res &lt;- x + 1
    return(res)
}</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Ambiente</span>
<span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='va'>fun1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>&lt;environment: R_GlobalEnv&gt;</code></pre>
</div>
<p>Observe que o último componente é o ambiente onde o nome <code>fun1</code> foi associado a função. Este ambiente é chamado de <strong>ambiente envolvente</strong>. Nesse caso é o ambiente global. Contudo, quando a função é executada, momentaneamente é criado o <strong>ambiente de execução</strong>. É nesse ambiente que os nomes que estão no corpo da função são associados aos objetos. Vejamos um primeiro exemplo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='va'>fun</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>2</span>
  <span class='va'>x</span>
<span class='op'>}</span>
<span class='co'># Chamando a funcao fun</span>
<span class='fu'>fun</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 2</code></pre>
</div>
<p>Por causa do ambiente de execução que o objeto <code>x</code> dentro da função é retornado, ao invés do que foi definido fora da função. Isso porque o ambiente de execução mascara os nomes definidos dentro da função dos nomes definidos fora da função. Esse é uma primeira característica do <strong>escopo léxico</strong> nas funções em <a href="http://r-project.org/" target="_blank">R</a>.</p>
<p>Anteriormente, falamos sobre a <strong>atribuição</strong>, que representa a forma como os nomes se associam aos objetos. Agora, o <strong>escopo</strong> vem a ser a forma como os nomes encontram seus valores associados. O termo <strong>léxico</strong> significa que as funções podem encontrar nomes e seus respectivos valores associados, definidos no ambiente onde a função foi definida, isto é, no ambiente de função. Claro que isso segue regras, e a primeira foi a <strong>máscara de nome</strong> falada anteriormente.</p>
<p>Porém quando não existe um nome vinculado a um objeto, e este foi definido no ambiente de função, o valor é repassado para o corpo da função. Observe,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='va'>fun</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>x</span>
<span class='op'>}</span>
<span class='co'># Chamando a funcao fun</span>
<span class='fu'>fun</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 10</code></pre>
</div>
<p>O resultado de <code>fun()</code> foi <code>10</code>, porque como a função procurou no ambiente de execuções e não encontrou esse nome, a função foi até o ambiente superior, no caso, o ambiente de execuções. Como falado anteriormente, todo ambiente tem um pai (ou ambiente superior). Essa hierarquização é observada no caminho de busca, que pode ser acessado por <code>search()</code>, ou seja,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/search.html'>search</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;.GlobalEnv&quot;        &quot;package:magrittr&quot;  &quot;package:leaflet&quot;  
 [4] &quot;package:stats&quot;     &quot;package:graphics&quot;  &quot;package:grDevices&quot;
 [7] &quot;package:utils&quot;     &quot;package:datasets&quot;  &quot;package:methods&quot;  
[10] &quot;Autoloads&quot;         &quot;package:base&quot;     </code></pre>
</div>
<p>O ambiente corrente do <a href="http://r-project.org/" target="_blank">R</a> sempre será o ambiente ambiente global (<code>.GlobalEnv</code>). O ambiente de execução não aparece, porque ele é momentâneo. Então após buscar no ambiente de execução e não encontrar, é pelo caminho de busca que a função irá procurar pelos objetos inseridos no corpo da função. Ele só existe quando a função é chamada e não quando ela é definida, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Funcao</span>
<span class='va'>fun</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='va'>x</span> <span class='op'>+</span> <span class='fl'>10</span>
<span class='co'># Objeto 1</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>10</span>
<span class='co'># Chamada1</span>
<span class='fu'>fun</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 20</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto 2</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>20</span>
<span class='co'># Chamada 2</span>
<span class='fu'>fun</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 30</code></pre>
</div>
<p>Observe que após ser criada a função <code>fun()</code>, o nome <code>x</code> se associou ao objeto <code>10</code>. Posteriormente, <code>fun()</code> foi chamada e o resultado foi <code>20</code>. Contudo, o nome <code>x</code> se associou a outro objeto <code>20</code>, e após a segunda chamada da função <code>fun()</code>, o resultado foi 30, porque a função procura os valores quando ela é executada, e não quando é criada, é a característica de <strong>pesquisa dinâmica</strong> do escopo léxico.</p>
<p>Uma outra situação é a seguinte,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Objeto</span>
<span class='va'>n</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
<span class='co'># Funcao</span>
<span class='va'>fun</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>n</span> <span class='op'>&lt;-</span> <span class='va'>n</span> <span class='op'>+</span> <span class='fl'>1</span>
  <span class='va'>n</span>
<span class='op'>}</span>
<span class='co'># Chamada 1</span>
<span class='fu'>fun</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 2</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Chamada 2</span>
<span class='fu'>fun</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 2</code></pre>
</div>
<p>Nessas linhas de comando, poderíamos pensar que após ter executado a primeira chamada, que retornou valor <code>2</code>, a segunda chamada retornaria o valor <code>3</code>, como ocorre com as variáveis estáticas na linguagem <em>C</em>. Aqui nesse caso, resultado independente do número de chamadas será sempre o mesmo, porque uma outra característica do escopo léxico no <a href="http://r-project.org/" target="_blank">R</a> é o <strong>novo começo</strong>, porque a cada vez que a função é executada um novo ambiente de execução é criado, e portanto, cada execução dos comandos de atribuição e expressão são executados de forma independentes nas chamadas de funções.</p>
<p>Algo que não havíamos falado anteriormente, é que a função <code>function()</code> permite que não seja definido argumentos, devido a flexibilidade do escopo léxico das funções em <a href="http://r-project.org/" target="_blank">R</a>. É essa característica que faz com que os comandos no corpo das funções encontrem os objetos que não estão definidos na própria função. Mais detalhes, será visto no módulo <a href="#nintermediario.html">Programação em R (Nível Intermediário)</a>.</p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<h1 id="goodcode"><i class="fas fa-file-code"></i> Boas práticas de como escrever um código</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/hn_H1bjmKGY" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Nesse momento, entendemos os principais objetos para escrevermos os nossos <em>scripts</em>. Quando escrevemos um código, duas consequências ocorrem: - guardá-lo para futuras consultas, ou - compartilhamento.</p>
<p>Nesses dois casos, percebemos que alguém irá ler esse código, ou até mesmo o próprio usuário, irá retornar àquelas linhas de código e tentar raciocinar quais as ideias por trás disso tudo. Para um melhor entendimento de seu <em>script</em>, nada mais importante do que uma boa escrita, separação das estruturas por hierarquização, comentários, etc.</p>
<p>Uma primeira ferramenta que pode ser configurada para quem usa o <code>rstudio</code> é acionar todas as opções de diagnóstico do seu código. Para isso no menu:</p>
<ul>
<li><code>Tools &gt; Global options &gt; Code &gt; Editing</code>. Marque todas as opções em <code>General</code>;</li>
<li><code>Tools &gt; Global options &gt; Code &gt; Display</code>, Marque todas as opções;</li>
<li><code>Tools &gt; Global options &gt; Code &gt; Diagnostics</code>. Marque todas as opções em <code>R Diagnostics</code>.</li>
</ul>
<p>Com isso, colorações nas linhas de comando ocorrerão, distinguindo diversas estruturas, como linhas de comentário, funções, espaçamentos, dentre outras coisas.</p>
<p>Uma vez feito isso, vamos para o passo seguinte que são as boas práticas de como se escrever um <em>script</em>. Temos algumas ferramentas prontas, como o pacote <a href="https://styler.r-lib.org">styler</a> e como alternativa o <a href="https://yihui.org/formatr">formatR</a>, que automatiza todo o nosso código seja em <em>script</em>, contido em um pacote, ou diretório. Acesse <a href="https://yihui.org/formatr" class="uri">https://yihui.org/formatr</a>, para mais detalhes. Para instalar e anexar o pacote <a href="https://styler.r-lib.org">styler</a>, use as linhas de comando:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Instalando pacote</span>
<span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='va'>styler</span><span class='op'>)</span>
<span class='co'># Carregando e anexando</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://github.com/r-lib/styler'>styler</a></span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Vejamos a seguinte ilustração, para entendermos a funcionabilidade desse pacote .</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:stylecode"></span>
<img src="images/stylecode.gif" alt="Estilo de código com o pacote [styler](https://styler.r-lib.org)." width="80%" />
<p class="caption">
Figure 17: Estilo de código com o pacote <a href="https://styler.r-lib.org">styler</a>.
</p>
</div>
</div>
<p>Pela Figura <a href="#fig:stylecode">17</a>, percebemos que inicialmente, a leitura do código sem nenhum padrão de hierarquização, de funções dentro de funções, torna mais difícil a leitura quando não seguimos algumas regras básicas de espaçamentos iniciais nas linhas de comando. Ao passo que, após aplicar a função <code>styler:::style_active_file()</code>, conseguimos distinguir quais as funções que estão dentro de outras, bem como as suas expressões.</p>
<h2 id="nomes-de-arquivos">Nomes de arquivos</h2>
<p>Apesar de toda essa facilidade, vamos apresentar algumas ideias. A primeira noção é o nome do arquivo. Padronizem a extensão <code>.R</code> e evitem espaços em nomes compostos,</p>
<pre><code>Boa escolha:
-----------
script.R
nome_composto.R
nome-composto.R

Má escolha:
-----------
script.r
nome composto.r</code></pre>
<h2 id="comentar-as-linhas-de-comando">Comentar as linhas de comando</h2>
<p>Sempre que escrever uma linha de comando ou uma sequência de linhas de comando para um mesmo fim, comente sobre a ideia que esse fragmento de código quer repassar, usando <code>#</code>. Evitem acentos e símbolos especiais, porque os novos acessos ao <em>script</em>, dependendo da codificação que o RStudio esteja utilizando ou o seu sistema operacional, pode desconfigurar todo o arquivo.</p>
<pre><code>Boa escolha:
-----------
# Objeto x
x &lt;- 1:10
# Calculo da media
mean(x)

Má escolha:
-----------
x &lt;- 1:10
mean(x)</code></pre>
<h2 id="nomes-de-objetos">Nomes de objetos</h2>
<p>Levem em consideração que nomes de objetos é uma forma de acessarmos os objetos no <a href="http://r-project.org/" target="_blank">R</a>, e não os nomes das variáveis que serão utilizados em nossos relatórios para escrever sobre um problema real. Portanto, a escolha desses nomes devem ser mais simples, curtos, sem acentos ou símbolos não ASCII, e de preferência apenas letras minúsculas.</p>
<pre><code>Boa escolha:
-----------
nome_curto
aux1

Má escolha:
-----------
nome_muito_grande
Nome_Grande
Aux1</code></pre>
<p>Sempre que possível evite nomes já utilizados no <a href="http://r-project.org/" target="_blank">R</a>, para outros fins,</p>
<pre><code>Má escolha:
-----------
T &lt;- &quot;Nada&quot;
c &lt;- 5
sd &lt;- 5 + 1
mean &lt;- 3 * 4</code></pre>
<p>Para verificar se determinado nome já existe, use a função <code>exists()</code>, isto é, <code>exists("mean")</code>. Se a função retornar <code>TRUE</code>, significa que já existe esse nome, caso contrário, <code>FALSE</code>.</p>
<h2 id="sintaxe">Sintaxe</h2>
<p>Um dos erros mais comuns na sintaxe de um código é o <strong>espaçamento</strong> entre os operadores básicos na linguagem <a href="http://r-project.org/" target="_blank">R</a>, exceto para os operadores <code>:</code>, <code>::</code> e <code>:::</code>. Use sempre um espaço após a vírgula.</p>
<pre><code>Boa escolha:
-----------
x &lt;- 1:10
media &lt;- mean(x + 1 / length(x), na.rm = TRUE)
base::mean(x)

Má escolha:
-----------
x &lt;- 1 : 10
media&lt;-mean(x+1/length(x),na.rm=TRUE)
base :: mean(x)</code></pre>
<p>Para facilitar pode ser utilizado a função <code>styler::style_text()</code>, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>comando</span> <span class='op'>&lt;-</span> <span class='st'>"media&lt;-mean(x+1/length(x),na.rm=TRUE)"</span>
<span class='fu'>styler</span><span class='fu'>::</span><span class='fu'><a href='https://styler.r-lib.org/reference/style_text.html'>style_text</a></span><span class='op'>(</span><span class='va'>comando</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>media &lt;- mean(x + 1 / length(x), na.rm = TRUE)</code></pre>
</div>
<p>Se necessário use mais de um espaço em uma linha para o alinhamento para <code>&lt;-</code> ou <code>=</code>, bem como um espaço antes do parêntese, a menos que seja uma função,</p>
<pre><code>Boa escolha:
-----------
data.frame(a = 1,
           b = &quot;Ben&quot;)

function(){
  x    &lt;- 10
  vari &lt;- x + 1
  return(vari)
}

for (i in 1:10) i + 1

Má escolha:
-----------
function () 1
for(i in 1:10) i + 1</code></pre>
<p>Não insira espaços na condição entre parêntese ou nos itens de indexação, a menos que este último contenha uma vírgula,</p>
<pre><code>Boa escolha:
-----------
if (verbose)
x11 &lt;- mat[1, 1]
x1  &lt;- mat[1, ]

Má escolha:
-----------
if ( verbose )
x11 &lt;- mat[1,1]
x1  &lt;- mat[1,]</code></pre>
<p>Quando usamos chaves em um comando, devemos evitar abri-lo e fechá-lo na mesma linha. E ainda, quando é função, as linhas de comando inseridas dentro das chaves, inserimos um recuo de dois espaços para entendermos a hierarquização das funções, isto é, função dentro de função. Veja,</p>
<pre><code>Boa escolha:
-----------
fx &lt;- function(x) {
  if (x &gt; 2) {
    print(&quot;Maior que 2!&quot;)
  } else {
    print(&quot;Menor que 2!&quot;)
  }
}

for (i in 1:10) {
  x &lt;- i + 1
}

Má escolha:
-----------
fx &lt;- function(x) {
if (x &gt; 2) {
print(&quot;Maior que 2!&quot;)
} else {
print(&quot;Menor que 2!&quot;)
}
}

for (i in 1:10) {x &lt;- i + 1}</code></pre>
<p>Observe também que sempre quando iniciamos a abertura de uma chave, damos um espaço para separar do fechamento do parêntese, sempre quando usamos em uma função. Por fim, sempre use a atribuição com <code>&lt;-</code>, e <code>=</code> para definir os argumentos de uma função,</p>
<pre><code>Boa escolha:
-----------
fx &lt;- function(x = NULL) 10
a  &lt;- &quot;Nome&quot;

Má escolha:
-----------
fx = function(x = NULL) 10
a = &quot;Nome&quot;</code></pre>
<p>Para códigos mais complexos, use o pacote <a href="https://styler.r-lib.org">styler</a> e como alternativa o <a href="https://yihui.org/formatr">formatR</a>, pois muito mais recursos podem ser utilizados. Para consultas, acesse também <span class="citation" data-cites="hadley2015"><a href="#ref-hadley2015" role="doc-biblioref">Wickham</a> (<a href="#ref-hadley2015" role="doc-biblioref">2015</a>)</span>, mais específico, <a href="https://r-pkgs.org/r.html#code-style">Estilo de código</a>, e ainda <a href="http://adv-r.had.co.nz/Style.html">Advanced R, 1ed, Style guide</a>, <a href="https://style.tidyverse.org/">The tidyverse style guide</a> e <a href="https://google.github.io/styleguide/Rguide.html">Google’s R Style Guide</a>.</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<h1 id="pacotes"><i class="fas fa-cubes"></i> Pacotes</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ImIj8iBo6CQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>O pacote em <a href="http://r-project.org/" target="_blank">R</a> é um diretório de arquivos necessários para carregar um código de funções, dados, documentações de ajuda, testes, etc. O próprio <a href="http://r-project.org/" target="_blank">R</a> em sua instalação, contém 30 pacotes, que dizemos que são as funções mínimas para a utilização da linguagem. Nesse diretório não há apenas códigos em <a href="http://r-project.org/" target="_blank">R</a>, mas um pacote fonte (do inglês, <em>source package</em>), contendo os arquivos mencionados acima, ou um arquivo compactado, de extensão <em>.tar.gz</em> do pacote fonte, ou um pacote instalado, resultado da função <code>R CMD INSTALL</code>, que será visto no módulo <a href="navancado.html">Programação em R (Nível Avançado)</a>. Isso acontece no SO <em>Linux</em>. Para as plataformas <em>Windows</em> e <em>Macintosh</em>, existem também os pacotes binários ou compactados com a extensão <em>.zip</em> ou <em>.tar.gz</em>.</p>
<p>Um pacote, portanto é a unidade básica para o compartilhamento de um código. Atualmente, até 11/03/2021, <a href="https://cran.r-project.org/web/packages/" target="_blank">o número de pacotes disponíveis é 17.295</a>, e isso no <a href="http://cran.r-project.org/" target="_blank">CRAN</a>, isto é, na <em>Comprehenive R Archive Network</em>, o repositório oficial de pacotes no <a href="http://r-project.org/" target="_blank">R</a>. Qualquer usuário pode publicar um pacote e disponibilizá-lo sob o <a href="http://cran.r-project.org/" target="_blank">CRAN</a>. Para isso, uma série de testes iniciais são realizados para verificar se não há problemas. Significa também se um pacote está disponível no <a href="http://cran.r-project.org/" target="_blank">CRAN</a> ele funcionará nas três plataformas mais usadas em sistema operacional, <em>SO Linux</em> ou sitemas <em>Unix</em>, <em>SO Windows</em> e <em>SO Macintosh</em>. Há outros repositórios que podem ser disponibilizados os pacotes, como por exemplo, no <a href="http://github.com/" target="_blank">GitHub</a>. Porém, não há a garantia de que possa estar funcionando corretamento em seu sistema operacional, como os pacotes disponíveis no <a href="http://cran.r-project.org/" target="_blank">CRAN</a>.</p>
<p>Para uma instalação mais rápida no <a href="http://cran.r-project.org/" target="_blank">CRAN</a>, há <a href="https://cran.r-project.org/mirrors.html" target="_blank">espelhos disponíveis</a> no Brasil, do qual o primeiro foi desenvolvido e está funcionando até hoje na UFPR.</p>
<p>Contudo, uma coisa deve ficar claro, que erroneamente, alguns usuários chamam pacote de biblioteca. Nas documentações do <a href="http://r-project.org/" target="_blank">R</a>, biblioteca é o diretório onde os pacotes são instalados, também chamados de diretório de biblioteca ou diretório de arvores. O outro sentido de biblioteca é o de biblioteca compartilhada (dinâmica ou estática), que armazenam código compilado que se vinculam aos pacotes, por exemplo, no Windows são as DLLs.</p>
<p>A estrutura básica de um pacote é apresentada na Figura <a href="#fig:esqpack">18</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:esqpack"></span>
<img src="images/esqueleto.png" alt="Esqueleto básico de um pacote." width="232" />
<p class="caption">
Figure 18: Esqueleto básico de um pacote.
</p>
</div>
</div>
<p>Vejamos as ideias básicas desses subdiretórios e arquivos,</p>
<ul>
<li><strong>DESCRIPTION</strong>: Esse é um arquivo de texto, contendo informações básicas como o título do pacote, versão, licença, descrição, nome dos autores, e o mantenedor do pacote, isto é, para quando um pacote estiver com problema ou o <a href="http://cran.r-project.org/" target="_blank">CRAN</a> entre em contato, será para este último. Esses as informações obrigatórias que devem ter nesse arquivo.</li>
<li><strong>NAMESPACE</strong>: Esse arquivo embora tenha tenha muita semelhança com a linguagem <a href="http://r-project.org/" target="_blank">R</a>, o seu conteúdo, se destina a importação e exportação de funções no pacote. Será nesse arquivo, que diremos quais os pacotes que ele depende, isto é, as funções, e quais as funções exportadas, visíveis, que devem ser apresentadas aos usuários.</li>
<li><strong>R/</strong>: Esse subdiretório apresenta os <em>scripts</em> com as funções em <a href="http://r-project.org/" target="_blank">R</a>. é o cérebro do pacote.</li>
<li><strong>man/</strong>: Esse subdiretório apresenta os arquivos de ajuda, com extensão <em>.Rd</em>. Isso significa, que uma vez instalado o pacote no <a href="http://r-project.org/" target="_blank">R</a>, o acesso aos manuais de ajuda do referido pacote, estarão disponíveis, graças a esses arquivos.</li>
</ul>
<h2 id="instpac">Instalação de um pacote</h2>
<p>A instalação de um pacote via <a href="http://cran.r-project.org/" target="_blank">CRAN</a> pode ser feito pela função <code>install.packages(pkgs = "nome_pacote")</code>. Por exemplo, vamos tentar instalar o pacote <a href="https://cran.r-project.org/package=midrangeMCP">midrangeMCP</a>, da seguinte forma:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"midrangeMCP"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Pode ser que nesse processo, dependendo de onde o usuário esteja executando essa linha de comando, interface do <a href="http://r-project.org/" target="_blank">R</a> ou <a href="http://rstudio.org/" target="_blank">RStudio</a>, que seja solicitado o espelho por onde deseja fazer a instalação. Isso é apenas um atalho para ter um acesso mais rápido na instalação do pacote. A sugestão é escolher um espelho de seu país de origem.</p>
<p>Uma forma simples de se ter detalhes do pacote na internet, tais como, baixar o pacote fonte ou o pacote binário do <a href="https://bendeivide.github.io/midrangeMCP/">midrangeMCP</a>, por exemplo, é sempre usar essa url: <a href="http://cran.r-project.org/package=midrangeMCP" class="uri">http://cran.r-project.org/package=midrangeMCP</a>. Para qualquer outro pacote, basta mudar o nome do pacote na url, e assim, estaremos na página do repositório do pacote. O pacote fonte, como falado anteriormente, é compactado com extensão <code>.tar.gz</code>, no caso, <a href="https://cran.r-project.org/src/contrib/midrangeMCP_3.1.1.tar.gz">midrangeMCP_3.1.1.tar.gz</a>. O pacote binário tem a compactação zipada, <a href="https://cran.r-project.org/bin/windows/contrib/4.1/midrangeMCP_3.1.1.zip">midrangeMCP_3.1.1.tar.zip</a> para o Windows e <a href="https://cran.r-project.org/bin/macosx/contrib/4.0/midrangeMCP_3.1.1.tgz">midrangeMCP_3.1.1.tgz</a> para o Macintosh. O acesso aos arquivos do pacote mencionados no esqueleto são disponíveis no pacote fonte.</p>
<p>Uma outra forma possível de instalação é baixar o arquivo do pacote fonte para o seu computador e instalá-lo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span>pkgs <span class='op'>=</span> <span class='st'>"./midrangeMCP.tar.gz"</span>, repos <span class='op'>=</span> <span class='cn'>NULL</span>, type <span class='op'>=</span> <span class='st'>"source"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Consideramos que o arquivo do pacote esteja no diretório de trabalho do usuário. Caso contrário, deve ser informado o local onde pacote se encontra no computador. Para o Window ou Macintosh, é possível instalar também, a partir dos pacotes binários.</p>
<p>Muitos dos desenvolvedores, estão disponibilizando seus projetos de pacotes, principalmente no <a href="http://github.com/" target="_blank">GitHub</a>, inclusive com manuals de ajuda com maiores detalhes. Pode ser possível instalar esses pacotes por esse repositório. Precisamos inicialmente do pacote <a href="https://devtools.r-lib.org/">devtools</a>, e posteriormente a instalação do pacote. Segue,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='st'>"devtools"</span><span class='op'>)</span>
<span class='fu'>install_github</span><span class='op'>(</span><span class='st'>"bendeivide/midrangeMCP"</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Contudo, devemos dar a preferência pela instalação via <a href="http://cran.r-project.org/" target="_blank">CRAN</a>. Por lá, teremos a garantia que os pacotes estão estáveis para a utilização nas referidas plataformas mencionadas acima.</p>
<p>Alguns pacotes, por falta de manutenção, seja por atualizações do <a href="http://r-project.org/" target="_blank">R</a> ou por qualquer outro motivo, podem se tornar incompatíveis para utilização sobre alguns dos três sistemas operacionais básicos (SO Windows, Unix e SO Mac) exigidos pelo <a href="http://r-project.org/" target="_blank">R</a>. Dessa forma, se as correções não forem feitas, estes pacotes e tornam órfãos, ou seja, desativados sob o <a href="http://cran.r-project.org/" target="_blank">CRAN</a>. O primeiros pacotes sob o <a href="http://cran.r-project.org/" target="_blank">CRAN</a>, por exemplo, não tinham o arquivo <em>NAMESPACE</em>, que hoje é exigido. Qualquer tentativa de instalação desses pacotes nessas situações, não serão bem sucedidas. Dessa forma, fizemos uma vídeo-aula, como tentativa de recuperar os pacotes desativados. Porém, deixemos claro que nem sempre é possível a instalação de pacotes desativados.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/FKItT65gphM" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<h2 id="objpac">Objetivos de um pacote</h2>
<p>A ideia de um pacote para um usuário <a href="http://r-project.org/" target="_blank">R</a> deve representar como uma ferramenta para otimizar suas atividades do dia-a-dia na utilização da linguagem. Suponha que o usuário seja um cientista de dados, e todos os dias ele carrega uma sequência de <em>scripts</em>, via <code>source</code>, para disponibilizar suas funções no ambiente global. Isso acaba gerando processos repetitivos de trabalho desnecessários.</p>
<p>Ao invés, o cientista de dados pode desenvolver um pacote, e esse pacote conter todas as funções necessárias para as suas análises. De uma vez, o pacote instalado e anexado no caminho de busca, todas as suas funções estarão disponíveis para utilização. Portanto, o entendimento disso, permite uma maior eficiência de trabalho.</p>
<p>Outro ponto é que a experiência contida em um pacote pode ser propagada mais facilmente para outros usuários, mostrando que o conhecimento é uma liberdade necessária. Tanto pelo <a href="http://cran.r-project.org/" target="_blank">CRAN</a>, quanto por outras plataformas, o pacote pode ser disponibilizado.</p>
<h2 id="funcpac">Utilizar as funções de um pacote</h2>
<p>Uma vez instalado o pacote, precisamos carregar e anexá-lo, para que possamos utilizar os recursos disponíveis no pacote, como funções, dados, etc. Isso significa, disponibilizar na memória e inseri-lo no caminho de busca, respectivamente. Para fazer essas duas ações ao mesmo tempo, use a função <code>library()</code> ou <code>require()</code>. A primeira função se for utilizada sem argumento algum, retorna todos os pacotes instalados na bibioteca de pacotes do <a href="http://r-project.org/" target="_blank">R</a>. Vejamos o exemplo do pacote <a href="https://bendeivide.github.io/midrangeMCP/">midrangeMCP</a>,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Carregando e anexando o pacote midrangeMCP</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://bendeivide.github.io/midrangeMCP/'>midrangeMCP</a></span><span class='op'>)</span>

<span class='co'># Usando a função MRtest() desse pacote</span>
<span class='co'>#-----</span>
<span class='co'># Dados simulados de um experimento em DIC (Delineamento Inteiramente Casualizado)</span>

<span class='co'># Variavel resposta</span>
<span class='va'>rv</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>100.08</span>, <span class='fl'>105.66</span>, <span class='fl'>97.64</span>, <span class='fl'>100.11</span>, <span class='fl'>102.60</span>, <span class='fl'>121.29</span>, <span class='fl'>100.80</span>,
        <span class='fl'>99.11</span>, <span class='fl'>104.43</span>, <span class='fl'>122.18</span>, <span class='fl'>119.49</span>, <span class='fl'>124.37</span>, <span class='fl'>123.19</span>, <span class='fl'>134.16</span>,
        <span class='fl'>125.67</span>, <span class='fl'>128.88</span>, <span class='fl'>148.07</span>, <span class='fl'>134.27</span>, <span class='fl'>151.53</span>, <span class='fl'>127.31</span><span class='op'>)</span>

<span class='co'># Tratamento</span>
<span class='va'>treat</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/factor.html'>factor</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='va'>LETTERS</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>5</span><span class='op'>]</span>, each <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Anava</span>
<span class='va'>res</span>     <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/stats/anova.html'>anova</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/stats/aov.html'>aov</a></span><span class='op'>(</span><span class='va'>rv</span><span class='op'>~</span><span class='va'>treat</span><span class='op'>)</span><span class='op'>)</span>
<span class='va'>DFerror</span> <span class='op'>&lt;-</span> <span class='va'>res</span><span class='op'>$</span><span class='va'>Df</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span>
<span class='va'>MSerror</span> <span class='op'>&lt;-</span> <span class='va'>res</span><span class='op'>$</span><span class='va'>`Mean Sq`</span><span class='op'>[</span><span class='fl'>2</span><span class='op'>]</span>

<span class='co'># Aplicando testes</span>
<span class='va'>results</span> <span class='op'>&lt;-</span> <span class='fu'>midrangeMCP</span><span class='fu'>::</span><span class='fu'><a href='https://bendeivide.github.io/midrangeMCP//reference/MRtest.html'>MRtest</a></span><span class='op'>(</span>y <span class='op'>=</span> <span class='va'>rv</span>,
                  trt <span class='op'>=</span> <span class='va'>treat</span>,
                  dferror <span class='op'>=</span> <span class='va'>DFerror</span>,
                  mserror <span class='op'>=</span> <span class='va'>MSerror</span>,
                  alpha <span class='op'>=</span> <span class='fl'>0.05</span>,
                  main <span class='op'>=</span> <span class='st'>"PCMs"</span>,
                  MCP <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"all"</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>MCP&#39;s based on distributions of the studentized midrange and range

Study:  PCMs 

Summary:
   Means   std r    Min    Max
A 100.87  3.40 4  97.64 105.66
B 105.95 10.33 4  99.11 121.29
C 117.62  9.02 4 104.43 124.37
D 127.97  4.74 4 123.19 134.16
E 140.30 11.42 4 127.31 151.53

 Mean Grouping Midrange Test

Statistics: 
  Exp.Mean      CV  MSerror Df n Stud.Midrange Ext.DMS  Int.DMS
   118.542 7.08182 70.47488 15 5      1.089968 5.90246 4.575105

Groups: 
   Means Groups
E 140.30     g1
D 127.97     g2
C 117.62     g3
B 105.95     g4
A 100.87     g4

Mean Grouping Range Test

Statistics: 
  Exp.Mean      CV  MSerror Df n Stud.Range      DMS
   118.542 7.08182 70.47488 15 5   4.366985 18.33027

Groups: 
   Means Groups
E 140.30     g1
D 127.97     g2
C 117.62     g2
B 105.95     g3
A 100.87     g3

SNK Midrange Test

Statistics: 
      Exp.Mean     CV MSerror Df n Stud.Midrange    DMS
comp1  118.542 7.0818 70.4749 15 5        1.0900 5.9025
comp2  118.542 7.0818 70.4749 15 4        1.1646 6.2159
comp3  118.542 7.0818 70.4749 15 3        1.2828 6.7121
comp4  118.542 7.0818 70.4749 15 2        1.5072 7.6536

Groups: 
   Means Groups
E 140.30     g1
D 127.97     g1
C 117.62   g1g2
B 105.95   g1g2
A 100.87     g2

Tukey Midrange Test

Statistics: 
  Exp.Mean      CV  MSerror Df n Stud.Midrange Ext.DMS  Int.DMS
   118.542 7.08182 70.47488 15 5      1.089968 5.90246 4.575105

Groups: 
   Means Groups
E 140.30     g1
D 127.97     g2
C 117.62     g3
B 105.95     g4
A 100.87     g4</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<pre><code>MCP&#39;s based on distributions of the studentized midrange and range

Study:  PCMs 

Summary:
   Means   std r    Min    Max
A 100.87  3.40 4  97.64 105.66
B 105.95 10.33 4  99.11 121.29
C 117.62  9.02 4 104.43 124.37
D 127.97  4.74 4 123.19 134.16
E 140.30 11.42 4 127.31 151.53

 Mean Grouping Midrange Test

Statistics: 
  Exp.Mean      CV  MSerror Df n Stud.Midrange Ext.DMS  Int.DMS
   118.542 7.08182 70.47488 15 5      1.089968 5.90246 4.575105

Groups: 
   Means Groups
E 140.30     g1
D 127.97     g2
C 117.62     g3
B 105.95     g4
A 100.87     g4

Mean Grouping Range Test

Statistics: 
  Exp.Mean      CV  MSerror Df n Stud.Range      DMS
   118.542 7.08182 70.47488 15 5   4.366985 18.33027

Groups: 
   Means Groups
E 140.30     g1
D 127.97     g2
C 117.62     g2
B 105.95     g3
A 100.87     g3

SNK Midrange Test

Statistics: 
      Exp.Mean     CV MSerror Df n Stud.Midrange    DMS
comp1  118.542 7.0818 70.4749 15 5        1.0900 5.9025
comp2  118.542 7.0818 70.4749 15 4        1.1646 6.2159
comp3  118.542 7.0818 70.4749 15 3        1.2828 6.7121
comp4  118.542 7.0818 70.4749 15 2        1.5072 7.6536

Groups: 
   Means Groups
E 140.30     g1
D 127.97     g1
C 117.62   g1g2
B 105.95   g1g2
A 100.87     g2

Tukey Midrange Test

Statistics: 
  Exp.Mean      CV  MSerror Df n Stud.Midrange Ext.DMS  Int.DMS
   118.542 7.08182 70.47488 15 5      1.089968 5.90246 4.575105

Groups: 
   Means Groups
E 140.30     g1
D 127.97     g2
C 117.62     g3
B 105.95     g4
A 100.87     g4</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>midrangeMCP</span><span class='fu'>::</span><span class='fu'><a href='https://bendeivide.github.io/midrangeMCP//reference/MRbarplot.html'>MRbarplot</a></span><span class='op'>(</span><span class='va'>results</span><span class='op'>)</span>
</code></pre>
</div>
<p><img src="nbasico_files/figure-html5/unnamed-chunk-104-1.png" width="624" /></p>
</div>
<h2 id="attachpac">Carregando e anexando um pacote</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ImIj8iBo6CQ" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Anteriormente, falamos que usamos a função <code>library()</code> ou <code>require()</code> para carregar e anexar um pacote para utilizar suas funções, após a instalação. Carregar um pacote significa disponibilizar na memória ativa. Para acessar uma função de um pacote após ter sido carregado, usamos o operador <code>::</code>, isto é, <code>nome_pacote::nome_função</code>. Isto significa, que será chamado a função necessária sem anexar o pacote no <a href="#search_path">caminho de busca</a>. Estudaremos a seguir um pouco mais sobre caminho de busca. Para esse momento, entenda que é um caminho hierarquizado de ambientes, isto é, objetos que armazenam, em forma de lista, nomes associados a objetos. A função para ver o caminho de busca é <code>search()</code>. Em nosso caso, temos:</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Caminho de busca</span>
<span class='fu'><a href='https://rdrr.io/r/base/search.html'>search</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;.GlobalEnv&quot;        &quot;package:magrittr&quot;  &quot;package:leaflet&quot;  
 [4] &quot;package:stats&quot;     &quot;package:graphics&quot;  &quot;package:grDevices&quot;
 [7] &quot;package:utils&quot;     &quot;package:datasets&quot;  &quot;package:methods&quot;  
[10] &quot;Autoloads&quot;         &quot;package:base&quot;     </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Carregando e chamando uma função de um pacote</span>
<span class='fu'>midrangeMCP</span><span class='fu'>::</span><span class='fu'><a href='https://bendeivide.github.io/midrangeMCP//reference/MRwrite.html'>MRwrite</a></span><span class='op'>(</span><span class='va'>results</span>, extension <span class='op'>=</span> <span class='st'>"latex"</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Table in latex of results of the MGM test

% latex table generated in R 4.1.0 by xtable 1.8-4 package
% Fri Aug 27 08:47:27 2021
\begin{table}[ht]
\centering
\begin{tabular}{lrl}
  \hline
trt &amp; Means &amp; Groups \\ 
  \hline
E &amp; 140.30 &amp; g1 \\ 
  D &amp; 127.97 &amp; g2 \\ 
  C &amp; 117.62 &amp; g3 \\ 
  B &amp; 105.95 &amp; g4 \\ 
  A &amp; 100.87 &amp; g4 \\ 
   \hline
\end{tabular}
\end{table}


Table in latex of results of the MGR test

% latex table generated in R 4.1.0 by xtable 1.8-4 package
% Fri Aug 27 08:47:27 2021
\begin{table}[ht]
\centering
\begin{tabular}{lrl}
  \hline
trt &amp; Means &amp; Groups \\ 
  \hline
E &amp; 140.30 &amp; g1 \\ 
  D &amp; 127.97 &amp; g2 \\ 
  C &amp; 117.62 &amp; g2 \\ 
  B &amp; 105.95 &amp; g3 \\ 
  A &amp; 100.87 &amp; g3 \\ 
   \hline
\end{tabular}
\end{table}


Table in latex of results of the SNKM test

% latex table generated in R 4.1.0 by xtable 1.8-4 package
% Fri Aug 27 08:47:27 2021
\begin{table}[ht]
\centering
\begin{tabular}{lrl}
  \hline
trt &amp; Means &amp; Groups \\ 
  \hline
E &amp; 140.30 &amp; g1 \\ 
  D &amp; 127.97 &amp; g1 \\ 
  C &amp; 117.62 &amp; g1g2 \\ 
  B &amp; 105.95 &amp; g1g2 \\ 
  A &amp; 100.87 &amp; g2 \\ 
   \hline
\end{tabular}
\end{table}


Table in latex of results of the TM test

% latex table generated in R 4.1.0 by xtable 1.8-4 package
% Fri Aug 27 08:47:27 2021
\begin{table}[ht]
\centering
\begin{tabular}{lrl}
  \hline
trt &amp; Means &amp; Groups \\ 
  \hline
E &amp; 140.30 &amp; g1 \\ 
  D &amp; 127.97 &amp; g2 \\ 
  C &amp; 117.62 &amp; g3 \\ 
  B &amp; 105.95 &amp; g4 \\ 
  A &amp; 100.87 &amp; g4 \\ 
   \hline
\end{tabular}
\end{table}


Table in latex of results of descriptive statistics

% latex table generated in R 4.1.0 by xtable 1.8-4 package
% Fri Aug 27 08:47:27 2021
\begin{table}[ht]
\centering
\begin{tabular}{lrrrrr}
  \hline
trt &amp; Means &amp; std &amp; r &amp; Min &amp; Max \\ 
  \hline
A &amp; 100.87 &amp; 3.40 &amp; 4.00 &amp; 97.64 &amp; 105.66 \\ 
  B &amp; 105.95 &amp; 10.33 &amp; 4.00 &amp; 99.11 &amp; 121.29 \\ 
  C &amp; 117.62 &amp; 9.02 &amp; 4.00 &amp; 104.43 &amp; 124.37 \\ 
  D &amp; 127.97 &amp; 4.74 &amp; 4.00 &amp; 123.19 &amp; 134.16 \\ 
  E &amp; 140.30 &amp; 11.42 &amp; 4.00 &amp; 127.31 &amp; 151.53 \\ 
   \hline
\end{tabular}
\end{table}

See yours tables in Console
 Format: latex</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando novamente o caminho de busca</span>
<span class='fu'><a href='https://rdrr.io/r/base/search.html'>search</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;.GlobalEnv&quot;        &quot;package:magrittr&quot;  &quot;package:leaflet&quot;  
 [4] &quot;package:stats&quot;     &quot;package:graphics&quot;  &quot;package:grDevices&quot;
 [7] &quot;package:utils&quot;     &quot;package:datasets&quot;  &quot;package:methods&quot;  
[10] &quot;Autoloads&quot;         &quot;package:base&quot;     </code></pre>
</div>
<p>Com as linhas de comando apresentadas anteriormente, percebemos ao executar a função <code>MRwrite()</code> do pacote <a href="https://bendeivide.github.io/midrangeMCP/">midrangeMCP</a>, usando <code>::</code> que o caminho de busca não foi alterado. Isso significa que o pacote não foi anexado, apenas carregado, ou seja, se o usuário desejar usar alguma função do pacote <a href="https://bendeivide.github.io/midrangeMCP/">midrangeMCP</a> digitando apenas o nome no console, não será possível, porque o pacote não está anexado ao caminho de busca.</p>
<p>Vejamos uma outra situação,</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Caminho de busca</span>
<span class='fu'><a href='https://rdrr.io/r/base/search.html'>search</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;.GlobalEnv&quot;        &quot;package:magrittr&quot;  &quot;package:leaflet&quot;  
 [4] &quot;package:stats&quot;     &quot;package:graphics&quot;  &quot;package:grDevices&quot;
 [7] &quot;package:utils&quot;     &quot;package:datasets&quot;  &quot;package:methods&quot;  
[10] &quot;Autoloads&quot;         &quot;package:base&quot;     </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Carregando e anexando um pacote</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://bendeivide.github.io/midrangeMCP/'>midrangeMCP</a></span><span class='op'>)</span>

<span class='co'># Verificando novamente o caminho de busca</span>
<span class='fu'><a href='https://rdrr.io/r/base/search.html'>search</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;.GlobalEnv&quot;          &quot;package:midrangeMCP&quot; &quot;package:magrittr&quot;   
 [4] &quot;package:leaflet&quot;     &quot;package:stats&quot;       &quot;package:graphics&quot;   
 [7] &quot;package:grDevices&quot;   &quot;package:utils&quot;       &quot;package:datasets&quot;   
[10] &quot;package:methods&quot;     &quot;Autoloads&quot;           &quot;package:base&quot;       </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Chamando uma funcao do pacote</span>
<span class='co'># guimidrangeMCP()</span>
</code></pre>
</div>
</div>
<p>Com o uso da função <code>library()</code>, percebemos que o caminho de busca foi alterado, porque agora temos o ambiente de pacote <code>package:midrangeMCP</code>. Isso significa que agora poderemos acessar os objetos desse pacote apenas digitando o nome associado a eles. Por fim, a última linha foi comentada, porque é uma interface gráfica ao usuário para o pacote, o que chamamos de <em>GUI</em> (do inglês, <em>Graphical User Interface</em>), mas que pode ser visualizado na Figura <a href="#fig:guimidrangeMCP">19</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:guimidrangeMCP"></span>
<img src="images/midrangeMCP.png" alt="Interface para o pacote [midrangeMCP](https://bendeivide.github.io/midrangeMCP/)." width="80%" />
<p class="caption">
Figure 19: Interface para o pacote <a href="https://bendeivide.github.io/midrangeMCP/">midrangeMCP</a>.
</p>
</div>
</div>
<h2 id="namespac"><em>NAMESPACE</em> de um pacote</h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/U-75Un1Sr94" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>No início da seção sobre pacotes, falamos sobre o esqueleto de um pacote, isto é, os componentes básicos de um pacote. Um dos arquivos é o <em>NAMESPACE</em>. Esse arquivo é respondsável pela exportação e importação de funções. As funções exportadas de um pacote, por meio desse arquivo, são aquelas visíveis após a anexação do pacote ao caminho de busca, ou por meio do operador <code>::</code>. As funções importadas são aquelas utilizadas de outros pacotes.</p>
<p>As funções ditas internas do pacote, são aquelas não mencionadas no <em>NAMESPACE</em>. Em muitas situações, precisamos de funções internas necessárias para a finalidade do pacote, que muitas vezes não é objetivo final para disponibilidade dos usuários, mas códigos intermediários para a boa funcionabilidade do pacote. Dessa forma, uma boa escolha para que não haja conflitos em nomes associados a objetos no ambiente de trabalho, é a decisão de não exportá-los.</p>
<p>Porém, quando se cria um pacote, por exemplo, pelo RStudio, o padrão no <em>NAMESPACE</em> é o comando:</p>
<pre><code>exportPattern(&quot;^[^\\.]&quot;)</code></pre>
<p>que significa que todas as funções no pacote serão exportadas que não iniciam por um ponto (“.”). Como toda função em um pacote precisa de um arquivo de ajuda (<em>.Rd</em>), todas as funções deverão ter esses tipos arquivos inseridos no subdiretório <em>man/</em>.</p>
<p>Os primeiros pacotes submetidos ao CRAN na primeiras versões do <a href="http://r-project.org/" target="_blank">R</a>, não tinha o arquivo <em>NAMESPACE</em>. Por isso que quando tentamos instalar pacotes órfãs antigos, um dos erros é a falta desse arquivo.</p>
<p>Mais detalhes sobre o desenvolvimento de pacotes será abordado no módulo <a href="navancado.html">Programação em R (Nível Avançado)</a>.</p>
<h2 id="carpac">Usando os operadores <code>::</code> e <code>:::</code></h2>
<iframe width="560" height="315" src="https://www.youtube.com/embed/gm6YA-heLJ8" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Como falamos anteriormente, para chamarmos uma função sem a necessidade de anexar o pacote, usamos o operador <code>::</code>. Comentamos também, que algumas funções não eram exportadas pelo <em>NAMESPACE</em> de um pacote. Contudo, se desejarmos visualizar ou executá-las, poderemos utilizar o operador <code>:::</code>. Vejamos um exemplo,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Instale o pacote SMR</span>
<span class='co'># install.packages(SMR) # Descomente a linha de comando para instalar</span>
<span class='co'># Carregando e chamando funcoes exportadas do pacote SMR</span>
<span class='fu'>SMR</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/SMR/man/SMR.html'>pSMR</a></span><span class='op'>(</span>q <span class='op'>=</span> <span class='fl'>2</span>, size <span class='op'>=</span> <span class='fl'>10</span>, df <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 0.9905216</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Carregando e chamando funcoes nao exportadas ao pacote</span>
<span class='fu'>SMR</span><span class='fu'>:::</span><span class='fu'>GaussLegendre</span><span class='op'>(</span>size <span class='op'>=</span> <span class='fl'>4</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$nodes
[1] -0.8611363 -0.3399810  0.3399810  0.8611363

$weights
[1] 0.3478548 0.6521452 0.6521452 0.3478548</code></pre>
</div>
<p>As funções internas dos pacotes devem ser utilizadas com muita cautela, uma vez que são funções que podem passar por atualizações, mudanças. Isso porque, como não são funções exportadas, alguns pacotes podem passar por atualizações, e desse modo, estas funções também podem ser atualizadas ou até mesmo alteradas.</p>
<p>Outro ponto interessante é que não se recomenda a utilização de importação de funções internas de outros pacotes no desenvolvimento de pacotes, uma vez que são funções que podem passar por mudanças drásticas, e portanto, gerar problemas nas rotinas. Se uma função em um pacote não foi exportada, é porque o desenvolvedor tem um bom motivo para tal situação. As funções exportadas são de fato a essência do objetivo de um pacote, e por isso que elas são exportadas.</p>
<h2 id="search_path">Ambientes e Caminho de busca</h2>
<p>Na seção sobre <a href="#funcoes">funções</a>, discutimos dois pontos interessantes sobre objetos, que é a atribuição e o escopo. E esses dois pontos estão intimamente relacionados ao objeto ambiente, de modo <code>"environment"</code>. O ambiente é um objeto que armazena, em forma de lista, as ligações dos nomes associados aos objetos. Porém, existem diferenças entre o objeto lista do objeto ambiente, com quatro exceções (<span class="citation" data-cites="hadley2019"><a href="#ref-hadley2019" role="doc-biblioref">Wickham</a> (<a href="#ref-hadley2019" role="doc-biblioref">2019</a>)</span>):</p>
<ul>
<li>Cada nome deve ser único;</li>
<li>Os nomes em um ambiente não são ordenados;</li>
<li>Um ambiente tem um pai ou também chamado de ambiente superior;</li>
<li>Ambientes não são copiados quando modificados.</li>
</ul>
<p>Muitas dessas definições são complexas para esse momento. E uma profundidade sobre o assunto, será abordada no módulo <a href="nintermediario.html">Programação em R (Nível Intermediário)</a>. Contudo, introduziremos algumas características importantes para os objetos do tipo <code>environment</code>.</p>
<p>O ambiente de trabalho do <a href="http://r-project.org/" target="_blank">R</a> é conhecido como ambiente global, pois é onde todo o processo de interação da linguagem ocorre. Existe um nome específico associado a esse objeto, que é <code>.GlobalEnv</code>, ou também pode ser acessado pela função <code>globalenv()</code>. Para sabermos quais os nomes que existem nesse ambiente, usamos a função <code>ls()</code>, isto é,</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Nomes no ambiente global</span>
<span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>character(0)</code></pre>
</div>
<p>Quando o resultado da função é <code>character(0)</code>, significa que não existem nomes criados no ambiente global. O ambiente corrente de trabalho é informado pela função <code>environment()</code>, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Comparando os ambientes</span>
<span class='fu'><a href='https://rdrr.io/r/base/identical.html'>identical</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='op'>)</span>, <span class='va'>.GlobalEnv</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] TRUE</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Forma errada de comparar ambientes (Erro...)</span>
<span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='op'>)</span> <span class='op'>==</span> <span class='va'>.GlobalEnv</span>
</code></pre>
</div>
<pre><code>Error in environment() == .GlobalEnv: comparação (1) é possível apenas para tipos lista ou atômicos</code></pre>
</div>
<p>A segunda forma é equivocada, porque os ambientes não são vetores. Assim, como também não podemos utilizar o sistema de indexação, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando objetos no ambiente global</span>
<span class='va'>b</span> <span class='op'>&lt;-</span> <span class='fl'>2</span>; <span class='va'>a</span> <span class='op'>&lt;-</span> <span class='st'>"Ben"</span>; <span class='va'>x</span> <span class='op'>&lt;-</span> <span class='cn'>TRUE</span>
<span class='co'># Verificando os nomes no ambiente global</span>
<span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;a&quot; &quot;b&quot; &quot;x&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Acessando o objeto "a"</span>
<span class='va'>.GlobalEnv</span><span class='op'>$</span><span class='va'>a</span>
</code></pre>
</div>
<pre><code>[1] &quot;Ben&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='va'>.GlobalEnv</span><span class='op'>[[</span><span class='st'>"a"</span><span class='op'>]</span><span class='op'>]</span>
</code></pre>
</div>
<pre><code>[1] &quot;Ben&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Acessando o primeiro nome (Erro...)</span>
<span class='va'>.GlobalEnv</span><span class='op'>[[</span><span class='fl'>1</span><span class='op'>]</span><span class='op'>]</span>
</code></pre>
</div>
<pre><code>Error in .GlobalEnv[[1]]: argumentos errados para obtenção de subconjuntos de um ambiente</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<p>A última linha de comando retorna um erro, porque os nomes em ambientes não são ordenados, ao invés, devemos chamar os resultados por meio de <code>$</code> ou .</p>
<p>Poderemos criar um ambiente pela função <code>new.env()</code>, e inserir ligações dentre dele, como apresentado a seguir.</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando objetos no ambiente global</span>
<span class='va'>b</span> <span class='op'>&lt;-</span> <span class='fl'>2</span>; <span class='va'>a</span> <span class='op'>&lt;-</span> <span class='st'>"Ben"</span>; <span class='va'>x</span> <span class='op'>&lt;-</span> <span class='cn'>TRUE</span>
<span class='co'># Verificando os nomes no ambiente global</span>
<span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;a&quot; &quot;b&quot; &quot;x&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um objeto ambiente no ambiente global</span>
<span class='va'>amb1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/environment.html'>new.env</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='co'># Inserindo nomes nesse no ambiente "amb1"</span>
<span class='va'>amb1</span><span class='op'>$</span><span class='va'>d</span> <span class='op'>&lt;-</span> <span class='fl'>3</span>; <span class='va'>amb1</span><span class='op'>$</span><span class='va'>e</span> <span class='op'>&lt;-</span> <span class='st'>"FALSE"</span>
<span class='co'># Verificando nomes no ambiente global</span>
<span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;a&quot;    &quot;amb1&quot; &quot;b&quot;    &quot;x&quot;   </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando nomes no ambiente "amb1"</span>
<span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span>envir <span class='op'>=</span> <span class='va'>amb1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;d&quot; &quot;e&quot;</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<p>Todo ambiente tem um ambiente pai ou ambiente superior. Quando um nome não é encontrado no ambiente corrente, o <a href="http://r-project.org/" target="_blank">R</a> procurará no ambiente pai. Para saber, use <code>parent.env()</code>, isto é,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/environment.html'>parent.env</a></span><span class='op'>(</span><span class='va'>amb1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>&lt;environment: R_GlobalEnv&gt;</code></pre>
</div>
<p>O único ambiente que não tem pai é o ambiente vazio, objeto <code>emptyenv()</code>, que pode ser observado pela linha de comando:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/base/environment.html'>parent.env</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/environment.html'>emptyenv</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Error in parent.env(emptyenv()): o ambiente vazio não tem pai</code></pre>
</div>
<h2 id="superatr">A superatribuição <code>&lt;&lt;-</code></h2>
<p>A atribuição (<code>&lt;-</code>) é uma função que associa um nome a um objeto no ambiente corrente. Quando usamos o <a href="http://r-project.org/" target="_blank">R</a>, quase sempre esse ambiente é o ambiente global. A superatribuição (<code>&lt;&lt;-</code>) cria um nome e o associa a um objeto no ambiente pai do ambiente de onde essa associação está sendo criada. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando o objeto x e o imprimindo</span>
<span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>0</span>; <span class='va'>x</span>
</code></pre>
</div>
<pre><code>[1] 0</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando uma funcao com a superatribuicao</span>
<span class='va'>f1</span> <span class='op'>&lt;-</span>  <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='co'># Obj2</span>
  <span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fl'>1</span>
  <span class='co'># Modificando x do ambiente global</span>
  <span class='va'>x</span> <span class='op'>&lt;&lt;-</span> <span class='fl'>2</span>
  <span class='co'># Imprimindo o ambiente de execucao</span>
  <span class='va'>env</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='op'>)</span>
  <span class='co'># Imprimindo o Obj2</span>
  <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>x <span class='op'>=</span> <span class='va'>x</span>, <span class='st'>"Ambiente de execução"</span> <span class='op'>=</span> <span class='va'>env</span>, <span class='st'>"Ambiente Pai"</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/environment.html'>parent.env</a></span><span class='op'>(</span><span class='va'>env</span><span class='op'>)</span><span class='op'>)</span>
  <span class='co'># Retornando a lista</span>
  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='va'>res</span><span class='op'>)</span>
<span class='op'>}</span>
<span class='co'># Imprimindo f1</span>
<span class='fu'>f1</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$x
[1] 1

$`Ambiente de execução`
&lt;environment: 0x00000000069742d0&gt;

$`Ambiente Pai`
&lt;environment: R_GlobalEnv&gt;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Imprimindo x</span>
<span class='va'>x</span>
</code></pre>
</div>
<pre><code>[1] 2</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Imprimindo o ambiente envolvente de f1</span>
<span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='va'>f1</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>&lt;environment: R_GlobalEnv&gt;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Imprimindo os nomes do ambiente global</span>
<span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;a&quot;       &quot;amb1&quot;    &quot;b&quot;       &quot;cran&quot;    &quot;f1&quot;      &quot;github&quot; 
[7] &quot;rlink&quot;   &quot;rstudio&quot; &quot;x&quot;      </code></pre>
</div>
<p>Esse caso é interessante porque vemos dois nomes associados a objetos em ambientes diferentes. Alguns ambientes são criados pela função <code>function()</code>, são os chamados ambientes funcionais. Um deles é o ambiente envolvente, já comentado na seção sobre <a href="#esc_lexico">funções</a>. O ambiente envolvente da função <code>f1</code> é o ambiente global. Já no corpo da função <code>f1</code>, um outro ambiente surge quando a função é chamada, é o ambiente de execução. Toda vez que a função é chamada, cria-se um novo ambiente de execução. Observemos os identificadores, em <code>Ambiente de execução</code>, quando executamos a função mais de uma vez,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>f1</span><span class='op'>(</span><span class='op'>)</span><span class='op'>$</span><span class='va'>`Ambiente de execução`</span>
</code></pre>
</div>
<pre><code>&lt;environment: 0x000000002b456768&gt;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>f1</span><span class='op'>(</span><span class='op'>)</span><span class='op'>$</span><span class='va'>`Ambiente de execução`</span>
</code></pre>
</div>
<pre><code>&lt;environment: 0x000000002b2ad2d8&gt;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>f1</span><span class='op'>(</span><span class='op'>)</span><span class='op'>$</span><span class='va'>`Ambiente de execução`</span>
</code></pre>
</div>
<pre><code>&lt;environment: 0x00000000294e85d0&gt;</code></pre>
</div>
<p>O ambiente pai do ambiente de execução, é o ambiente envolvente de <code>f1</code>, que nesse caso é o ambiente global. Assim, observe que o ocorre quando executamos o comando de superatribuição. O nome <code>x</code> no ambiente global passou a está associado ao valor 2, porque foi alterado por <code>&lt;&lt;-</code>, mas o nome <code>x</code> continuou associado ao valor 1, porque a função <code>f1()</code> retornou o valor 1. Isso mostra que a superatribuição não cria um objeto no ambiente atual, mas em um ambiente pai se não existe ou altera o nome existente. Vejamos o complemento dessa afirmação no próximo exemplo.</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando os nomes no ambiente global</span>
<span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>character(0)</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando uma funcao</span>
<span class='va'>f2</span> <span class='op'>&lt;-</span>  <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>x</span> <span class='op'>&lt;&lt;-</span> <span class='fl'>2</span>
<span class='op'>}</span>
<span class='co'># Executando f2</span>
<span class='fu'>f2</span><span class='op'>(</span><span class='op'>)</span>
<span class='co'># Verificando novamente os nomes no ambiente global</span>
<span class='fu'><a href='https://rdrr.io/r/base/ls.html'>ls</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;f2&quot; &quot;x&quot; </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Verificando o valor de x</span>
<span class='va'>x</span>
</code></pre>
</div>
<pre><code>[1] 2</code></pre>
</div>
<div class="layout-chunk" data-layout="l-body">

</div>
<p>Com a superatribuição executada dentro de <code>f2()</code> e como no ambiente pai não eistia o nome <code>x</code>, este foi criado e associado ao valor <code>2</code>. Um próximo exemplo, consideramos um ambiente envolvente que não seja o ambiente global. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Funcao contador</span>
<span class='va'>contador</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='va'>i</span> <span class='op'>&lt;-</span> <span class='fl'>0</span>
  <span class='va'>env1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='op'>)</span>
  <span class='va'>aux</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='co'># do something useful, then ...</span>
    <span class='va'>i</span> <span class='op'>&lt;&lt;-</span> <span class='va'>i</span> <span class='op'>+</span> <span class='fl'>1</span>
    <span class='va'>env2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='op'>)</span>
    <span class='va'>res2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span>i <span class='op'>=</span> <span class='va'>i</span>, `AmbExec_aux` <span class='op'>=</span> <span class='va'>env2</span>, `AmbExec_contador` <span class='op'>=</span> <span class='va'>env1</span><span class='op'>)</span>
    <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='va'>res2</span><span class='op'>)</span>
  <span class='op'>}</span>
<span class='op'>}</span>
<span class='co'># Chamada de funcao</span>
<span class='va'>contador1</span> <span class='op'>&lt;-</span> <span class='fu'>contador</span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'>contador1</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$i
[1] 1

$AmbExec_aux
&lt;environment: 0x000000002d16cb60&gt;

$AmbExec_contador
&lt;environment: 0x000000002b2c5198&gt;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>contador1</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$i
[1] 2

$AmbExec_aux
&lt;environment: 0x000000002b596a90&gt;

$AmbExec_contador
&lt;environment: 0x000000002b2c5198&gt;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'>contador1</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$i
[1] 3

$AmbExec_aux
&lt;environment: 0x000000002b21ca68&gt;

$AmbExec_contador
&lt;environment: 0x000000002b2c5198&gt;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Chamada de funcao</span>
<span class='va'>contador2</span> <span class='op'>&lt;-</span> <span class='fu'>contador</span><span class='op'>(</span><span class='op'>)</span>
<span class='fu'>contador2</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>$i
[1] 1

$AmbExec_aux
&lt;environment: 0x000000002a5ffe78&gt;

$AmbExec_contador
&lt;environment: 0x000000002897b968&gt;</code></pre>
</div>
<p>Quando uma função <code>function()</code> é criada dentro de outra função <code>function()</code> o ambiente de execução da função superior, <code>contador()</code>, é o ambiente envolvente da função interna, <code>aux()</code>. Dessa forma, o ambiente de execução de <code>contador()</code> não será mais efêmero, isto é, não será apagado após a execução, como pode ser visto em <code>contador1()</code>. Observamos que executamos <code>contador1()</code> três vezes. O nome <code>i</code> foi atualizado, devido a superatribuição, a cada chamada da mesma função. Ao passo que, quando realizamos uma nova chamada de <code>contador()</code>, por meio de <code>contador2()</code>, o resultado de <code>i</code> retora o valor <code>1</code>, porque um novo ambiente de execução para <code>contador()</code> foi criado, como pode ser observado.</p>
<p>Os demais ambiente funcionais e exemplos, serão descritos no módulo <a href="nintermediario.html">Programação em R (Nível Intermediário)</a>.</p>
<p>Por fim, uma última forma do <a href="http://r-project.org/" target="_blank">R</a> encontrar os nomes é pelo <strong>caminho de busca</strong>, que além dos ambientes criados e o ambiente global, existem os ambientes de pacotes. Toda vez que um pacote é anexado ao caminho de busca, o ambiente de pacote anexado será sempre o pai do ambiente global. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">

</div>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Caminho de busca</span>
<span class='fu'><a href='https://rdrr.io/r/base/search.html'>search</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;.GlobalEnv&quot;        &quot;package:magrittr&quot;  &quot;package:leaflet&quot;  
 [4] &quot;package:stats&quot;     &quot;package:graphics&quot;  &quot;package:grDevices&quot;
 [7] &quot;package:utils&quot;     &quot;package:datasets&quot;  &quot;package:methods&quot;  
[10] &quot;Autoloads&quot;         &quot;package:base&quot;     </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Anexando o pacote SMR</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>SMR</span><span class='op'>)</span>
<span class='co'># Verificando o caminho de busca</span>
<span class='fu'><a href='https://rdrr.io/r/base/search.html'>search</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;.GlobalEnv&quot;        &quot;package:SMR&quot;       &quot;package:magrittr&quot; 
 [4] &quot;package:leaflet&quot;   &quot;package:stats&quot;     &quot;package:graphics&quot; 
 [7] &quot;package:grDevices&quot; &quot;package:utils&quot;     &quot;package:datasets&quot; 
[10] &quot;package:methods&quot;   &quot;Autoloads&quot;         &quot;package:base&quot;     </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Carregando o pacote midrangeMCP</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'><a href='https://bendeivide.github.io/midrangeMCP/'>midrangeMCP</a></span><span class='op'>)</span>
<span class='co'># Verificando o caminho de busca</span>
<span class='fu'><a href='https://rdrr.io/r/base/search.html'>search</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;.GlobalEnv&quot;          &quot;package:midrangeMCP&quot; &quot;package:SMR&quot;        
 [4] &quot;package:magrittr&quot;    &quot;package:leaflet&quot;     &quot;package:stats&quot;      
 [7] &quot;package:graphics&quot;    &quot;package:grDevices&quot;   &quot;package:utils&quot;      
[10] &quot;package:datasets&quot;    &quot;package:methods&quot;     &quot;Autoloads&quot;          
[13] &quot;package:base&quot;       </code></pre>
</div>
<p>A lista dos ambientes no caminho de busca segue a ordem hierárquica dos ambientes, de modo que o ambiente global será sempre o ambiente de trabalho, isto é, o ambiente corrente. Não foi apresentado nessa lista, o ambiente vazio, <code>emptyenv()</code>. Mas, poderemos utilizar o pacote <a href="https://rlang.r-lib.org/">rlang</a> para isso.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando um ambiente</span>
<span class='va'>amb2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/environment.html'>new.env</a></span><span class='op'>(</span><span class='op'>)</span>
<span class='co'># Verificando seus parentais</span>
<span class='fu'>rlang</span><span class='fu'>::</span><span class='fu'><a href='https://rlang.r-lib.org/reference/env_parent.html'>env_parents</a></span><span class='op'>(</span>env <span class='op'>=</span> <span class='va'>amb2</span>, last <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/environment.html'>emptyenv</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [[1]] $ &lt;env: global&gt;
 [[2]] $ &lt;env: package:midrangeMCP&gt;
 [[3]] $ &lt;env: package:SMR&gt;
 [[4]] $ &lt;env: package:magrittr&gt;
 [[5]] $ &lt;env: package:leaflet&gt;
 [[6]] $ &lt;env: package:stats&gt;
 [[7]] $ &lt;env: package:graphics&gt;
 [[8]] $ &lt;env: package:grDevices&gt;
 [[9]] $ &lt;env: package:utils&gt;
[[10]] $ &lt;env: package:datasets&gt;
[[11]] $ &lt;env: package:methods&gt;
[[12]] $ &lt;env: Autoloads&gt;
[[13]] $ &lt;env: package:base&gt;
[[14]] $ &lt;env: empty&gt;</code></pre>
</div>
<p>Dessa forma, é caminho de busca que o <a href="http://r-project.org/" target="_blank">R</a> procurará pelos nomes. Isso significa, que se o ambiente envolvente de uma função, por exemplo, for o ambiente vazio, o <a href="http://r-project.org/" target="_blank">R</a> procurará pelas funções básicas no pacote <em>base</em> e não será encontrado, pois nesse ambiente não há nomes e nem ambientes parentais. Por isso, que o <a href="http://r-project.org/" target="_blank">R</a> depende do escopo léxico para tudo. Vejamos,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Criando uma funcao</span>
<span class='va'>f3</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='va'>x</span> <span class='op'>+</span> <span class='fl'>1</span>

<span class='co'># Modificando o ambiente envolvente de f3</span>
<span class='fu'><a href='https://rdrr.io/r/base/environment.html'>environment</a></span><span class='op'>(</span><span class='va'>f3</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/environment.html'>emptyenv</a></span><span class='op'>(</span><span class='op'>)</span>

<span class='co'># Dependencias externas da funcao f3</span>
<span class='fu'>codetools</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/codetools/man/findGlobals.html'>findGlobals</a></span><span class='op'>(</span><span class='va'>f3</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] &quot;+&quot; &quot;x&quot;</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Chamando a funcao f3</span>
<span class='fu'>f3</span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>Error in x + 1: não foi possível encontrar a função &quot;+&quot;</code></pre>
</div>
<p>Isso não ocorre quando definimos o ambiente envolvente de <code>f3()</code> como sendo o ambiente global, porque quando a função buscar pelo operador de soma neste ambiente e não encontrar, <code>f3()</code> seguirá até o ambiente <code>package:base</code>, para encontrar o operador “<code>+</code>.”</p>
<p>Por isso, que usar a função <code>attach()</code> para anexar objetos do tipo quadro de dados (<em>data frames</em>), por exemplo, pode se tornar um problema em um código, quando temos nomes iguais para objetos diferentes. Para isso, apresentamos o código a seguir.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># objeto quadro de dados</span>
<span class='va'>dados</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>sd <span class='op'>=</span> <span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, var <span class='op'>=</span> <span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span><span class='op'>^</span><span class='fl'>2</span><span class='op'>)</span>
<span class='co'># Caminho de busca</span>
<span class='fu'><a href='https://rdrr.io/r/base/search.html'>search</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;.GlobalEnv&quot;          &quot;package:midrangeMCP&quot; &quot;package:SMR&quot;        
 [4] &quot;package:magrittr&quot;    &quot;package:leaflet&quot;     &quot;package:stats&quot;      
 [7] &quot;package:graphics&quot;    &quot;package:grDevices&quot;   &quot;package:utils&quot;      
[10] &quot;package:datasets&quot;    &quot;package:methods&quot;     &quot;Autoloads&quot;          
[13] &quot;package:base&quot;       </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># anexando "dados" ao caminho de busca</span>
<span class='kw'><a href='https://rdrr.io/r/base/attach.html'>attach</a></span><span class='op'>(</span><span class='va'>dados</span><span class='op'>)</span>
<span class='co'># Verificando novamente o caminho de busca</span>
<span class='fu'><a href='https://rdrr.io/r/base/search.html'>search</a></span><span class='op'>(</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code> [1] &quot;.GlobalEnv&quot;          &quot;dados&quot;               &quot;package:midrangeMCP&quot;
 [4] &quot;package:SMR&quot;         &quot;package:magrittr&quot;    &quot;package:leaflet&quot;    
 [7] &quot;package:stats&quot;       &quot;package:graphics&quot;    &quot;package:grDevices&quot;  
[10] &quot;package:utils&quot;       &quot;package:datasets&quot;    &quot;package:methods&quot;    
[13] &quot;Autoloads&quot;           &quot;package:base&quot;       </code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Imprimindo sd</span>
<span class='va'>sd</span>
</code></pre>
</div>
<pre><code>[1] 1 2 3</code></pre>
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Desanexando "dados"</span>
<span class='kw'><a href='https://rdrr.io/r/base/detach.html'>detach</a></span><span class='op'>(</span><span class='va'>dados</span><span class='op'>)</span>
<span class='co'># Imprimindo sd</span>
<span class='va'>sd</span>
</code></pre>
</div>
<pre><code>function (x, na.rm = FALSE) 
sqrt(var(if (is.vector(x) || is.factor(x)) x else as.double(x), 
    na.rm = na.rm))
&lt;bytecode: 0x000000002b7b9c40&gt;
&lt;environment: namespace:stats&gt;</code></pre>
</div>
<p>Quando criamos o objeto <code>dados</code>, uma de suas colunas estava nomeada por <code>sd</code>, que também é o nome de uma função do pacote <em>stats</em>, que representa a variância. Porém, quando anexamos o objeto <code>dados</code> no caminho de busca, um novo ambiente é criado, como pai do ambiente global e com mesmo nome do objeto, e os elementos do objeto dados são copiados para esse ambiente. Assim, o nome <code>sd</code> foi procurado e não encontrado, seguindo a busca para o próximo ambiente que foi <code>dados</code>, e daí foi encontrado. Percebemos que também existe esse nome no ambiente do pacote <em>stats</em>, que é do tipo função. Entretanto, como o primeiro objeto encontrado associado a esse nome estava no ambiente dados, ele é retornado. Nesses casos, se usarmos a superatribuição, a alteração ocorrerá apenas na cópia dos elementos no ambiente anexado, e não nos elementos do objeto original. Caso haja a atribuição, o nome será criado no ambiente global.</p>
<p>Isso pode acabar se tornando um problema se muitos objetos forem anexados. Por isso, é preferível o uso da indexação ou <code>$</code> para acessar os elementos de uma lista ou quadro de dados, evitando assim, conflitos na procura de nomes.</p>
<p>Desse mesmo modo, poderíamos pensar que esses mesmo conflitos poderiam surgir dentro de um pacote. Porém, graças ao <em>NAMESPACE</em>, isso não ocorre, sendo um dos assuntos abordados nos próximos módulos.</p>
<div class="sourceCode" id="cb267"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<div class="layout-chunk" data-layout="l-body">

</div>
<h1 id="rinterface"><i class="fas fa-sort-alpha-down"></i> Interfaces com outras linguagens</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Dfo8NCyvyGc" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Como afirmado no terceiro princício,</p>
<blockquote>
<p>
<ul>
<li><strong>Princípio da Interface</strong>: Interfaces para outros programas são parte do <code>R</code>,</li>
</ul>
</p>
</blockquote>
<p>na base do <a href="http://r-project.org/" target="_blank">R</a> temos integrações prontas para implementar códigos em <em>C</em> e <em>FORTRAN</em>, como também outras linguagens. Por exemplo, na base do <a href="http://r-project.org/" target="_blank">R</a> existe um pacote chamado <code>tcltk</code> que integra a linguagem <em>Tcl/Tk</em> para o <a href="http://r-project.org/" target="_blank">R</a>. Esse pacote nos permite desenvolver interfaces gráficas para os nossos códigos.</p>
<p>Diversos outros pacotes, disponibilizados sob o <a href="http://cran.r-project.org/" target="_blank">CRAN</a> realizaram diversas outras linguagens, que elencamos alguns,</p>
<table>
<thead>
<tr class="header">
<th style="text-align: center;">Pacote</th>
<th style="text-align: center;">Linguagem integrada</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><code>tcltk</code></td>
<td style="text-align: center;">Linguagem <em>Tcl/Tk</em></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="https://github.com/cran/RGtk2">RGtk2</a></td>
<td style="text-align: center;">Linguagem <em>Gtk+</em></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="http://www.rforge.net/rJava/">rJava</a></td>
<td style="text-align: center;">Linguagem <em>Java</em></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="https://rmarkdown.rstudio.com/">rmarkdown</a></td>
<td style="text-align: center;">Linguagens <em>HTML</em>, <em>JavaScript</em>, <em>CSS</em>, <em>Markdown</em>, <span class="math inline">\(\LaTeX\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="https://rstudio.github.io/reticulate/">reticulate</a></td>
<td style="text-align: center;">Linguagem <em>Python</em></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="https://non-contradiction.github.io/JuliaCall/index.html">JuliaCall</a>, <a href="https://cran.r-project.org/web/packages/XRJulia/index.html">XRJulia</a></td>
<td style="text-align: center;">Linguagem <em>Julia</em></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><a href="http://www.rcpp.org/">Rcpp</a></td>
<td style="text-align: center;">Linguagem <em>C++</em></td>
</tr>
<tr class="even">
<td style="text-align: center;"><a href="http://gecoder.org/">gecoder</a></td>
<td style="text-align: center;">Linguagem <em>Ruby</em></td>
</tr>
</tbody>
</table>
<p>Existe um aplicativo da web bem interessante que integra as linguagem <em>Julia</em>, <em>Python</em> e <a href="http://r-project.org/" target="_blank">R</a>, chamado <a href="https://jupyter.org/">Jupyter</a>. Muitas outras interfaces são integradas ao <a href="http://r-project.org/" target="_blank">R</a>. Ao longo do que formos pesquisando sobre mais pacotes, vamos atualizando a tabela.</p>
<p>Como motivação para esse momento, iremos realizar uma aplicação com as linguagens <em>Python</em>, <em>C++</em> e <em>Tcl/tk</em>, para verificarmos que essas integrações são fáceis de serem realizadas. Claro, em algumas outras situações, como a integração do código <em>C</em> para <a href="http://r-project.org/" target="_blank">R</a> usando as funções <code>.C()</code> ou <code>.Call()</code> exigem um pouco mais de conhecimento. Contudo, no módulo Programação em R (Nível Avançado), iremos realizar algumas integrações com um abordagem mais profunda para algumas linguagens.</p>
<div class="panelset">
<section id="implementação-em-python" class="panel">
<h2>Implementação em <em>Python</em></h2>
<p>Vamos inicialmente instalar o pacote <a href="https://rstudio.github.io/reticulate/" target="_blank">reticulate</a>,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='va'>reticulate</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Existem diversas formas de integração. Vamos pensar na forma mais básica, isto é, temos um <a href="scripts/aula24/add.py" target="_blank"><em>script Python</em></a>, isto é, um arquivo com a extensão <em>.py</em>, e vamos carregá-lo no <a href="http://r-project.org/" target="_blank">R</a>. O <em>script</em>, chamaremos de <a href="scripts/aula24/add.py" target="_blank">add.py</a>, que segue:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb268"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb268-1"><a href="#cb268-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> add(x, y):</span>
<span id="cb268-2"><a href="#cb268-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> x <span class="op">+</span> y</span></code></pre></div>
</div>
<p>Vamos agora chamar a função <code>add()</code> em um <a href="scripts/aula24/r-python.R" target="_blank"><em>script R</em></a>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Carregando o script add.py</span>
<span class='fu'>reticulate</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/reticulate/man/source_python.html'>source_python</a></span><span class='op'>(</span><span class='st'>'add.py'</span><span class='op'>)</span> 
<span class='co'># Chamando a funcao add</span>
<span class='fu'><a href='https://magrittr.tidyverse.org/reference/aliases.html'>add</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 15</code></pre>
</div>
</section>
<section id="implementação-em-c" class="panel">
<h2>Implementação em <em>C++</em></h2>
<p>Vamos instalar o pacote <a href="http://www.rcpp.org/" target="_blank">Rcpp</a>,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='fu'><a href='https://rdrr.io/r/utils/install.packages.html'>install.packages</a></span><span class='op'>(</span><span class='va'>Rcpp</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>Vamos realizar a mesma aplicação feita em <em>Python</em>, que segue o <a href="scripts/aula24/add.cpp" target="_blank"><em>script C++</em></a>, com extensão <em>.cpp</em>,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode" id="cb270"><pre class="sourceCode cpp"><code class="sourceCode cpp"><span id="cb270-1"><a href="#cb270-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&lt;Rcpp.h&gt;</span></span>
<span id="cb270-2"><a href="#cb270-2" aria-hidden="true" tabindex="-1"></a><span class="kw">using</span> <span class="kw">namespace</span> Rcpp;</span>
<span id="cb270-3"><a href="#cb270-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb270-4"><a href="#cb270-4" aria-hidden="true" tabindex="-1"></a><span class="co">// [[Rcpp::export]]</span></span>
<span id="cb270-5"><a href="#cb270-5" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> add(<span class="dt">int</span> x, <span class="dt">int</span> y) {</span>
<span id="cb270-6"><a href="#cb270-6" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> x + y;</span>
<span id="cb270-7"><a href="#cb270-7" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
</div>
<p>Vamos agora chamar a função <code>add()</code> em um <a href="scripts/aula24/r-rcpp.R" target="_blank"><em>script R</em></a>:</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Carregando o script add.cpp</span>
<span class='fu'>Rcpp</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/Rcpp/man/sourceCpp.html'>sourceCpp</a></span><span class='op'>(</span><span class='st'>"add.cpp"</span><span class='op'>)</span>
<span class='co'># Chamando a funcao add</span>
<span class='fu'><a href='https://magrittr.tidyverse.org/reference/aliases.html'>add</a></span><span class='op'>(</span><span class='fl'>5</span>, <span class='fl'>10</span><span class='op'>)</span>
</code></pre>
</div>
<pre><code>[1] 15</code></pre>
</div>
</section>
<section id="implementação-em-tcltk" class="panel">
<h2>Implementação em TclTk</h2>
<p>Nesse caso, não precisaremos instalar pacotes, pois o pacote <code>tcltk</code> é da Base do <a href="http://r-project.org/" target="_blank">R</a>. Ao invés, anexe-o no caminho de busca, use <code>library(tcltk)</code>. Iremos implementar uma interface gráfica contendo uma janela com entradas de dois números e um botão para calcular a soma. Segue o <a href="scripts/aula24/r-tcltk.R" target="_blank"><em>script</em></a>,</p>
<div class="layout-chunk" data-layout="l-body">
<div class="sourceCode">
<pre class="sourceCode r"><code class="sourceCode r"><span class='co'># Anexando o pacote</span>
<span class='kw'><a href='https://rdrr.io/r/base/library.html'>library</a></span><span class='op'>(</span><span class='va'>tcltk</span><span class='op'>)</span>

<span class='co'># Janela principal</span>
<span class='va'>main</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tktoplevel</a></span><span class='op'>(</span>width <span class='op'>=</span> <span class='fl'>400</span>, height <span class='op'>=</span> <span class='fl'>300</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack.propagate</a></span><span class='op'>(</span><span class='va'>main</span>, <span class='cn'>FALSE</span><span class='op'>)</span>

<span class='co'># Texto inicial</span>
<span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tklabel</a></span><span class='op'>(</span><span class='va'>main</span>, text <span class='op'>=</span> <span class='st'>"Soma de dois números inteiros"</span><span class='op'>)</span><span class='op'>)</span>

<span class='co'># Quadro 1</span>
<span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='va'>q1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tkframe</a></span><span class='op'>(</span><span class='va'>main</span><span class='op'>)</span>, side <span class='op'>=</span> <span class='st'>"top"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tklabel</a></span><span class='op'>(</span><span class='va'>q1</span>, text <span class='op'>=</span> <span class='st'>"Insira o primeiro número: "</span>, padx <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>, side <span class='op'>=</span> <span class='st'>"left"</span>, anchor <span class='op'>=</span> <span class='st'>"e"</span><span class='op'>)</span>


<span class='co'># Entrada 1</span>
<span class='va'>var1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TclInterface.html'>tclVar</a></span><span class='op'>(</span><span class='st'>"Insira um número inteiro"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='va'>entry1</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tkentry</a></span><span class='op'>(</span><span class='va'>q1</span>, textvariable <span class='op'>=</span> <span class='va'>var1</span>, width <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span>, side <span class='op'>=</span> <span class='st'>"left"</span>, anchor <span class='op'>=</span> <span class='st'>"ne"</span><span class='op'>)</span>

<span class='co'># Quadro 2</span>
<span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='va'>q2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tkframe</a></span><span class='op'>(</span><span class='va'>main</span><span class='op'>)</span>, side <span class='op'>=</span> <span class='st'>"top"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tklabel</a></span><span class='op'>(</span><span class='va'>q2</span>, text <span class='op'>=</span> <span class='st'>"Insira o segundo número: "</span>, padx <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>, side <span class='op'>=</span> <span class='st'>"left"</span>, anchor <span class='op'>=</span> <span class='st'>"e"</span><span class='op'>)</span>

<span class='co'># Entrada 2</span>
<span class='va'>var2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TclInterface.html'>tclVar</a></span><span class='op'>(</span><span class='st'>"Insira um número inteiro"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='va'>entry2</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tkentry</a></span><span class='op'>(</span><span class='va'>q2</span>, textvariable <span class='op'>=</span> <span class='va'>var2</span>, width <span class='op'>=</span> <span class='fl'>25</span><span class='op'>)</span>, side <span class='op'>=</span> <span class='st'>"left"</span>, anchor <span class='op'>=</span> <span class='st'>"ne"</span><span class='op'>)</span>
<span class='co'># Botao </span>
<span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='va'>botao</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tkbutton</a></span><span class='op'>(</span><span class='va'>main</span>, text <span class='op'>=</span> <span class='st'>"Somar dois números"</span><span class='op'>)</span>, side <span class='op'>=</span> <span class='st'>"top"</span><span class='op'>)</span>
<span class='co'># Funcao auxiliar</span>
<span class='va'>f1</span> <span class='op'>&lt;-</span> <span class='kw'>function</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='kw'>if</span> <span class='op'>(</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TclInterface.html'>tclvalue</a></span><span class='op'>(</span><span class='va'>var1</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>|</span> <span class='fu'><a href='https://rdrr.io/r/base/NA.html'>is.na</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TclInterface.html'>tclvalue</a></span><span class='op'>(</span><span class='va'>var2</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>{</span>
    <span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tklabel</a></span><span class='op'>(</span><span class='va'>main</span>, text <span class='op'>=</span> <span class='st'>"Insira Valores numéricos!"</span><span class='op'>)</span>, side <span class='op'>=</span> <span class='st'>"top"</span><span class='op'>)</span>
  <span class='op'>}</span> <span class='kw'>else</span> <span class='op'>{</span>
    <span class='va'>res</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TclInterface.html'>tclvalue</a></span><span class='op'>(</span><span class='va'>var1</span><span class='op'>)</span><span class='op'>)</span> <span class='op'>+</span> <span class='fu'><a href='https://rdrr.io/r/base/numeric.html'>as.numeric</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TclInterface.html'>tclvalue</a></span><span class='op'>(</span><span class='va'>var2</span><span class='op'>)</span><span class='op'>)</span>
    <span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkpack</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/tcltk/TkWidgets.html'>tklabel</a></span><span class='op'>(</span><span class='va'>main</span>, text <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/paste.html'>paste</a></span><span class='op'>(</span><span class='st'>"A soma é igual a "</span>, <span class='va'>res</span><span class='op'>)</span><span class='op'>)</span>, side <span class='op'>=</span> <span class='st'>"top"</span><span class='op'>)</span>
  <span class='op'>}</span>
<span class='op'>}</span> 
<span class='co'># Acao ao Botao</span>
<span class='fu'><a href='https://rdrr.io/r/tcltk/TkCommands.html'>tkbind</a></span><span class='op'>(</span><span class='va'>botao</span>, <span class='st'>"&lt;ButtonRelease&gt;"</span>, <span class='va'>f1</span><span class='op'>)</span>
</code></pre>
</div>
</div>
<p>O vídeo abaixo apresenta o resultado da interface.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/u1AQoCEfOF0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
</section>
</div>
<p>Existem outras formas de chamar as rotinas em <em>Python</em>, <em>C++</em> e <em>Tcl/Tk</em> no <a href="http://r-project.org/" target="_blank">R</a>, implementadas nos pacotes <a href="https://rstudio.github.io/reticulate/" target="_blank">reticulate</a>, <a href="http://www.rcpp.org/" target="_blank">Rcpp</a> e <em>tcltk</em>, respecitvamente. Contudo, iremos apresentá-los no módulo <a href="navancado.html" target="_blank">Programação em R (Nível Avançado)</a>, bem como a integração de outras linguagens.</p>
<div class="sourceCode" id="cb272"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<h1 id="consideracoes"><i class="fas fa-calendar-minus"></i> Considerações e preparação para o módulo Programação em R (Nível Intermediário)</h1>
<iframe width="560" height="315" src="https://www.youtube.com/embed/tpD24tYMNw0" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
</iframe>
<p>Nesse módulo, tentamos tratar as ideias básicas por trás dos três princípios do <a href="http://r-project.org/" target="_blank">R</a>, mas principalmente os fundamentos de um objeto e a ideia sobre função. Tentamos repassar algo mais técnico sobre esta linguagem. Contudo, sabemos que algo introdutório deve ter uma flexibilidade quanto a profundidade das discussões e exemplos abordados. Mesmo assim, esse módulo dará suporte para problemas mais complexos que abordaremos para os módulos seguintes.</p>
<p>Faremos constantemente atualizações, quando necessárias, para melhorar esse material, e assim, auxiliar nos estudos de quem desejar entrar no mundo da linguagem <code>R</code>. Para isso, pedimos também a sua contribuição como leitor. Caso encontre alguma discordância nesse material ou complementos sobre a discussão, entre em contato pelas nossas redes sociais, como também por email: <a href="mailto:ben.deivide@ufsj.edu.br" target="_blank">ben.deivide@ufsj.edu.br</a>. Será muito bom podermos compartilhar as nossas experiências, uma vez que o <em>conhecimento é uma liberdade necessária</em>.</p>
<p>Na Figura <a href="#fig:rworks1">20</a>, apresentamos um resumo do que vem para o módulo <a href="#nintermediario.html">Programação em R (Nível Intermediário)</a>.</p>
<div class="layout-chunk" data-layout="l-body">
<div class="figure" style="text-align: center"><span id="fig:rworks1"></span>
<img src="images/rworks2.png" alt="Relembrando como o `R` funciona." width="110%" />
<p class="caption">
Figure 20: Relembrando como o <code>R</code> funciona.
</p>
</div>
</div>
<p>Dentre os assuntos abordados, teremos:</p>
<ul>
<li>Aprofundamento sobre os objetos, associando-os com a tipagem da linguagem <em>C</em>;</li>
<li>Cópias de objetos;</li>
<li>Aprofundamento sobre Ambientes;</li>
<li>Programação Orientada a objetos, bem como estudo de Métodos e Classes;</li>
<li>Programação Funcional:
<ul>
<li>Evitando loops;</li>
<li>Eficiência;</li>
<li>Programando em baixo nível;</li>
<li>Programação defensiva;</li>
</ul></li>
<li>Introdução a Criação de Pacotes;</li>
<li>Gráficos;</li>
<li>Criação de documentos estáticas e dinâmicas;</li>
</ul>
<p>Dessa forma, agradecemos imensamente o interesse como leitor, e também lhe provoco para participar juntamente conosco nessa propagação de conhecimento. <a href="nintermediario.html" target="_blank">Até o próximo módulo!</a></p>
<div class="sourceCode" id="cb273"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<div class="sourceCode" id="cb274"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography">
<div id="ref-chambers2016" class="csl-entry" role="doc-biblioentry">
Chambers, John M. 2016. <em>Extending <span>R</span></em>. The <span>R</span> <span>S</span>eries. Boca Raton, Florida: Chapman; Hall/CRC.
</div>
<div id="ref-paradis2005" class="csl-entry" role="doc-biblioentry">
Paradis, Emmanuel. 2005. <span>“<span>R</span> for Beginners.”</span> <a href="https://cran.r-project.org/doc/contrib/Paradis-rdebuts_en.pdf">https://cran.r-project.org/doc/contrib/Paradis-rdebuts_en.pdf</a>.
</div>
<div id="ref-hadley2015" class="csl-entry" role="doc-biblioentry">
Wickham, Hadley. 2015. <em><span>R</span> Packages</em>. 2nd ed. O’Reilly Media. <a href="https://r-pkgs.org/index.html">https://r-pkgs.org/index.html</a>.
</div>
<div id="ref-hadley2019" class="csl-entry" role="doc-biblioentry">
———. 2019. <em>Advanced <span>R</span></em>. 2nd ed. Boca Raton, Florida: Chapman; Hall/CRC. <a href="https://adv-r.hadley.nz/">https://adv-r.hadley.nz/</a>.
</div>
</div>
<section class="footnotes" role="doc-endnotes">
<hr />
<ol>
<li id="fn1" role="doc-endnote"><p>Fonte das fotos: Robert Gentleman do site: <a href="https://biocasia2020.bioconductor.org/" class="uri">https://biocasia2020.bioconductor.org/</a> e Ross Ihaka do site: <a href="https://www.stat.auckland.ac.nz/en/about/news-and-events-5/news/news-2017/2017/12/ross-ihaka-retires.html" class="uri">https://www.stat.auckland.ac.nz/en/about/news-and-events-5/news/news-2017/2017/12/ross-ihaka-retires.html</a><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2" role="doc-endnote"><p>Fontes: <a href="https://cran.r-project.org/doc/html/interface98-paper/paper_2.html" class="uri">https://cran.r-project.org/doc/html/interface98-paper/paper_2.html</a> e <a href="https://www.r-project.org/contributors.html" class="uri">https://www.r-project.org/contributors.html</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3" role="doc-endnote"><p>Fonte: <a href="https://stat.ethz.ch/pipermail/r-announce/1997/000001.html" class="uri">https://stat.ethz.ch/pipermail/r-announce/1997/000001.html</a><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4" role="doc-endnote"><p>Fonte: <a href="https://www.gnu.org/philosophy/free-sw.html" class="uri">https://www.gnu.org/philosophy/free-sw.html</a><a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5" role="doc-endnote"><p>Fonte: <a href="https://www.gnu.org/philosophy/open-source-misses-the-point.html" class="uri">https://www.gnu.org/philosophy/open-source-misses-the-point.html</a><a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6" role="doc-endnote"><p>Fonte: <a href="https://www.gnu.org/philosophy/open-source-misses-the-point.html" class="uri">https://www.gnu.org/philosophy/open-source-misses-the-point.html</a><a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn7" role="doc-endnote"><p><a href="https://cran.r-project.org/doc/html/interface98-paper/paper_1.html" class="uri">https://cran.r-project.org/doc/html/interface98-paper/paper_1.html</a><a href="#fnref7" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn8" role="doc-endnote"><p><a href="https://cran.r-project.org/doc/html/interface98-paper/paper_1.html" class="uri">https://cran.r-project.org/doc/html/interface98-paper/paper_1.html</a><a href="#fnref8" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn9" role="doc-endnote"><p>Fonte da foto: <a href="https://rstudio.com/speakers/j.j.-allaire/" class="uri">https://rstudio.com/speakers/j.j.-allaire/</a><a href="#fnref9" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn10" role="doc-endnote"><p>Do <em>ingles</em>, Integrated Development Environment, que significa Ambiente de Desenvolvimento Integrado, como por exemplo, o RStudio, Emacs, dentre outros, para o <code>R</code>.<a href="#fnref10" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn11" role="doc-endnote"><p>Comprehensive R Archive Network<a href="#fnref11" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn12" role="doc-endnote"><p>Fonte da foto: <a href="https://www.ufpr.br/portalufpr/noticias/disciplinas-transversais-para-programas-de-pos-graduacao-abrem-inscricoes-nesta-segunda-feira/" class="uri">https://www.ufpr.br/portalufpr/noticias/disciplinas-transversais-para-programas-de-pos-graduacao-abrem-inscricoes-nesta-segunda-feira/</a><a href="#fnref12" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn13" role="doc-endnote"><p>Fonte da foto: Retirada de sua página pessoal, <a href="https://statweb.stanford.edu/~jmc4/">https://statweb.stanford.edu/~jmc4/</a><a href="#fnref13" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn14" role="doc-endnote"><p>Basta usar a função <code>invisible(10 + 15)</code>, que a expressão é avaliada mas não impressa<a href="#fnref14" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn15" role="doc-endnote"><p>ou também <code>double</code>, usando a função <code>typeof()</code><a href="#fnref15" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn16" role="doc-endnote"><p>sinônimo: <em>string</em>, cadeia de caracteres.<a href="#fnref16" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn17" role="doc-endnote"><p>Diferente de outras linguagens, como a <code>C</code>, que o contador começa do número 0.<a href="#fnref17" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn18" role="doc-endnote"><p>Para esse caso, use <code>mode()</code> para verificar.<a href="#fnref18" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn19" role="doc-endnote"><p>A anexação de um pacote no caminho de busca pressupõe que este esteja instalado no seu computador<a href="#fnref19" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn20" role="doc-endnote"><p>Use a função <code>typeof()</code> para verificar.<a href="#fnref20" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn21" role="doc-endnote"><p>Use a função <code>typeof()</code> para verificar.<a href="#fnref21" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn22" role="doc-endnote"><p>Use <code>typeof()</code> para verificar o modo.<a href="#fnref22" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom">
<h3 id="references">References</h3>
<div id="references-listing"></div>
</div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<div class="distill-site-nav distill-site-footer">
<p><a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/"><img alt="Licença Creative Commons" style="border-width:0" src="https://i.creativecommons.org/l/by-nc/4.0/88x31.png" /></a><br />Este trabalho está licenciado com uma Licença <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">Creative Commons - Atribuição-NãoComercial 4.0 Internacional</a>.</p>
<!-- hitwebcounter Code START -->
<p><a href="https://www.hitwebcounter.com" target="_blank"> <img src="https://hitwebcounter.com/counter/counter.php?page=7835102&style=0010&nbdigits=9&type=page&initCount=1000" title="Free Counter" Alt="web counter"   border="0" /></a></p>
</div>
<!--/radix_placeholder_navigation_after_body-->


</body>

</html>
